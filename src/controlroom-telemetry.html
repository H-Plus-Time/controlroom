<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="controlroom-app.html"><dom-module id="nvd3-shared-styles" assetpath="../bower_components/nvd3-elements/"><template><style>#svg .nvd3 .nv-axis{pointer-events:none;opacity:1;}#svg .nvd3 .nv-axis path{fill:none;stroke:#000;stroke-opacity:.75;shape-rendering:crispEdges;}#svg .nvd3 .nv-axis path.domain{stroke-opacity:.75;}#svg .nvd3 .nv-axis.nv-x path.domain{stroke-opacity:0;}#svg .nvd3 .nv-axis line{fill:none;stroke:#e5e5e5;shape-rendering:crispEdges;}#svg .nvd3 .nv-axis .zero line,
      /*this selector may not be necessary*/

      #svg .nvd3 .nv-axis line.zero{stroke-opacity:.75;}#svg .nvd3 .nv-axis .nv-axisMaxMin text{font-weight:bold;}#svg .nvd3 .x .nv-axis .nv-axisMaxMin text,
      #svg .nvd3 .x2 .nv-axis .nv-axisMaxMin text,
      #svg .nvd3 .x3 .nv-axis .nv-axisMaxMin text{text-anchor:middle;}#svg .nvd3 .nv-axis.nv-disabled{opacity:0;}#svg .nvd3 .nv-bars rect{fill-opacity:.75;transition:fill-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear;}#svg .nvd3 .nv-bars rect.hover{fill-opacity:1;}#svg .nvd3 .nv-bars .hover rect{fill:lightblue;}#svg .nvd3 .nv-bars text{fill:rgba(0, 0, 0, 0);}#svg .nvd3 .nv-bars .hover text{fill:rgba(0, 0, 0, 1);}#svg .nvd3 .nv-multibar .nv-groups rect,
      #svg .nvd3 .nv-multibarHorizontal .nv-groups rect,
      #svg .nvd3 .nv-discretebar .nv-groups rect{stroke-opacity:0;transition:fill-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear;}#svg .nvd3 .nv-multibar .nv-groups rect:hover,
      #svg .nvd3 .nv-multibarHorizontal .nv-groups rect:hover,
      #svg .nvd3 .nv-candlestickBar .nv-ticks rect:hover,
      #svg .nvd3 .nv-discretebar .nv-groups rect:hover{fill-opacity:1;}#svg .nvd3 .nv-discretebar .nv-groups text,
      #svg .nvd3 .nv-multibarHorizontal .nv-groups text{font-weight:bold;fill:rgba(0, 0, 0, 1);stroke:rgba(0, 0, 0, 0);}#svg .nvd3 .nv-boxplot circle{fill-opacity:0.5;}#svg .nvd3 .nv-boxplot circle:hover{fill-opacity:1;}#svg .nvd3 .nv-boxplot rect:hover{fill-opacity:1;}#svg .nvd3 line.nv-boxplot-median{stroke:black;}#svg .nv-boxplot-tick:hover{stroke-width:2.5px;}#svg .nvd3.nv-bullet{font:10px sans-serif;}#svg .nvd3.nv-bullet .nv-measure{fill-opacity:.8;}#svg .nvd3.nv-bullet .nv-measure:hover{fill-opacity:1;}#svg .nvd3.nv-bullet .nv-marker{stroke:#000;stroke-width:2px;}#svg .nvd3.nv-bullet .nv-markerTriangle{stroke:#000;fill:#fff;stroke-width:1.5px;}#svg .nvd3.nv-bullet .nv-tick line{stroke:#666;stroke-width:.5px;}#svg .nvd3.nv-bullet .nv-range.nv-s0{fill:#eee;}#svg .nvd3.nv-bullet .nv-range.nv-s1{fill:#ddd;}#svg .nvd3.nv-bullet .nv-range.nv-s2{fill:#ccc;}#svg .nvd3.nv-bullet .nv-title{font-size:14px;font-weight:bold;}#svg .nvd3.nv-bullet .nv-subtitle{fill:#999;}#svg .nvd3.nv-bullet .nv-range{fill:#bababa;fill-opacity:.4;}#svg .nvd3.nv-bullet .nv-range:hover{fill-opacity:.7;}#svg .nvd3.nv-candlestickBar .nv-ticks .nv-tick{stroke-width:1px;}#svg .nvd3.nv-candlestickBar .nv-ticks .nv-tick.hover{stroke-width:2px;}#svg .nvd3.nv-candlestickBar .nv-ticks .nv-tick.positive rect{stroke:#2ca02c;fill:#2ca02c;}#svg .nvd3.nv-candlestickBar .nv-ticks .nv-tick.negative rect{stroke:#d62728;fill:#d62728;}#svg .with-transitions .nv-candlestickBar .nv-ticks .nv-tick{transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;}#svg .nvd3.nv-candlestickBar .nv-ticks line{stroke:#333;}#svg .nvd3 .nv-legend .nv-disabled rect{}#svg .nvd3 .nv-check-box .nv-box{fill-opacity:0;stroke-width:2;}#svg .nvd3 .nv-check-box .nv-check{fill-opacity:0;stroke-width:4;}#svg .nvd3 .nv-series.nv-disabled .nv-check-box .nv-check{fill-opacity:0;stroke-opacity:0;}#svg .nvd3 .nv-controlsWrap .nv-legend .nv-check-box .nv-check{opacity:0;}#svg .nvd3.nv-linePlusBar .nv-bar rect{fill-opacity:.75;}#svg .nvd3.nv-linePlusBar .nv-bar rect:hover{fill-opacity:1;}#svg .nvd3 .nv-groups path.nv-line{fill:none;}#svg .nvd3 .nv-groups path.nv-area{stroke:none;}#svg .nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point{fill-opacity:0;stroke-opacity:0;}#svg .nvd3.nv-scatter.nv-single-point .nv-groups .nv-point{fill-opacity:.5 !important;stroke-opacity:.5 !important;}#svg .with-transitions .nvd3 .nv-groups .nv-point{transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;}#svg .nvd3.nv-scatter .nv-groups .nv-point.hover,
      #svg .nvd3 .nv-groups .nv-point.hover{stroke-width:7px;fill-opacity:.95 !important;stroke-opacity:.95 !important;}#svg .nvd3 .nv-point-paths path{stroke:#aaa;stroke-opacity:0;fill:#eee;fill-opacity:0;}#svg .nvd3 .nv-indexLine{cursor:ew-resize;}#svg{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;display:block;width:100%;height:100%;}#svg .nvtooltip.with-3d-shadow,
      #svg .with-3d-shadow .nvtooltip{-moz-box-shadow:0 5px 10px rgba(0, 0, 0, .2);-webkit-box-shadow:0 5px 10px rgba(0, 0, 0, .2);box-shadow:0 5px 10px rgba(0, 0, 0, .2);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;}#svg .nvd3 text{font:normal 12px Arial;}#svg .nvd3 .title{font:bold 14px Arial;}#svg .nvd3 .nv-background{fill:white;fill-opacity:0;}#svg .nvd3.nv-noData{font-size:18px;font-weight:bold;}#svg .nv-brush .extent{fill-opacity:.125;shape-rendering:crispEdges;}#svg .nv-brush .resize path{fill:#eee;stroke:#666;}#svg .nvd3 .nv-legend .nv-series{cursor:pointer;}#svg .nvd3 .nv-legend .nv-disabled circle{fill-opacity:0;}#svg .nvd3 .nv-brush .extent{fill-opacity:0 !important;}#svg .nvd3 .nv-brushBackground rect{stroke:#000;stroke-width:.4;fill:#fff;fill-opacity:.7;}#svg .nvd3.nv-ohlcBar .nv-ticks .nv-tick{stroke-width:1px;}#svg .nvd3.nv-ohlcBar .nv-ticks .nv-tick.hover{stroke-width:2px;}#svg .nvd3.nv-ohlcBar .nv-ticks .nv-tick.positive{stroke:#2ca02c;}#svg .nvd3.nv-ohlcBar .nv-ticks .nv-tick.negative{stroke:#d62728;}#svg .nvd3 .background path{fill:none;stroke:#EEE;stroke-opacity:.4;shape-rendering:crispEdges;}#svg .nvd3 .foreground path{fill:none;stroke-opacity:.7;}#svg .nvd3 .nv-parallelCoordinates-brush .extent{fill:#fff;fill-opacity:.6;stroke:gray;shape-rendering:crispEdges;}#svg .nvd3 .nv-parallelCoordinates .hover{fill-opacity:1;stroke-width:3px;}#svg .nvd3 .missingValuesline line{fill:none;stroke:black;stroke-width:1;stroke-opacity:1;stroke-dasharray:5, 5;}#svg .nvd3.nv-pie path{stroke-opacity:0;transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;}#svg .nvd3.nv-pie .nv-pie-title{font-size:24px;fill:rgba(19, 196, 249, 0.59);}#svg .nvd3.nv-pie .nv-slice text{stroke:#000;stroke-width:0;}#svg .nvd3.nv-pie path{stroke:#fff;stroke-width:1px;stroke-opacity:1;}#svg .nvd3.nv-pie .hover path{fill-opacity:.7;}#svg .nvd3.nv-pie .nv-label{pointer-events:none;}#svg .nvd3.nv-pie .nv-label rect{fill-opacity:0;stroke-opacity:0;}#svg .nvd3 .nv-groups .nv-point.hover{stroke-width:20px;stroke-opacity:.5;}#svg .nvd3 .nv-scatter .nv-point.hover{fill-opacity:1;}#svg .nv-noninteractive{pointer-events:none;}#svg .nv-distx,
      #svg .nv-disty{pointer-events:none;}#svg .nvd3.nv-sparkline path{fill:none;}#svg .nvd3.nv-sparklineplus g.nv-hoverValue{pointer-events:none;}#svg .nvd3.nv-sparklineplus .nv-hoverValue line{stroke:#333;stroke-width:1.5px;}#svg .nvd3.nv-sparklineplus,
      #svg .nvd3.nv-sparklineplus g{pointer-events:all;}#svg .nvd3 .nv-hoverArea{fill-opacity:0;stroke-opacity:0;}#svg .nvd3.nv-sparklineplus .nv-xValue,
      #svg .nvd3.nv-sparklineplus .nv-yValue{stroke-width:0;font-size:.9em;font-weight:normal;}#svg .nvd3.nv-sparklineplus .nv-yValue{stroke:#f66;}#svg .nvd3.nv-sparklineplus .nv-maxValue{stroke:#2ca02c;fill:#2ca02c;}#svg .nvd3.nv-sparklineplus .nv-minValue{stroke:#d62728;fill:#d62728;}#svg .nvd3.nv-sparklineplus .nv-currentValue{font-weight:bold;font-size:1.1em;}#svg .nvd3.nv-stackedarea path.nv-area{fill-opacity:.7;stroke-opacity:0;transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;}#svg .nvd3.nv-stackedarea path.nv-area.hover{fill-opacity:.9;}#svg .nvd3.nv-stackedarea .nv-groups .nv-point{stroke-opacity:0;fill-opacity:0;}#svg .nvd3 .nv-interactiveGuideLine{pointer-events:none;}#svg .nvd3 line.nv-guideline{stroke:#ccc;}</style></template></dom-module><style>.nvtooltip.with-3d-shadow,
  .with-3d-shadow .nvtooltip{-moz-box-shadow:0 5px 10px rgba(0, 0, 0, .2);-webkit-box-shadow:0 5px 10px rgba(0, 0, 0, .2);box-shadow:0 5px 10px rgba(0, 0, 0, .2);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;}.nvtooltip{position:absolute;background-color:rgba(255, 255, 255, 1.0);color:rgba(0, 0, 0, 1.0);padding:1px;border:1px solid rgba(0, 0, 0, .2);z-index:10000;display:block;font-family:Arial;font-size:13px;text-align:left;pointer-events:none;white-space:nowrap;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.nvtooltip{background:rgba(255, 255, 255, 0.8);border:1px solid rgba(0, 0, 0, 0.5);border-radius:4px;}.nvtooltip.with-transitions,
  .with-transitions .nvtooltip{transition:opacity 50ms linear;-moz-transition:opacity 50ms linear;-webkit-transition:opacity 50ms linear;transition-delay:200ms;-moz-transition-delay:200ms;-webkit-transition-delay:200ms;}nvtooltip.x-nvtooltip,
  .nvtooltip.y-nvtooltip{padding:8px;}.nvtooltip h3{margin:0;padding:4px 14px;line-height:18px;font-weight:normal;background-color:rgba(247, 247, 247, 0.75);color:rgba(0, 0, 0, 1.0);text-align:center;border-bottom:1px solid #ebebeb;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0;}.nvtooltip p{margin:0;padding:5px 14px;text-align:center;}.nvtooltip span{display:inline-block;margin:2px 0;}.nvtooltip table{margin:6px;border-spacing:0;}.nvtooltip table td{padding:2px 9px 2px 0;vertical-align:middle;}.nvtooltip table td.key{font-weight:normal;}.nvtooltip table td.value{text-align:right;font-weight:bold;}.nvtooltip table tr.highlight td{padding:1px 9px 1px 0;border-bottom-style:solid;border-bottom-width:1px;border-top-style:solid;border-top-width:1px;}.nvtooltip table td.legend-color-guide div{width:8px;height:8px;vertical-align:middle;}.nvtooltip table td.legend-color-guide div{width:12px;height:12px;border:1px solid #999;}.nvtooltip .footer{padding:3px;text-align:center;}.nvtooltip-pending-removal{pointer-events:none;display:none;}</style><script>!function(){function es(r_){return r_&&(r_.ownerDocument||r_.document||r_).documentElement}function ts(r_){return r_&&(r_.ownerDocument&&r_.ownerDocument.defaultView||r_.document&&r_||r_.defaultView)}function ns(r_,i_){return i_>r_?-1:r_>i_?1:r_>=i_?0:NaN}function as(r_){return null===r_?NaN:+r_}function ls(r_){return!isNaN(r_)}function rs(r_){return{left:function(i_,o_,s_,d_){for(3>arguments.length&&(s_=0),4>arguments.length&&(d_=i_.length);d_>s_;){var p_=s_+d_>>>1;0>r_(i_[p_],o_)?s_=p_+1:d_=p_}return s_},right:function(i_,o_,s_,d_){for(3>arguments.length&&(s_=0),4>arguments.length&&(d_=i_.length);d_>s_;){var p_=s_+d_>>>1;0<r_(i_[p_],o_)?d_=p_:s_=p_+1}return s_}}}function is(r_){return r_.length}function os(r_){for(var i_=1;r_*i_%1;)i_*=10;return i_}function ss(r_,i_){for(var o_ in i_)Object.defineProperty(r_.prototype,o_,{value:i_[o_],enumerable:!1})}function ds(){this._=Object.create(null)}function ps(r_){return(r_+="")===bm||r_[0]===wm?wm+r_:r_}function gs(r_){return(r_+="")[0]===wm?r_.slice(1):r_}function cs(r_){return ps(r_)in this._}function us(r_){return(r_=ps(r_))in this._&&delete this._[r_]}function hs(){var r_=[];for(var i_ in this._)r_.push(gs(i_));return r_}function ys(){var r_=0;for(var i_ in this._)++r_;return r_}function ms(){for(var r_ in this._)return!1;return!0}function fs(){this._=Object.create(null)}function xs(r_){return r_}function _s(r_,i_,o_){return function(){var s_=o_.apply(i_,arguments);return s_===i_?r_:s_}}function vs(r_,i_){if(i_ in r_)return i_;i_=i_.charAt(0).toUpperCase()+i_.slice(1);for(var d_,o_=0,s_=Sm.length;s_>o_;++o_)if(d_=Sm[o_]+i_,d_ in r_)return d_}function bs(){}function ws(){}function Ss(r_){function i_(){for(var d_,p_=o_,g_=-1,c_=p_.length;++g_<c_;)(d_=p_[g_].on)&&d_.apply(this,arguments);return r_}var o_=[],s_=new ds;return i_.on=function(d_,p_){var g_,c_=s_.get(d_);return 2>arguments.length?c_&&c_.on:(c_&&(c_.on=null,o_=o_.slice(0,g_=o_.indexOf(c_)).concat(o_.slice(g_+1)),s_.remove(d_)),p_&&o_.push(s_.set(d_,{on:p_})),r_)},i_}function Es(){pm.event.preventDefault()}function ks(){for(var r_,i_=pm.event;r_=i_.sourceEvent;)i_=r_;return i_}function Cs(r_){for(var i_=new ws,o_=0,s_=arguments.length;++o_<s_;)i_[arguments[o_]]=Ss(i_);return i_.of=function(d_,p_){return function(g_){try{var c_=g_.sourceEvent=pm.event;g_.target=r_,pm.event=g_,i_[g_.type].apply(d_,p_)}finally{pm.event=c_}}},i_}function As(r_){return km(r_,qm),r_}function Ls(r_){return"function"==typeof r_?r_:function(){return Cm(r_,this)}}function qs(r_){return"function"==typeof r_?r_:function(){return Am(r_,this)}}function zs(r_,i_){return r_=pm.ns.qualify(r_),null==i_?r_.local?function(){this.removeAttributeNS(r_.space,r_.local)}:function(){this.removeAttribute(r_)}:"function"==typeof i_?r_.local?function(){var u_=i_.apply(this,arguments);null==u_?this.removeAttributeNS(r_.space,r_.local):this.setAttributeNS(r_.space,r_.local,u_)}:function(){var u_=i_.apply(this,arguments);null==u_?this.removeAttribute(r_):this.setAttribute(r_,u_)}:r_.local?function(){this.setAttributeNS(r_.space,r_.local,i_)}:function(){this.setAttribute(r_,i_)}}function Ts(r_){return r_.trim().replace(/\s+/g," ")}function Ms(r_){return new RegExp("(?:^|\\s+)"+pm.requote(r_)+"(?:\\s+|$)","g")}function Rs(r_){return(r_+"").trim().split(/^|\s+/)}function Ns(r_,i_){r_=Rs(r_).map(Ps);var d_=r_.length;return"function"==typeof i_?function(){for(var p_=-1,g_=i_.apply(this,arguments);++p_<d_;)r_[p_](this,g_)}:function(){for(var p_=-1;++p_<d_;)r_[p_](this,i_)}}function Ps(r_){var i_=Ms(r_);return function(o_,s_){if(d_=o_.classList)return s_?d_.add(r_):d_.remove(r_);var d_=o_.getAttribute("class")||"";s_?(i_.lastIndex=0,i_.test(d_)||o_.setAttribute("class",Ts(d_+" "+r_))):o_.setAttribute("class",Ts(d_.replace(i_," ")))}}function Us(r_,i_,o_){return null==i_?function(){this.style.removeProperty(r_)}:"function"==typeof i_?function(){var g_=i_.apply(this,arguments);null==g_?this.style.removeProperty(r_):this.style.setProperty(r_,g_,o_)}:function(){this.style.setProperty(r_,i_,o_)}}function js(r_,i_){return null==i_?function(){delete this[r_]}:"function"==typeof i_?function(){var p_=i_.apply(this,arguments);null==p_?delete this[r_]:this[r_]=p_}:function(){this[r_]=i_}}function Ds(r_){return"function"==typeof r_?r_:(r_=pm.ns.qualify(r_)).local?function(){return this.ownerDocument.createElementNS(r_.space,r_.local)}:function(){var s_=this.ownerDocument,d_=this.namespaceURI;return d_===zm&&s_.documentElement.namespaceURI===zm?s_.createElement(r_):s_.createElementNS(d_,r_)}}function Hs(){var r_=this.parentNode;r_&&r_.removeChild(this)}function Os(r_){return{__data__:r_}}function Fs(r_){return function(){return Lm(this,r_)}}function Ys(r_){return arguments.length||(r_=ns),function(i_,o_){return i_&&o_?r_(i_.__data__,o_.__data__):!i_-!o_}}function Is(r_,i_){for(var o_=0,s_=r_.length;s_>o_;o_++)for(var d_,p_=r_[o_],g_=0,c_=p_.length;c_>g_;g_++)(d_=p_[g_])&&i_(d_,g_,o_);return r_}function Zs(r_){return km(r_,Mm),r_}function Vs(r_){var i_,o_;return function(s_,d_,p_){var g_,c_=r_[p_].update,u_=c_.length;for(p_!=o_&&(o_=p_,i_=0),d_>=i_&&(i_=d_+1);!(g_=c_[i_])&&++i_<u_;);return g_}}function Xs(r_,i_,o_){function s_(){var y_=this[g_];y_&&(this.removeEventListener(r_,y_,y_.$),delete this[g_])}var g_="__on"+r_,c_=r_.indexOf("."),u_=Bs;0<c_&&(r_=r_.slice(0,c_));var h_=Rm.get(r_);return h_&&(r_=h_,u_=Ws),c_?i_?function(){var y_=u_(i_,cm(arguments));s_.call(this),this.addEventListener(r_,this[g_]=y_,y_.$=o_),y_._=i_}:s_:i_?bs:function(){var y_,m_=new RegExp("^__on([^.]+)"+pm.requote(r_)+"$");for(var f_ in this)if(y_=f_.match(m_)){var x_=this[f_];this.removeEventListener(y_[1],x_,x_.$),delete this[f_]}}}function Bs(r_,i_){return function(o_){var s_=pm.event;pm.event=o_,i_[0]=this.__data__;try{r_.apply(this,i_)}finally{pm.event=s_}}}function Ws(r_,i_){var o_=Bs(r_,i_);return function(s_){var d_=this,p_=s_.relatedTarget;p_&&(p_===d_||8&p_.compareDocumentPosition(d_))||o_.call(d_,s_)}}function $s(r_){var i_=".dragsuppress-"+ ++Pm,o_="click"+i_,s_=pm.select(ts(r_)).on("touchmove"+i_,Es).on("dragstart"+i_,Es).on("selectstart"+i_,Es);if(null==Nm&&(Nm=!("onselectstart"in r_)&&vs(r_.style,"userSelect")),Nm){var d_=es(r_).style,p_=d_[Nm];d_[Nm]="none"}return function(g_){if(s_.on(i_,null),Nm&&(d_[Nm]=p_),g_){var c_=function(){s_.on(o_,null)};s_.on(o_,function(){Es(),c_()},!0),setTimeout(c_,0)}}}function Js(r_,i_){i_.changedTouches&&(i_=i_.changedTouches[0]);var o_=r_.ownerSVGElement||r_;if(o_.createSVGPoint){var s_=o_.createSVGPoint();if(0>Um){var d_=ts(r_);if(d_.scrollX||d_.scrollY){o_=pm.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var p_=o_[0][0].getScreenCTM();Um=!(p_.f||p_.e),o_.remove()}}return Um?(s_.x=i_.pageX,s_.y=i_.pageY):(s_.x=i_.clientX,s_.y=i_.clientY),s_=s_.matrixTransform(r_.getScreenCTM().inverse()),[s_.x,s_.y]}var g_=r_.getBoundingClientRect();return[i_.clientX-g_.left-r_.clientLeft,i_.clientY-g_.top-r_.clientTop]}function Gs(){return pm.event.changedTouches[0].identifier}function Ks(r_){return 0<r_?1:0>r_?-1:0}function Qs(r_,i_,o_){return(i_[0]-r_[0])*(o_[1]-r_[1])-(i_[1]-r_[1])*(o_[0]-r_[0])}function ed(r_){return 1<r_?0:-1>r_?Hm:Math.acos(r_)}function td(r_){return 1<r_?Ym:-1>r_?-Ym:Math.asin(r_)}function nd(r_){return((r_=Math.exp(r_))-1/r_)/2}function ad(r_){return((r_=Math.exp(r_))+1/r_)/2}function ld(r_){return((r_=Math.exp(2*r_))-1)/(r_+1)}function rd(r_){return(r_=Math.sin(r_/2))*r_}function id(){}function od(r_,i_,o_){return this instanceof od?(this.h=+r_,this.s=+i_,void(this.l=+o_)):2>arguments.length?r_ instanceof od?new od(r_.h,r_.s,r_.l):bd(""+r_,wd,od):new od(r_,i_,o_)}function sd(r_,i_,o_){function s_(c_){return 360<c_?c_-=360:0>c_&&(c_+=360),60>c_?p_+(g_-p_)*c_/60:180>c_?g_:240>c_?p_+(g_-p_)*(240-c_)/60:p_}function d_(c_){return Math.round(255*s_(c_))}var p_,g_;return r_=isNaN(r_)?0:0>(r_%=360)?r_+360:r_,i_=isNaN(i_)?0:0>i_?0:1<i_?1:i_,o_=0>o_?0:1<o_?1:o_,g_=.5>=o_?o_*(1+i_):o_+i_-o_*i_,p_=2*o_-g_,new fd(d_(r_+120),d_(r_),d_(r_-120))}function dd(r_,i_,o_){return this instanceof dd?(this.h=+r_,this.c=+i_,void(this.l=+o_)):2>arguments.length?r_ instanceof dd?new dd(r_.h,r_.c,r_.l):r_ instanceof gd?ud(r_.l,r_.a,r_.b):ud((r_=Sd((r_=pm.rgb(r_)).r,r_.g,r_.b)).l,r_.a,r_.b):new dd(r_,i_,o_)}function pd(r_,i_,o_){return isNaN(r_)&&(r_=0),isNaN(i_)&&(i_=0),new gd(o_,Math.cos(r_*=Im)*i_,Math.sin(r_)*i_)}function gd(r_,i_,o_){return this instanceof gd?(this.l=+r_,this.a=+i_,void(this.b=+o_)):2>arguments.length?r_ instanceof gd?new gd(r_.l,r_.a,r_.b):r_ instanceof dd?pd(r_.h,r_.c,r_.l):Sd((r_=fd(r_)).r,r_.g,r_.b):new gd(r_,i_,o_)}function cd(r_,i_,o_){var s_=(r_+16)/116,d_=s_+i_/500,p_=s_-o_/200;return d_=hd(d_)*ef,s_=hd(s_)*tf,p_=hd(p_)*nf,new fd(md(3.2404542*d_-1.5371385*s_-.4985314*p_),md(-.969266*d_+1.8760108*s_+.041556*p_),md(.0556434*d_-.2040259*s_+1.0572252*p_))}function ud(r_,i_,o_){return 0<r_?new dd(Math.atan2(o_,i_)*Zm,Math.sqrt(i_*i_+o_*o_),r_):new dd(NaN,NaN,r_)}function hd(r_){return .206893034<r_?r_*r_*r_:(r_-4/29)/7.787037}function yd(r_){return .008856<r_?Math.pow(r_,1/3):7.787037*r_+4/29}function md(r_){return Math.round(255*(.00304>=r_?12.92*r_:1.055*Math.pow(r_,1/2.4)-.055))}function fd(r_,i_,o_){return this instanceof fd?(this.r=~~r_,this.g=~~i_,void(this.b=~~o_)):2>arguments.length?r_ instanceof fd?new fd(r_.r,r_.g,r_.b):bd(""+r_,fd,sd):new fd(r_,i_,o_)}function xd(r_){return new fd(r_>>16,255&r_>>8,255&r_)}function _d(r_){return xd(r_)+""}function vd(r_){return 16>r_?"0"+Math.max(0,r_).toString(16):Math.min(255,r_).toString(16)}function bd(r_,i_,o_){var s_,d_,p_,g_=0,c_=0,u_=0;if(s_=/([a-z]+)\((.*)\)/.exec(r_=r_.toLowerCase()))switch(d_=s_[2].split(","),s_[1]){case"hsl":return o_(parseFloat(d_[0]),parseFloat(d_[1])/100,parseFloat(d_[2])/100);case"rgb":return i_(kd(d_[0]),kd(d_[1]),kd(d_[2]));}return(p_=rf.get(r_))?i_(p_.r,p_.g,p_.b):(null==r_||"#"!==r_.charAt(0)||isNaN(p_=parseInt(r_.slice(1),16))||(4===r_.length?(g_=(3840&p_)>>4,g_=g_>>4|g_,c_=240&p_,c_=c_>>4|c_,u_=15&p_,u_=u_<<4|u_):7===r_.length&&(g_=(16711680&p_)>>16,c_=(65280&p_)>>8,u_=255&p_)),i_(g_,c_,u_))}function wd(r_,i_,o_){var s_,d_,p_=Math.min(r_/=255,i_/=255,o_/=255),g_=Math.max(r_,i_,o_),c_=g_-p_,u_=(g_+p_)/2;return c_?(d_=.5>u_?c_/(g_+p_):c_/(2-g_-p_),s_=r_==g_?(i_-o_)/c_+(o_>i_?6:0):i_==g_?(o_-r_)/c_+2:(r_-i_)/c_+4,s_*=60):(s_=NaN,d_=0<u_&&1>u_?0:s_),new od(s_,d_,u_)}function Sd(r_,i_,o_){r_=Ed(r_),i_=Ed(i_),o_=Ed(o_);var s_=yd((.4124564*r_+.3575761*i_+.1804375*o_)/ef),d_=yd((.2126729*r_+.7151522*i_+.072175*o_)/tf),p_=yd((.0193339*r_+.119192*i_+.9503041*o_)/nf);return gd(116*d_-16,500*(s_-d_),200*(d_-p_))}function Ed(r_){return .04045>=(r_/=255)?r_/12.92:Math.pow((r_+.055)/1.055,2.4)}function kd(r_){var i_=parseFloat(r_);return"%"===r_.charAt(r_.length-1)?Math.round(2.55*i_):i_}function Cd(r_){return"function"==typeof r_?r_:function(){return r_}}function Ad(r_){return function(i_,o_,s_){return 2===arguments.length&&"function"==typeof o_&&(s_=o_,o_=null),Ld(i_,o_,r_,s_)}}function Ld(r_,i_,o_,s_){function d_(){var y_,m_=u_.status;if(!m_&&zd(u_)||200<=m_&&300>m_||304===m_){try{y_=o_.call(p_,u_)}catch(f_){return void g_.error.call(p_,f_)}g_.load.call(p_,y_)}else g_.error.call(p_,u_)}var p_={},g_=pm.dispatch("beforesend","progress","load","error"),c_={},u_=new XMLHttpRequest,h_=null;return!this.XDomainRequest||"withCredentials"in u_||!/^(http(s)?:)?\/\//.test(r_)||(u_=new XDomainRequest),"onload"in u_?u_.onload=u_.onerror=d_:u_.onreadystatechange=function(){3<u_.readyState&&d_()},u_.onprogress=function(y_){var m_=pm.event;pm.event=y_;try{g_.progress.call(p_,u_)}finally{pm.event=m_}},p_.header=function(y_,m_){return y_=(y_+"").toLowerCase(),2>arguments.length?c_[y_]:(null==m_?delete c_[y_]:c_[y_]=m_+"",p_)},p_.mimeType=function(y_){return arguments.length?(i_=null==y_?null:y_+"",p_):i_},p_.responseType=function(y_){return arguments.length?(h_=y_,p_):h_},p_.response=function(y_){return o_=y_,p_},["get","post"].forEach(function(y_){p_[y_]=function(){return p_.send.apply(p_,[y_].concat(cm(arguments)))}}),p_.send=function(y_,m_,f_){if(2===arguments.length&&"function"==typeof m_&&(f_=m_,m_=null),u_.open(y_,r_,!0),null==i_||"accept"in c_||(c_.accept=i_+",*/*"),u_.setRequestHeader)for(var x_ in c_)u_.setRequestHeader(x_,c_[x_]);return null!=i_&&u_.overrideMimeType&&u_.overrideMimeType(i_),null!=h_&&(u_.responseType=h_),null!=f_&&p_.on("error",f_).on("load",function(__){f_(null,__)}),g_.beforesend.call(p_,u_),u_.send(null==m_?null:m_),p_},p_.abort=function(){return u_.abort(),p_},pm.rebind(p_,g_,"on"),null==s_?p_:p_.get(qd(s_))}function qd(r_){return 1===r_.length?function(i_,o_){r_(null==i_?o_:null)}:r_}function zd(r_){var i_=r_.responseType;return i_&&"text"!==i_?r_.response:r_.responseText}function Td(r_,i_,o_){var s_=arguments.length;2>s_&&(i_=0),3>s_&&(o_=Date.now());var d_=o_+i_,p_={c:r_,t:d_,n:null};return sf?sf.n=p_:of=p_,sf=p_,df||(pf=clearTimeout(pf),df=1,gf(Md)),p_}function Md(){var r_=Rd(),i_=Nd()-r_;24<i_?(isFinite(i_)&&(clearTimeout(pf),pf=setTimeout(Md,i_)),df=0):(df=1,gf(Md))}function Rd(){for(var r_=Date.now(),i_=of;i_;)r_>=i_.t&&i_.c(r_-i_.t)&&(i_.c=null),i_=i_.n;return r_}function Nd(){for(var r_,i_=of,o_=1/0;i_;)i_.c?(i_.t<o_&&(o_=i_.t),i_=(r_=i_).n):i_=r_?r_.n=i_.n:of=i_.n;return sf=r_,o_}function Pd(r_,i_){return i_-(r_?Math.ceil(Math.log(r_)/Math.LN10):1)}function jd(r_){var i_=r_.decimal,o_=r_.thousands,s_=r_.grouping,d_=r_.currency,p_=s_&&o_?function(g_,c_){for(var u_=g_.length,h_=[],y_=0,m_=s_[0],f_=0;0<u_&&0<m_&&(f_+m_+1>c_&&(m_=Math.max(1,c_-f_)),h_.push(g_.substring(u_-=m_,u_+m_)),!((f_+=m_+1)>c_));)m_=s_[y_=(y_+1)%s_.length];return h_.reverse().join(o_)}:xs;return function(g_){var c_=uf.exec(g_),u_=c_[1]||" ",h_=c_[2]||">",y_=c_[3]||"-",m_=c_[4]||"",f_=c_[5],x_=+c_[6],__=c_[7],v_=c_[8],b_=c_[9],w_=1,S_="",E_="",k_=!1,C_=!0;switch(v_&&(v_=+v_.substring(1)),(f_||"0"===u_&&"="===h_)&&(f_=u_="0",h_="="),b_){case"n":__=!0,b_="g";break;case"%":w_=100,E_="%",b_="f";break;case"p":w_=100,E_="%",b_="r";break;case"b":case"o":case"x":case"X":"#"===m_&&(S_="0"+b_.toLowerCase());case"c":C_=!1;case"d":k_=!0,v_=0;break;case"s":w_=-1,b_="r";}"$"===m_&&(S_=d_[0],E_=d_[1]),"r"!=b_||v_||(b_="g"),null!=v_&&("g"==b_?v_=Math.max(1,Math.min(21,v_)):"e"!=b_&&"f"!=b_||(v_=Math.max(0,Math.min(20,v_)))),b_=hf.get(b_)||Dd;var A_=f_&&__;return function(L_){var q_=E_;if(k_&&L_%1)return"";var z_=0>L_||0===L_&&0>1/L_?(L_=-L_,"-"):"-"===y_?"":y_;if(0>w_){var T_=pm.formatPrefix(L_,v_);L_=T_.scale(L_),q_=T_.symbol+E_}else L_*=w_;L_=b_(L_,v_);var M_,R_,N_=L_.lastIndexOf(".");if(0>N_){var P_=C_?L_.lastIndexOf("e"):-1;0>P_?(M_=L_,R_=""):(M_=L_.substring(0,P_),R_=L_.substring(P_))}else M_=L_.substring(0,N_),R_=i_+L_.substring(N_+1);!f_&&__&&(M_=p_(M_,1/0));var U_=S_.length+M_.length+R_.length+(A_?0:z_.length),j_=x_>U_?Array(U_=x_-U_+1).join(u_):"";return A_&&(M_=p_(j_+M_,j_.length?x_-R_.length:1/0)),z_+=S_,L_=M_+R_,("<"===h_?z_+L_+j_:">"===h_?j_+z_+L_:"^"===h_?j_.substring(0,U_>>=1)+z_+L_+j_.substring(U_):z_+(A_?L_:j_+L_))+q_}}}function Dd(r_){return r_+""}function Hd(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Od(r_,i_,o_){function s_(h_){var y_=r_(h_),m_=p_(y_,1);return m_-h_>h_-y_?y_:m_}function d_(h_){return i_(h_=r_(new mf(h_-1)),1),h_}function p_(h_,y_){return i_(h_=new mf(+h_),y_),h_}function g_(h_,y_,m_){var f_=d_(h_),x_=[];if(1<m_)for(;y_>f_;)o_(f_)%m_||x_.push(new Date(+f_)),i_(f_,1);else for(;y_>f_;)x_.push(new Date(+f_)),i_(f_,1);return x_}r_.floor=r_,r_.round=s_,r_.ceil=d_,r_.offset=p_,r_.range=g_;var u_=r_.utc=Fd(r_);return u_.floor=u_,u_.round=Fd(s_),u_.ceil=Fd(d_),u_.offset=Fd(p_),u_.range=function(h_,y_,m_){try{mf=Hd;var f_=new Hd;return f_._=h_,g_(f_,y_,m_)}finally{mf=Date}},r_}function Fd(r_){return function(i_,o_){try{mf=Hd;var s_=new Hd;return s_._=i_,r_(s_,o_)._}finally{mf=Date}}}function Yd(r_){function i_(P_){function U_(D_){for(var H_,O_,F_,Y_=[],I_=-1,Z_=0;++I_<j_;)37===P_.charCodeAt(I_)&&(Y_.push(P_.slice(Z_,I_)),null!=(O_=xf[H_=P_.charAt(++I_)])&&(H_=P_.charAt(++I_)),(F_=R_[H_])&&(H_=F_(D_,null==O_?"e"===H_?" ":"0":O_)),Y_.push(H_),Z_=I_+1);return Y_.push(P_.slice(Z_,I_)),Y_.join("")}var j_=P_.length;return U_.parse=function(D_){var H_={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},O_=o_(H_,P_,D_,0);if(O_!=D_.length)return null;"p"in H_&&(H_.H=H_.H%12+12*H_.p);var F_=null!=H_.Z&&mf!==Hd,Y_=new(F_?Hd:mf);return"j"in H_?Y_.setFullYear(H_.y,0,H_.j):"W"in H_||"U"in H_?("w"in H_||(H_.w="W"in H_?1:0),Y_.setFullYear(H_.y,0,1),Y_.setFullYear(H_.y,0,"W"in H_?(H_.w+6)%7+7*H_.W-(Y_.getDay()+5)%7:H_.w+7*H_.U-(Y_.getDay()+6)%7)):Y_.setFullYear(H_.y,H_.m,H_.d),Y_.setHours(H_.H+(0|H_.Z/100),H_.M+H_.Z%100,H_.S,H_.L),F_?Y_._:Y_},U_.toString=function(){return P_},U_}function o_(P_,U_,j_,D_){for(var H_,O_,F_,Y_=0,I_=U_.length,Z_=j_.length;I_>Y_;){if(D_>=Z_)return-1;if(H_=U_.charCodeAt(Y_++),37===H_){if(F_=U_.charAt(Y_++),O_=N_[F_ in xf?U_.charAt(Y_++):F_],!O_||0>(D_=O_(P_,j_,D_)))return-1;}else if(H_!=j_.charCodeAt(D_++))return-1}return D_}var m_=r_.dateTime,f_=r_.date,x_=r_.time,__=r_.periods,v_=r_.days,b_=r_.shortDays,w_=r_.months,S_=r_.shortMonths;i_.utc=function(P_){function U_(D_){try{mf=Hd;var H_=new mf;return H_._=D_,j_(H_)}finally{mf=Date}}var j_=i_(P_);return U_.parse=function(D_){try{mf=Hd;var H_=j_.parse(D_);return H_&&H_._}finally{mf=Date}},U_.toString=j_.toString,U_},i_.multi=i_.utc.multi=sp;var E_=pm.map(),k_=Zd(v_),C_=Vd(v_),A_=Zd(b_),L_=Vd(b_),q_=Zd(w_),z_=Vd(w_),T_=Zd(S_),M_=Vd(S_);__.forEach(function(P_,U_){E_.set(P_.toLowerCase(),U_)});var R_={a:function(P_){return b_[P_.getDay()]},A:function(P_){return v_[P_.getDay()]},b:function(P_){return S_[P_.getMonth()]},B:function(P_){return w_[P_.getMonth()]},c:i_(m_),d:function(P_,U_){return Id(P_.getDate(),U_,2)},e:function(P_,U_){return Id(P_.getDate(),U_,2)},H:function(P_,U_){return Id(P_.getHours(),U_,2)},I:function(P_,U_){return Id(P_.getHours()%12||12,U_,2)},j:function(P_,U_){return Id(1+yf.dayOfYear(P_),U_,3)},L:function(P_,U_){return Id(P_.getMilliseconds(),U_,3)},m:function(P_,U_){return Id(P_.getMonth()+1,U_,2)},M:function(P_,U_){return Id(P_.getMinutes(),U_,2)},p:function(P_){return __[+(12<=P_.getHours())]},S:function(P_,U_){return Id(P_.getSeconds(),U_,2)},U:function(P_,U_){return Id(yf.sundayOfYear(P_),U_,2)},w:function(P_){return P_.getDay()},W:function(P_,U_){return Id(yf.mondayOfYear(P_),U_,2)},x:i_(f_),X:i_(x_),y:function(P_,U_){return Id(P_.getFullYear()%100,U_,2)},Y:function(P_,U_){return Id(P_.getFullYear()%1e4,U_,4)},Z:ip,"%":function(){return"%"}},N_={a:function(P_,U_,j_){A_.lastIndex=0;var D_=A_.exec(U_.slice(j_));return D_?(P_.w=L_.get(D_[0].toLowerCase()),j_+D_[0].length):-1},A:function(P_,U_,j_){k_.lastIndex=0;var D_=k_.exec(U_.slice(j_));return D_?(P_.w=C_.get(D_[0].toLowerCase()),j_+D_[0].length):-1},b:function(P_,U_,j_){T_.lastIndex=0;var D_=T_.exec(U_.slice(j_));return D_?(P_.m=M_.get(D_[0].toLowerCase()),j_+D_[0].length):-1},B:function(P_,U_,j_){q_.lastIndex=0;var D_=q_.exec(U_.slice(j_));return D_?(P_.m=z_.get(D_[0].toLowerCase()),j_+D_[0].length):-1},c:function(P_,U_,j_){return o_(P_,R_.c.toString(),U_,j_)},d:ep,e:ep,H:np,I:np,j:tp,L:rp,m:Qd,M:ap,p:function(P_,U_,j_){var D_=E_.get(U_.slice(j_,j_+=2).toLowerCase());return null==D_?-1:(P_.p=D_,j_)},S:lp,U:Bd,w:Xd,W:Wd,x:function(P_,U_,j_){return o_(P_,R_.x.toString(),U_,j_)},X:function(P_,U_,j_){return o_(P_,R_.X.toString(),U_,j_)},y:Jd,Y:$d,Z:Gd,"%":op};return i_}function Id(r_,i_,o_){var s_=0>r_?"-":"",d_=(s_?-r_:r_)+"",p_=d_.length;return s_+(o_>p_?Array(o_-p_+1).join(i_)+d_:d_)}function Zd(r_){return new RegExp("^(?:"+r_.map(pm.requote).join("|")+")","i")}function Vd(r_){for(var i_=new ds,o_=-1,s_=r_.length;++o_<s_;)i_.set(r_[o_].toLowerCase(),o_);return i_}function Xd(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+1));return s_?(r_.w=+s_[0],o_+s_[0].length):-1}function Bd(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_));return s_?(r_.U=+s_[0],o_+s_[0].length):-1}function Wd(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_));return s_?(r_.W=+s_[0],o_+s_[0].length):-1}function $d(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+4));return s_?(r_.y=+s_[0],o_+s_[0].length):-1}function Jd(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+2));return s_?(r_.y=Kd(+s_[0]),o_+s_[0].length):-1}function Gd(r_,i_,o_){return /^[+-]\d{4}$/.test(i_=i_.slice(o_,o_+5))?(r_.Z=-i_,o_+5):-1}function Kd(r_){return r_+(68<r_?1900:2e3)}function Qd(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+2));return s_?(r_.m=s_[0]-1,o_+s_[0].length):-1}function ep(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+2));return s_?(r_.d=+s_[0],o_+s_[0].length):-1}function tp(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+3));return s_?(r_.j=+s_[0],o_+s_[0].length):-1}function np(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+2));return s_?(r_.H=+s_[0],o_+s_[0].length):-1}function ap(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+2));return s_?(r_.M=+s_[0],o_+s_[0].length):-1}function lp(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+2));return s_?(r_.S=+s_[0],o_+s_[0].length):-1}function rp(r_,i_,o_){_f.lastIndex=0;var s_=_f.exec(i_.slice(o_,o_+3));return s_?(r_.L=+s_[0],o_+s_[0].length):-1}function ip(r_){var i_=r_.getTimezoneOffset(),o_=0<i_?"-":"+",s_=0|vm(i_)/60,d_=vm(i_)%60;return o_+Id(s_,"0",2)+Id(d_,"0",2)}function op(r_,i_,o_){vf.lastIndex=0;var s_=vf.exec(i_.slice(o_,o_+1));return s_?o_+s_[0].length:-1}function sp(r_){for(var i_=r_.length,o_=-1;++o_<i_;)r_[o_][0]=this(r_[o_][0]);return function(s_){for(var d_=0,p_=r_[d_];!p_[1](s_);)p_=r_[++d_];return p_[0](s_)}}function dp(){}function pp(r_,i_,o_){var s_=o_.s=r_+i_,d_=s_-r_;o_.t=r_-(s_-d_)+(i_-d_)}function gp(r_,i_){r_&&Ef.hasOwnProperty(r_.type)&&Ef[r_.type](r_,i_)}function cp(r_,i_,o_){var s_,d_=-1,p_=r_.length-o_;for(i_.lineStart();++d_<p_;)s_=r_[d_],i_.point(s_[0],s_[1],s_[2]);i_.lineEnd()}function up(r_,i_){var o_=-1,s_=r_.length;for(i_.polygonStart();++o_<s_;)cp(r_[o_],i_,1);i_.polygonEnd()}function hp(){function r_(g_,c_){g_*=Im,c_=c_*Im/2+Hm/4;var u_=g_-s_,h_=0<=u_?1:-1,y_=h_*u_,m_=Math.cos(c_),f_=Math.sin(c_),x_=p_*f_,__=d_*m_+x_*Math.cos(y_),v_=x_*h_*Math.sin(y_);Cf.add(Math.atan2(v_,__)),s_=g_,d_=m_,p_=f_}var i_,o_,s_,d_,p_;Af.point=function(g_,c_){Af.point=r_,s_=(i_=g_)*Im,d_=Math.cos(c_=(o_=c_)*Im/2+Hm/4),p_=Math.sin(c_)},Af.lineEnd=function(){r_(i_,o_)}}function yp(r_){var i_=r_[0],o_=r_[1],s_=Math.cos(o_);return[s_*Math.cos(i_),s_*Math.sin(i_),Math.sin(o_)]}function mp(r_,i_){return r_[0]*i_[0]+r_[1]*i_[1]+r_[2]*i_[2]}function fp(r_,i_){return[r_[1]*i_[2]-r_[2]*i_[1],r_[2]*i_[0]-r_[0]*i_[2],r_[0]*i_[1]-r_[1]*i_[0]]}function xp(r_,i_){r_[0]+=i_[0],r_[1]+=i_[1],r_[2]+=i_[2]}function _p(r_,i_){return[r_[0]*i_,r_[1]*i_,r_[2]*i_]}function vp(r_){var i_=Math.sqrt(r_[0]*r_[0]+r_[1]*r_[1]+r_[2]*r_[2]);r_[0]/=i_,r_[1]/=i_,r_[2]/=i_}function bp(r_){return[Math.atan2(r_[1],r_[0]),td(r_[2])]}function wp(r_,i_){return vm(r_[0]-i_[0])<jm&&vm(r_[1]-i_[1])<jm}function Sp(r_,i_){r_*=Im;var o_=Math.cos(i_*=Im);Ep(o_*Math.cos(r_),o_*Math.sin(r_),Math.sin(i_))}function Ep(r_,i_,o_){++Lf,zf+=(r_-zf)/Lf,Tf+=(i_-Tf)/Lf,Mf+=(o_-Mf)/Lf}function kp(){function r_(d_,p_){d_*=Im;var g_=Math.cos(p_*=Im),c_=g_*Math.cos(d_),u_=g_*Math.sin(d_),h_=Math.sin(p_),y_=Math.atan2(Math.sqrt((y_=o_*h_-s_*u_)*y_+(y_=s_*c_-i_*h_)*y_+(y_=i_*u_-o_*c_)*y_),i_*c_+o_*u_+s_*h_);qf+=y_,Rf+=y_*(i_+(i_=c_)),Nf+=y_*(o_+(o_=u_)),Pf+=y_*(s_+(s_=h_)),Ep(i_,o_,s_)}var i_,o_,s_;Hf.point=function(d_,p_){d_*=Im;var g_=Math.cos(p_*=Im);i_=g_*Math.cos(d_),o_=g_*Math.sin(d_),s_=Math.sin(p_),Hf.point=r_,Ep(i_,o_,s_)}}function Cp(){Hf.point=Sp}function Ap(){function r_(g_,c_){g_*=Im;var u_=Math.cos(c_*=Im),h_=u_*Math.cos(g_),y_=u_*Math.sin(g_),m_=Math.sin(c_),f_=d_*m_-p_*y_,x_=p_*h_-s_*m_,__=s_*y_-d_*h_,v_=Math.sqrt(f_*f_+x_*x_+__*__),b_=s_*h_+d_*y_+p_*m_,w_=v_&&-ed(b_)/v_,S_=Math.atan2(v_,b_);Uf+=w_*f_,jf+=w_*x_,Df+=w_*__,qf+=S_,Rf+=S_*(s_+(s_=h_)),Nf+=S_*(d_+(d_=y_)),Pf+=S_*(p_+(p_=m_)),Ep(s_,d_,p_)}var i_,o_,s_,d_,p_;Hf.point=function(g_,c_){i_=g_,o_=c_,Hf.point=r_,g_*=Im;var u_=Math.cos(c_*=Im);s_=u_*Math.cos(g_),d_=u_*Math.sin(g_),p_=Math.sin(c_),Ep(s_,d_,p_)},Hf.lineEnd=function(){r_(i_,o_),Hf.lineEnd=Cp,Hf.point=Sp}}function Lp(r_,i_){function o_(s_,d_){return s_=r_(s_,d_),i_(s_[0],s_[1])}return r_.invert&&i_.invert&&(o_.invert=function(s_,d_){return s_=i_.invert(s_,d_),s_&&r_.invert(s_[0],s_[1])}),o_}function qp(){return!0}function zp(r_,i_,o_,s_,d_){var p_=[],g_=[];if(r_.forEach(function(v_){if(!(0>=(b_=v_.length-1))){var b_,w_=v_[0],S_=v_[b_];if(wp(w_,S_)){d_.lineStart();for(var E_=0;b_>E_;++E_)d_.point((w_=v_[E_])[0],w_[1]);return void d_.lineEnd()}var k_=new Mp(w_,v_,null,!0),C_=new Mp(w_,null,k_,!1);k_.o=C_,p_.push(k_),g_.push(C_),k_=new Mp(S_,v_,null,!1),C_=new Mp(S_,null,k_,!0),k_.o=C_,p_.push(k_),g_.push(C_)}}),g_.sort(i_),Tp(p_),Tp(g_),p_.length){for(var c_=0,u_=o_,h_=g_.length;h_>c_;++c_)g_[c_].e=u_=!u_;for(var y_,m_,f_=p_[0];;){for(var x_=f_,__=!0;x_.v;)if((x_=x_.n)===f_)return;y_=x_.z,d_.lineStart();do{if(x_.v=x_.o.v=!0,x_.e){if(__)for(var c_=0,h_=y_.length;h_>c_;++c_)d_.point((m_=y_[c_])[0],m_[1]);else s_(x_.x,x_.n.x,1,d_);x_=x_.n}else{if(__){y_=x_.p.z;for(var c_=y_.length-1;0<=c_;--c_)d_.point((m_=y_[c_])[0],m_[1])}else s_(x_.x,x_.p.x,-1,d_);x_=x_.p}x_=x_.o,y_=x_.z,__=!__}while(!x_.v);d_.lineEnd()}}}function Tp(r_){if(i_=r_.length){for(var i_,o_,s_=0,d_=r_[0];++s_<i_;)d_.n=o_=r_[s_],o_.p=d_,d_=o_;d_.n=o_=r_[0],o_.p=d_}}function Mp(r_,i_,o_,s_){this.x=r_,this.z=i_,this.o=o_,this.e=s_,this.v=!1,this.n=this.p=null}function Rp(r_,i_,o_,s_){return function(d_,p_){function g_(A_,L_){var q_=d_(A_,L_);r_(A_=q_[0],L_=q_[1])&&p_.point(A_,L_)}function c_(A_,L_){var q_=d_(A_,L_);b_.point(q_[0],q_[1])}function u_(){S_.point=c_,b_.lineStart()}function h_(){S_.point=g_,b_.lineEnd()}function y_(A_,L_){v_.push([A_,L_]);var q_=d_(A_,L_);k_.point(q_[0],q_[1])}function m_(){k_.lineStart(),v_=[]}function f_(){y_(v_[0][0],v_[0][1]),k_.lineEnd();var A_,L_=k_.clean(),q_=E_.buffer(),z_=q_.length;if(v_.pop(),__.push(v_),v_=null,z_)if(1&L_){A_=q_[0];var T_,z_=A_.length-1,M_=-1;if(0<z_){for(C_||(p_.polygonStart(),C_=!0),p_.lineStart();++M_<z_;)p_.point((T_=A_[M_])[0],T_[1]);p_.lineEnd()}}else 1<z_&&2&L_&&q_.push(q_.pop().concat(q_.shift())),x_.push(q_.filter(Np))}var x_,__,v_,b_=i_(p_),w_=d_.invert(s_[0],s_[1]),S_={point:g_,lineStart:u_,lineEnd:h_,polygonStart:function(){S_.point=y_,S_.lineStart=m_,S_.lineEnd=f_,x_=[],__=[]},polygonEnd:function(){S_.point=g_,S_.lineStart=u_,S_.lineEnd=h_,x_=pm.merge(x_);var A_=Op(w_,__);x_.length?(C_||(p_.polygonStart(),C_=!0),zp(x_,Up,A_,o_,p_)):A_&&(C_||(p_.polygonStart(),C_=!0),p_.lineStart(),o_(null,null,1,p_),p_.lineEnd()),C_&&(p_.polygonEnd(),C_=!1),x_=__=null},sphere:function(){p_.polygonStart(),p_.lineStart(),o_(null,null,1,p_),p_.lineEnd(),p_.polygonEnd()}},E_=Pp(),k_=i_(E_),C_=!1;return S_}}function Np(r_){return 1<r_.length}function Pp(){var r_,i_=[];return{lineStart:function(){i_.push(r_=[])},point:function(o_,s_){r_.push([o_,s_])},lineEnd:bs,buffer:function(){var o_=i_;return i_=[],r_=null,o_},rejoin:function(){1<i_.length&&i_.push(i_.pop().concat(i_.shift()))}}}function Up(r_,i_){return(0>(r_=r_.x)[0]?r_[1]-Ym-jm:Ym-r_[1])-(0>(i_=i_.x)[0]?i_[1]-Ym-jm:Ym-i_[1])}function Dp(r_,i_,o_,s_){var d_,p_,g_=Math.sin(r_-o_);return vm(g_)>jm?Math.atan((Math.sin(i_)*(p_=Math.cos(s_))*Math.sin(o_)-Math.sin(s_)*(d_=Math.cos(i_))*Math.sin(r_))/(d_*p_*g_)):(i_+s_)/2}function Op(r_,i_){var o_=r_[0],s_=r_[1],d_=[Math.sin(o_),-Math.cos(o_),0],p_=0,g_=0;Cf.reset();for(var c_=0,u_=i_.length;u_>c_;++c_){var h_=i_[c_],y_=h_.length;if(y_)for(var m_=h_[0],f_=m_[0],x_=m_[1]/2+Hm/4,__=Math.sin(x_),v_=Math.cos(x_),b_=1;;){b_===y_&&(b_=0),r_=h_[b_];var w_=r_[0],S_=r_[1]/2+Hm/4,E_=Math.sin(S_),k_=Math.cos(S_),C_=w_-f_,A_=0<=C_?1:-1,L_=A_*C_,q_=L_>Hm,z_=__*E_;if(Cf.add(Math.atan2(z_*A_*Math.sin(L_),v_*k_+z_*Math.cos(L_))),p_+=q_?C_+A_*Om:C_,q_^f_>=o_^w_>=o_){var T_=fp(yp(m_),yp(r_));vp(T_);var M_=fp(d_,T_);vp(M_);var R_=(q_^0<=C_?-1:1)*td(M_[2]);(s_>R_||s_===R_&&(T_[0]||T_[1]))&&(g_+=q_^0<=C_?1:-1)}if(!b_++)break;f_=w_,__=E_,v_=k_,m_=r_}}return(-jm>p_||jm>p_&&-jm>Cf)^1&g_}function Fp(r_){function i_(h_,y_){return Math.cos(h_)*Math.cos(y_)>p_}function s_(h_,y_,m_){var f_=yp(h_),x_=yp(y_),__=[1,0,0],v_=fp(f_,x_),b_=mp(v_,v_),w_=v_[0],S_=b_-w_*w_;if(!S_)return!m_&&h_;var C_=fp(__,v_),A_=_p(__,p_*b_/S_),L_=_p(v_,-p_*w_/S_);xp(A_,L_);var q_=C_,z_=mp(A_,q_),T_=mp(q_,q_),M_=z_*z_-T_*(mp(A_,A_)-1);if(!(0>M_)){var R_=Math.sqrt(M_),N_=_p(q_,(-z_-R_)/T_);if(xp(N_,A_),N_=bp(N_),!m_)return N_;var P_,U_=h_[0],j_=y_[0],D_=h_[1],H_=y_[1];U_>j_&&(P_=U_,U_=j_,j_=P_);var O_=j_-U_,F_=vm(O_-Hm)<jm;if(!F_&&D_>H_&&(P_=D_,D_=H_,H_=P_),F_||jm>O_?F_?0<D_+H_^N_[1]<(vm(N_[0]-U_)<jm?D_:H_):D_<=N_[1]&&N_[1]<=H_:O_>Hm^(U_<=N_[0]&&N_[0]<=j_)){var I_=_p(q_,(-z_+R_)/T_);return xp(I_,A_),[N_,bp(I_)]}}}function d_(h_,y_){var m_=g_?r_:Hm-r_,f_=0;return-m_>h_?f_|=1:h_>m_&&(f_|=2),-m_>y_?f_|=4:y_>m_&&(f_|=8),f_}var p_=Math.cos(r_),g_=0<p_,c_=vm(p_)>jm,u_=hg(r_,6*Im);return Rp(i_,function(h_){var y_,m_,f_,x_,__;return{lineStart:function(){x_=f_=!1,__=1},point:function(v_,b_){var w_,S_=[v_,b_],E_=i_(v_,b_),k_=g_?E_?0:d_(v_,b_):E_?d_(v_+(0>v_?Hm:-Hm),b_):0;if(!y_&&(x_=f_=E_)&&h_.lineStart(),E_!==f_&&(w_=s_(y_,S_),(wp(y_,w_)||wp(S_,w_))&&(S_[0]+=jm,S_[1]+=jm,E_=i_(S_[0],S_[1]))),E_!==f_)__=0,E_?(h_.lineStart(),w_=s_(S_,y_),h_.point(w_[0],w_[1])):(w_=s_(y_,S_),h_.point(w_[0],w_[1]),h_.lineEnd()),y_=w_;else if(c_&&y_&&g_^E_){var C_;k_&m_||!(C_=s_(S_,y_,!0))||(__=0,g_?(h_.lineStart(),h_.point(C_[0][0],C_[0][1]),h_.point(C_[1][0],C_[1][1]),h_.lineEnd()):(h_.point(C_[1][0],C_[1][1]),h_.lineEnd(),h_.lineStart(),h_.point(C_[0][0],C_[0][1])))}!E_||y_&&wp(y_,S_)||h_.point(S_[0],S_[1]),y_=S_,f_=E_,m_=k_},lineEnd:function(){f_&&h_.lineEnd(),y_=null},clean:function(){return __|(x_&&f_)<<1}}},u_,g_?[0,-r_]:[-Hm,r_-Hm])}function Yp(r_,i_,o_,s_){return function(d_){var p_,g_=d_.a,c_=d_.b,u_=g_.x,h_=g_.y,y_=c_.x,m_=c_.y,f_=0,x_=1,__=y_-u_,v_=m_-h_;if(p_=r_-u_,__||!(0<p_)){if(p_/=__,0>__){if(f_>p_)return;x_>p_&&(x_=p_)}else if(0<__){if(p_>x_)return;p_>f_&&(f_=p_)}if(p_=o_-u_,__||!(0>p_)){if(p_/=__,0>__){if(p_>x_)return;p_>f_&&(f_=p_)}else if(0<__){if(f_>p_)return;x_>p_&&(x_=p_)}if(p_=i_-h_,v_||!(0<p_)){if(p_/=v_,0>v_){if(f_>p_)return;x_>p_&&(x_=p_)}else if(0<v_){if(p_>x_)return;p_>f_&&(f_=p_)}if(p_=s_-h_,v_||!(0>p_)){if(p_/=v_,0>v_){if(p_>x_)return;p_>f_&&(f_=p_)}else if(0<v_){if(f_>p_)return;x_>p_&&(x_=p_)}return 0<f_&&(d_.a={x:u_+f_*__,y:h_+f_*v_}),1>x_&&(d_.b={x:u_+x_*__,y:h_+x_*v_}),d_}}}}}}function Ip(r_,i_,o_,s_){function d_(c_,u_){return vm(c_[0]-r_)<jm?0<u_?0:3:vm(c_[0]-o_)<jm?0<u_?2:1:vm(c_[1]-i_)<jm?0<u_?1:0:0<u_?3:2}function p_(c_,u_){return g_(c_.x,u_.x)}function g_(c_,u_){var h_=d_(c_,1),y_=d_(u_,1);return h_===y_?0===h_?u_[1]-c_[1]:1===h_?c_[0]-u_[0]:2===h_?c_[1]-u_[1]:u_[0]-c_[0]:h_-y_}return function(c_){function u_(P_){for(var U_=0,j_=b_.length,D_=P_[1],H_=0;j_>H_;++H_)for(var O_,F_=1,Y_=b_[H_],I_=Y_.length,Z_=Y_[0];I_>F_;++F_)O_=Y_[F_],Z_[1]<=D_?O_[1]>D_&&0<Qs(Z_,O_,P_)&&++U_:O_[1]<=D_&&0>Qs(Z_,O_,P_)&&--U_,Z_=O_;return 0!==U_}function h_(P_,U_,j_,D_){var H_=0,O_=0;if(null==P_||(H_=d_(P_,j_))!==(O_=d_(U_,j_))||0>g_(P_,U_)^0<j_)do D_.point(0===H_||3===H_?r_:o_,1<H_?s_:i_);while((H_=(H_+j_+4)%4)!==O_);else D_.point(U_[0],U_[1])}function y_(P_,U_){return P_>=r_&&o_>=P_&&U_>=i_&&s_>=U_}function m_(P_,U_){y_(P_,U_)&&c_.point(P_,U_)}function __(P_,U_){P_=Math.max(-Ff,Math.min(Ff,P_)),U_=Math.max(-Ff,Math.min(Ff,U_));var j_=y_(P_,U_);if(b_&&w_.push([P_,U_]),q_)S_=P_,E_=U_,k_=j_,q_=!1,j_&&(c_.lineStart(),c_.point(P_,U_));else if(j_&&L_)c_.point(P_,U_);else{var D_={a:{x:C_,y:A_},b:{x:P_,y:U_}};R_(D_)?(L_||(c_.lineStart(),c_.point(D_.a.x,D_.a.y)),c_.point(D_.b.x,D_.b.y),j_||c_.lineEnd(),z_=!1):j_&&(c_.lineStart(),c_.point(P_,U_),z_=!1)}C_=P_,A_=U_,L_=j_}var v_,b_,w_,S_,E_,k_,C_,A_,L_,q_,z_,T_=c_,M_=Pp(),R_=Yp(r_,i_,o_,s_),N_={point:m_,lineStart:function(){N_.point=__,b_&&b_.push(w_=[]),q_=!0,L_=!1,C_=A_=NaN},lineEnd:function(){v_&&(__(S_,E_),k_&&L_&&M_.rejoin(),v_.push(M_.buffer())),N_.point=m_,L_&&c_.lineEnd()},polygonStart:function(){c_=M_,v_=[],b_=[],z_=!0},polygonEnd:function(){c_=T_,v_=pm.merge(v_);var P_=u_([r_,s_]),U_=z_&&P_,j_=v_.length;(U_||j_)&&(c_.polygonStart(),U_&&(c_.lineStart(),h_(null,null,1,c_),c_.lineEnd()),j_&&zp(v_,p_,P_,h_,c_),c_.polygonEnd()),v_=b_=w_=null}};return N_}}function Zp(r_){var i_=0,o_=Hm/3,s_=ig(r_),d_=s_(i_,o_);return d_.parallels=function(p_){return arguments.length?s_(i_=p_[0]*Hm/180,o_=p_[1]*Hm/180):[180*(i_/Hm),180*(o_/Hm)]},d_}function Vp(r_,i_){function o_(c_,u_){var h_=Math.sqrt(p_-2*d_*Math.sin(u_))/d_;return[h_*Math.sin(c_*=d_),g_-h_*Math.cos(c_)]}var s_=Math.sin(r_),d_=(s_+Math.sin(i_))/2,p_=1+s_*(2*d_-s_),g_=Math.sqrt(p_)/d_;return o_.invert=function(c_,u_){var h_=g_-u_;return[Math.atan2(c_,h_)/d_,td((p_-(c_*c_+h_*h_)*d_*d_)/(2*d_))]},o_}function Xp(){function r_(p_,g_){If+=d_*p_-s_*g_,s_=p_,d_=g_}var i_,o_,s_,d_;Wf.point=function(p_,g_){Wf.point=r_,i_=s_=p_,o_=d_=g_},Wf.lineEnd=function(){r_(i_,o_)}}function Wp(){function r_(u_,h_){g_.push("M",u_,",",h_,p_)}function i_(u_,h_){g_.push("M",u_,",",h_),c_.point=o_}function o_(u_,h_){g_.push("L",u_,",",h_)}function s_(){c_.point=r_}function d_(){g_.push("Z")}var p_=$p(4.5),g_=[],c_={point:r_,lineStart:function(){c_.point=i_},lineEnd:s_,polygonStart:function(){c_.lineEnd=d_},polygonEnd:function(){c_.lineEnd=s_,c_.point=r_},pointRadius:function(u_){return p_=$p(u_),c_},result:function(){if(g_.length){var u_=g_.join("");return g_=[],u_}}};return c_}function $p(r_){return"m0,"+r_+"a"+r_+","+r_+" 0 1,1 0,"+-2*r_+"a"+r_+","+r_+" 0 1,1 0,"+2*r_+"z"}function Jp(r_,i_){zf+=r_,Tf+=i_,++Mf}function Gp(){function r_(s_,d_){var p_=s_-i_,g_=d_-o_,c_=Math.sqrt(p_*p_+g_*g_);Rf+=c_*(i_+s_)/2,Nf+=c_*(o_+d_)/2,Pf+=c_,Jp(i_=s_,o_=d_)}var i_,o_;Jf.point=function(s_,d_){Jf.point=r_,Jp(i_=s_,o_=d_)}}function Kp(){Jf.point=Jp}function Qp(){function r_(p_,g_){var c_=p_-s_,u_=g_-d_,h_=Math.sqrt(c_*c_+u_*u_);Rf+=h_*(s_+p_)/2,Nf+=h_*(d_+g_)/2,Pf+=h_,h_=d_*p_-s_*g_,Uf+=h_*(s_+p_),jf+=h_*(d_+g_),Df+=3*h_,Jp(s_=p_,d_=g_)}var i_,o_,s_,d_;Jf.point=function(p_,g_){Jf.point=r_,Jp(i_=s_=p_,o_=d_=g_)},Jf.lineEnd=function(){r_(i_,o_)}}function eg(r_){function i_(u_,h_){r_.moveTo(u_+g_,h_),r_.arc(u_,h_,g_,0,Om)}function o_(u_,h_){r_.moveTo(u_,h_),c_.point=s_}function s_(u_,h_){r_.lineTo(u_,h_)}function d_(){c_.point=i_}function p_(){r_.closePath()}var g_=4.5,c_={point:i_,lineStart:function(){c_.point=o_},lineEnd:d_,polygonStart:function(){c_.lineEnd=p_},polygonEnd:function(){c_.lineEnd=d_,c_.point=i_},pointRadius:function(u_){return g_=u_,c_},result:bs};return c_}function tg(r_){function i_(u_){return(c_?s_:o_)(u_)}function o_(u_){return lg(u_,function(h_,y_){h_=r_(h_,y_),u_.point(h_[0],h_[1])})}function s_(u_){function h_(P_,U_){P_=r_(P_,U_),u_.point(P_[0],P_[1])}function y_(){q_=NaN,N_.point=m_,u_.lineStart()}function m_(P_,U_){var j_=yp([P_,U_]),D_=r_(P_,U_);d_(q_,z_,L_,T_,M_,R_,q_=D_[0],z_=D_[1],L_=P_,T_=j_[0],M_=j_[1],R_=j_[2],c_,u_),u_.point(q_,z_)}function f_(){N_.point=h_,u_.lineEnd()}function x_(){y_(),N_.point=__,N_.lineEnd=v_}function __(P_,U_){m_(b_=P_,w_=U_),S_=q_,E_=z_,k_=T_,C_=M_,A_=R_,N_.point=m_}function v_(){d_(q_,z_,L_,T_,M_,R_,S_,E_,b_,k_,C_,A_,c_,u_),N_.lineEnd=f_,f_()}var b_,w_,S_,E_,k_,C_,A_,L_,q_,z_,T_,M_,R_,N_={point:h_,lineStart:y_,lineEnd:f_,polygonStart:function(){u_.polygonStart(),N_.lineStart=x_},polygonEnd:function(){u_.polygonEnd(),N_.lineStart=y_}};return N_}function d_(u_,h_,y_,m_,f_,x_,__,v_,b_,w_,S_,E_,k_,C_){var A_=__-u_,L_=v_-h_,q_=A_*A_+L_*L_;if(q_>4*p_&&k_--){var z_=m_+w_,T_=f_+S_,M_=x_+E_,R_=Math.sqrt(z_*z_+T_*T_+M_*M_),N_=Math.asin(M_/=R_),P_=vm(vm(M_)-1)<jm||vm(y_-b_)<jm?(y_+b_)/2:Math.atan2(T_,z_),U_=r_(P_,N_),j_=U_[0],D_=U_[1],H_=j_-u_,O_=D_-h_,F_=L_*H_-A_*O_;(F_*F_/q_>p_||.3<vm((A_*H_+L_*O_)/q_-.5)||g_>m_*w_+f_*S_+x_*E_)&&(d_(u_,h_,y_,m_,f_,x_,j_,D_,P_,z_/=R_,T_/=R_,M_,k_,C_),C_.point(j_,D_),d_(j_,D_,P_,z_,T_,M_,__,v_,b_,w_,S_,E_,k_,C_))}}var p_=.5,g_=Math.cos(30*Im),c_=16;return i_.precision=function(u_){return arguments.length?(c_=0<(p_=u_*u_)&&16,i_):Math.sqrt(p_)},i_}function ng(r_){var i_=tg(function(o_,s_){return r_([o_*Zm,s_*Zm])});return function(o_){return og(i_(o_))}}function ag(r_){this.stream=r_}function lg(r_,i_){return{point:i_,sphere:function(){r_.sphere()},lineStart:function(){r_.lineStart()},lineEnd:function(){r_.lineEnd()},polygonStart:function(){r_.polygonStart()},polygonEnd:function(){r_.polygonEnd()}}}function rg(r_){return ig(function(){return r_})()}function ig(r_){function i_(q_){return q_=c_(q_[0]*Im,q_[1]*Im),[q_[0]*f_+u_,h_-q_[1]*f_]}function o_(q_){return q_=c_.invert((q_[0]-u_)/f_,(h_-q_[1])/f_),q_&&[q_[0]*Zm,q_[1]*Zm]}function s_(){c_=Lp(g_=pg(w_,S_,E_),p_);var q_=p_(v_,b_);return u_=x_-q_[0]*f_,h_=__+q_[1]*f_,d_()}function d_(){return y_&&(y_.valid=!1,y_=null),i_}var p_,g_,c_,u_,h_,y_,m_=tg(function(q_,z_){return q_=p_(q_,z_),[q_[0]*f_+u_,h_-q_[1]*f_]}),f_=150,x_=480,__=250,v_=0,b_=0,w_=0,S_=0,E_=0,k_=Of,C_=xs,A_=null,L_=null;return i_.stream=function(q_){return y_&&(y_.valid=!1),y_=og(k_(g_,m_(C_(q_)))),y_.valid=!0,y_},i_.clipAngle=function(q_){return arguments.length?(k_=null==q_?(A_=q_,Of):Fp((A_=+q_)*Im),d_()):A_},i_.clipExtent=function(q_){return arguments.length?(L_=q_,C_=q_?Ip(q_[0][0],q_[0][1],q_[1][0],q_[1][1]):xs,d_()):L_},i_.scale=function(q_){return arguments.length?(f_=+q_,s_()):f_},i_.translate=function(q_){return arguments.length?(x_=+q_[0],__=+q_[1],s_()):[x_,__]},i_.center=function(q_){return arguments.length?(v_=q_[0]%360*Im,b_=q_[1]%360*Im,s_()):[v_*Zm,b_*Zm]},i_.rotate=function(q_){return arguments.length?(w_=q_[0]%360*Im,S_=q_[1]%360*Im,E_=2<q_.length?q_[2]%360*Im:0,s_()):[w_*Zm,S_*Zm,E_*Zm]},pm.rebind(i_,m_,"precision"),function(){return p_=r_.apply(this,arguments),i_.invert=p_.invert&&o_,s_()}}function og(r_){return lg(r_,function(i_,o_){r_.point(i_*Im,o_*Im)})}function sg(r_,i_){return[r_,i_]}function dg(r_,i_){return[r_>Hm?r_-Om:-Hm>r_?r_+Om:r_,i_]}function pg(r_,i_,o_){return r_?i_||o_?Lp(cg(r_),ug(i_,o_)):cg(r_):i_||o_?ug(i_,o_):dg}function gg(r_){return function(i_,o_){return i_+=r_,[i_>Hm?i_-Om:-Hm>i_?i_+Om:i_,o_]}}function cg(r_){var i_=gg(r_);return i_.invert=gg(-r_),i_}function ug(r_,i_){function o_(c_,u_){var h_=Math.cos(u_),y_=Math.cos(c_)*h_,m_=Math.sin(c_)*h_,f_=Math.sin(u_),x_=f_*s_+y_*d_;return[Math.atan2(m_*p_-x_*g_,y_*s_-f_*d_),td(x_*p_+m_*g_)]}var s_=Math.cos(r_),d_=Math.sin(r_),p_=Math.cos(i_),g_=Math.sin(i_);return o_.invert=function(c_,u_){var h_=Math.cos(u_),y_=Math.cos(c_)*h_,m_=Math.sin(c_)*h_,f_=Math.sin(u_),x_=f_*p_-m_*g_;return[Math.atan2(m_*p_+f_*g_,y_*s_+x_*d_),td(x_*s_-y_*d_)]},o_}function hg(r_,i_){var o_=Math.cos(r_),s_=Math.sin(r_);return function(d_,p_,g_,c_){var u_=g_*i_;null==d_?(d_=r_+g_*Om,p_=r_-.5*u_):(d_=yg(o_,d_),p_=yg(o_,p_),(0<g_?p_>d_:d_>p_)&&(d_+=g_*Om));for(var h_,y_=d_;0<g_?y_>p_:p_>y_;y_-=u_)c_.point((h_=bp([o_,-s_*Math.cos(y_),-s_*Math.sin(y_)]))[0],h_[1])}}function yg(r_,i_){var o_=yp(i_);o_[0]-=r_,vp(o_);var s_=ed(-o_[1]);return((0>-o_[2]?-s_:s_)+2*Math.PI-jm)%(2*Math.PI)}function mg(r_,i_,o_){var s_=pm.range(r_,i_-jm,o_).concat(i_);return function(d_){return s_.map(function(p_){return[d_,p_]})}}function fg(r_,i_,o_){var s_=pm.range(r_,i_-jm,o_).concat(i_);return function(d_){return s_.map(function(p_){return[p_,d_]})}}function xg(r_){return r_.source}function _g(r_){return r_.target}function vg(r_,i_,o_,s_){var d_=Math.cos(i_),p_=Math.sin(i_),g_=Math.cos(s_),c_=Math.sin(s_),u_=d_*Math.cos(r_),h_=d_*Math.sin(r_),y_=g_*Math.cos(o_),m_=g_*Math.sin(o_),f_=2*Math.asin(Math.sqrt(rd(s_-i_)+d_*g_*rd(o_-r_))),x_=1/Math.sin(f_),__=f_?function(v_){var b_=Math.sin(v_*=f_)*x_,w_=Math.sin(f_-v_)*x_,S_=w_*u_+b_*y_,E_=w_*h_+b_*m_;return[Math.atan2(E_,S_)*Zm,Math.atan2(w_*p_+b_*c_,Math.sqrt(S_*S_+E_*E_))*Zm]}:function(){return[r_*Zm,i_*Zm]};return __.distance=f_,__}function wg(r_,i_){function o_(s_,d_){var p_=Math.cos(s_),g_=Math.cos(d_),c_=r_(p_*g_);return[c_*g_*Math.sin(s_),c_*Math.sin(d_)]}return o_.invert=function(s_,d_){var p_=Math.sqrt(s_*s_+d_*d_),g_=i_(p_),c_=Math.sin(g_),u_=Math.cos(g_);return[Math.atan2(s_*c_,p_*u_),Math.asin(p_&&d_*c_/p_)]},o_}function Sg(r_,i_){function o_(c_,u_){0<g_?-Ym+jm>u_&&(u_=-Ym+jm):u_>Ym-jm&&(u_=Ym-jm);var h_=g_/Math.pow(d_(u_),p_);return[h_*Math.sin(p_*c_),g_-h_*Math.cos(p_*c_)]}var s_=Math.cos(r_),d_=function(c_){return Math.tan(Hm/4+c_/2)},p_=r_===i_?Math.sin(r_):Math.log(s_/Math.cos(i_))/Math.log(d_(i_)/d_(r_)),g_=s_*Math.pow(d_(r_),p_)/p_;return p_?(o_.invert=function(c_,u_){var h_=g_-u_,y_=Ks(p_)*Math.sqrt(c_*c_+h_*h_);return[Math.atan2(c_,h_)/p_,2*Math.atan(Math.pow(g_/y_,1/p_))-Ym]},o_):kg}function Eg(r_,i_){function o_(g_,c_){var u_=p_-c_;return[u_*Math.sin(d_*g_),p_-u_*Math.cos(d_*g_)]}var s_=Math.cos(r_),d_=r_===i_?Math.sin(r_):(s_-Math.cos(i_))/(i_-r_),p_=s_/d_+r_;return vm(d_)<jm?sg:(o_.invert=function(g_,c_){var u_=p_-c_;return[Math.atan2(g_,u_)/d_,p_-Ks(d_)*Math.sqrt(g_*g_+u_*u_)]},o_)}function kg(r_,i_){return[r_,Math.log(Math.tan(Hm/4+i_/2))]}function Cg(r_){var i_,o_=rg(r_),s_=o_.scale,d_=o_.translate,p_=o_.clipExtent;return o_.scale=function(){var g_=s_.apply(o_,arguments);return g_===o_?i_?o_.clipExtent(null):o_:g_},o_.translate=function(){var g_=d_.apply(o_,arguments);return g_===o_?i_?o_.clipExtent(null):o_:g_},o_.clipExtent=function(g_){var c_=p_.apply(o_,arguments);if(!(c_===o_))i_&&(c_=null);else if(i_=null==g_){var u_=Hm*s_(),h_=d_();p_([[h_[0]-u_,h_[1]-u_],[h_[0]+u_,h_[1]+u_]])}return c_},o_.clipExtent(null)}function Ag(r_,i_){return[Math.log(Math.tan(Hm/4+i_/2)),-r_]}function Lg(r_){return r_[0]}function qg(r_){return r_[1]}function zg(r_){for(var i_=r_.length,o_=[0,1],s_=2,d_=2;i_>d_;d_++){for(;1<s_&&0>=Qs(r_[o_[s_-2]],r_[o_[s_-1]],r_[d_]);)--s_;o_[s_++]=d_}return o_.slice(0,s_)}function Tg(r_,i_){return r_[0]-i_[0]||r_[1]-i_[1]}function Mg(r_,i_,o_){return(o_[0]-i_[0])*(r_[1]-i_[1])<(o_[1]-i_[1])*(r_[0]-i_[0])}function Rg(r_,i_,o_,s_){var d_=r_[0],p_=o_[0],g_=i_[0]-d_,c_=s_[0]-p_,u_=r_[1],h_=o_[1],y_=i_[1]-u_,m_=s_[1]-h_,f_=(c_*(u_-h_)-m_*(d_-p_))/(m_*g_-c_*y_);return[d_+f_*g_,u_+f_*y_]}function Ng(r_){var i_=r_[0],o_=r_[r_.length-1];return!(i_[0]-o_[0]||i_[1]-o_[1])}function Pg(){ic(this),this.edge=this.site=this.circle=null}function Ug(r_){var i_=px.pop()||new Pg;return i_.site=r_,i_}function jg(r_){Bg(r_),ox.remove(r_),px.push(r_),ic(r_)}function Dg(r_){var i_=r_.circle,o_=i_.x,s_=i_.cy,d_={x:o_,y:s_},p_=r_.P,g_=r_.N,c_=[r_];jg(r_);for(var u_=p_;u_.circle&&vm(o_-u_.circle.x)<jm&&vm(s_-u_.circle.cy)<jm;)p_=u_.P,c_.unshift(u_),jg(u_),u_=p_;c_.unshift(u_),Bg(u_);for(var h_=g_;h_.circle&&vm(o_-h_.circle.x)<jm&&vm(s_-h_.circle.cy)<jm;)g_=h_.N,c_.push(h_),jg(h_),h_=g_;c_.push(h_),Bg(h_);var y_,m_=c_.length;for(y_=1;m_>y_;++y_)h_=c_[y_],u_=c_[y_-1],Qg(h_.edge,u_.site,h_.site,d_);u_=c_[0],h_=c_[m_-1],h_.edge=Gg(u_.site,h_.site,null,d_),Xg(u_),Xg(h_)}function Hg(r_){for(var i_,o_,s_,d_,p_=r_.x,g_=r_.y,c_=ox._;c_;)if(s_=Og(c_,g_)-p_,s_>jm)c_=c_.L;else{if(d_=p_-Fg(c_,g_),!(d_>jm)){s_>-jm?(i_=c_.P,o_=c_):d_>-jm?(i_=c_,o_=c_.N):i_=o_=c_;break}if(!c_.R){i_=c_;break}c_=c_.R}var u_=Ug(r_);if(ox.insert(i_,u_),i_||o_){if(i_===o_)return Bg(i_),o_=Ug(i_.site),ox.insert(u_,o_),u_.edge=o_.edge=Gg(i_.site,u_.site),Xg(i_),void Xg(o_);if(!o_)return void(u_.edge=Gg(i_.site,u_.site));Bg(i_),Bg(o_);var h_=i_.site,y_=h_.x,m_=h_.y,f_=r_.x-y_,x_=r_.y-m_,__=o_.site,v_=__.x-y_,b_=__.y-m_,w_=2*(f_*b_-x_*v_),S_=f_*f_+x_*x_,E_=v_*v_+b_*b_,k_={x:(b_*S_-x_*E_)/w_+y_,y:(f_*E_-v_*S_)/w_+m_};Qg(o_.edge,h_,__,k_),u_.edge=Gg(h_,r_,null,k_),o_.edge=Gg(r_,__,null,k_),Xg(i_),Xg(o_)}}function Og(r_,i_){var o_=r_.site,s_=o_.x,d_=o_.y,p_=d_-i_;if(!p_)return s_;var g_=r_.P;if(!g_)return-(1/0);o_=g_.site;var c_=o_.x,u_=o_.y,h_=u_-i_;if(!h_)return c_;var y_=c_-s_,m_=1/p_-1/h_,f_=y_/h_;return m_?(-f_+Math.sqrt(f_*f_-2*m_*(y_*y_/(-2*h_)-u_+h_/2+d_-p_/2)))/m_+s_:(s_+c_)/2}function Fg(r_,i_){var o_=r_.N;if(o_)return Og(o_,i_);var s_=r_.site;return s_.y===i_?s_.x:1/0}function Yg(r_){this.site=r_,this.edges=[]}function Ig(r_){for(var i_,o_,s_,d_,p_,g_,c_,u_,h_,y_,m_=r_[0][0],f_=r_[1][0],x_=r_[0][1],__=r_[1][1],v_=ix,b_=v_.length;b_--;)if(p_=v_[b_],p_&&p_.prepare())for(c_=p_.edges,u_=c_.length,g_=0;u_>g_;)y_=c_[g_].end(),s_=y_.x,d_=y_.y,h_=c_[++g_%u_].start(),i_=h_.x,o_=h_.y,(vm(s_-i_)>jm||vm(d_-o_)>jm)&&(c_.splice(g_,0,new ac(Kg(p_.site,y_,vm(s_-m_)<jm&&__-d_>jm?{x:m_,y:vm(i_-m_)<jm?o_:__}:vm(d_-__)<jm&&f_-s_>jm?{x:vm(o_-__)<jm?i_:f_,y:__}:vm(s_-f_)<jm&&d_-x_>jm?{x:f_,y:vm(i_-f_)<jm?o_:x_}:vm(d_-x_)<jm&&s_-m_>jm?{x:vm(o_-x_)<jm?i_:m_,y:x_}:null),p_.site,null)),++u_)}function Zg(r_,i_){return i_.angle-r_.angle}function Vg(){ic(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xg(r_){var i_=r_.P,o_=r_.N;if(i_&&o_){var s_=i_.site,d_=r_.site,p_=o_.site;if(s_!==p_){var g_=d_.x,c_=d_.y,u_=s_.x-g_,h_=s_.y-c_,y_=p_.x-g_,m_=p_.y-c_,f_=2*(u_*m_-h_*y_);if(!(f_>=-Dm)){var x_=u_*u_+h_*h_,__=y_*y_+m_*m_,v_=(m_*x_-h_*__)/f_,b_=(u_*__-y_*x_)/f_,m_=b_+c_,w_=gx.pop()||new Vg;w_.arc=r_,w_.site=d_,w_.x=v_+g_,w_.y=m_+Math.sqrt(v_*v_+b_*b_),w_.cy=m_,r_.circle=w_;for(var S_=null,E_=dx._;E_;)if(w_.y<E_.y||w_.y===E_.y&&w_.x<=E_.x){if(!E_.L){S_=E_.P;break}E_=E_.L}else{if(!E_.R){S_=E_;break}E_=E_.R}dx.insert(S_,w_),S_||(sx=w_)}}}}function Bg(r_){var i_=r_.circle;i_&&(i_.P||(sx=i_.N),dx.remove(i_),gx.push(i_),ic(i_),r_.circle=null)}function Wg(r_){for(var i_,o_=rx,s_=Yp(r_[0][0],r_[0][1],r_[1][0],r_[1][1]),d_=o_.length;d_--;)i_=o_[d_],(!$g(i_,r_)||!s_(i_)||vm(i_.a.x-i_.b.x)<jm&&vm(i_.a.y-i_.b.y)<jm)&&(i_.a=i_.b=null,o_.splice(d_,1))}function $g(r_,i_){var o_=r_.b;if(o_)return!0;var s_,d_,p_=r_.a,g_=i_[0][0],c_=i_[1][0],u_=i_[0][1],h_=i_[1][1],y_=r_.l,m_=r_.r,f_=y_.x,x_=y_.y,__=m_.x,v_=m_.y,b_=(f_+__)/2;if(v_===x_){if(g_>b_||b_>=c_)return;if(f_>__){if(!p_)p_={x:b_,y:u_};else if(p_.y>=h_)return;o_={x:b_,y:h_}}else{if(!p_)p_={x:b_,y:h_};else if(p_.y<u_)return;o_={x:b_,y:u_}}}else if(s_=(f_-__)/(v_-x_),d_=(x_+v_)/2-s_*b_,-1>s_||1<s_){if(f_>__){if(!p_)p_={x:(u_-d_)/s_,y:u_};else if(p_.y>=h_)return;o_={x:(h_-d_)/s_,y:h_}}else{if(!p_)p_={x:(h_-d_)/s_,y:h_};else if(p_.y<u_)return;o_={x:(u_-d_)/s_,y:u_}}}else if(v_>x_){if(!p_)p_={x:g_,y:s_*g_+d_};else if(p_.x>=c_)return;o_={x:c_,y:s_*c_+d_}}else{if(!p_)p_={x:c_,y:s_*c_+d_};else if(p_.x<g_)return;o_={x:g_,y:s_*g_+d_}}return r_.a=p_,r_.b=o_,!0}function Jg(r_,i_){this.l=r_,this.r=i_,this.a=this.b=null}function Gg(r_,i_,o_,s_){var d_=new Jg(r_,i_);return rx.push(d_),o_&&Qg(d_,r_,i_,o_),s_&&Qg(d_,i_,r_,s_),ix[r_.i].edges.push(new ac(d_,r_,i_)),ix[i_.i].edges.push(new ac(d_,i_,r_)),d_}function Kg(r_,i_,o_){var s_=new Jg(r_,null);return s_.a=i_,s_.b=o_,rx.push(s_),s_}function Qg(r_,i_,o_,s_){r_.a||r_.b?r_.l===o_?r_.b=s_:r_.a=s_:(r_.a=s_,r_.l=i_,r_.r=o_)}function ac(r_,i_,o_){var s_=r_.a,d_=r_.b;this.edge=r_,this.site=i_,this.angle=o_?Math.atan2(o_.y-i_.y,o_.x-i_.x):r_.l===i_?Math.atan2(d_.x-s_.x,s_.y-d_.y):Math.atan2(s_.x-d_.x,d_.y-s_.y)}function lc(){this._=null}function ic(r_){r_.U=r_.C=r_.L=r_.R=r_.P=r_.N=null}function oc(r_,i_){var o_=i_,s_=i_.R,d_=o_.U;d_?d_.L===o_?d_.L=s_:d_.R=s_:r_._=s_,s_.U=d_,o_.U=s_,o_.R=s_.L,o_.R&&(o_.R.U=o_),s_.L=o_}function sc(r_,i_){var o_=i_,s_=i_.L,d_=o_.U;d_?d_.L===o_?d_.L=s_:d_.R=s_:r_._=s_,s_.U=d_,o_.U=s_,o_.L=s_.R,o_.L&&(o_.L.U=o_),s_.R=o_}function dc(r_){for(;r_.L;)r_=r_.L;return r_}function pc(r_,i_){var o_,s_,d_,p_=r_.sort(gc).pop();for(rx=[],ix=Array(r_.length),ox=new lc,dx=new lc;;)if(d_=sx,p_&&(!d_||p_.y<d_.y||p_.y===d_.y&&p_.x<d_.x))p_.x===o_&&p_.y===s_||(ix[p_.i]=new Yg(p_),Hg(p_),o_=p_.x,s_=p_.y),p_=r_.pop();else{if(!d_)break;Dg(d_.arc)}i_&&(Wg(i_),Ig(i_));var g_={cells:ix,edges:rx};return ox=dx=rx=ix=null,g_}function gc(r_,i_){return i_.y-r_.y||i_.x-r_.x}function cc(r_,i_,o_){return(r_.x-o_.x)*(i_.y-r_.y)-(r_.x-i_.x)*(o_.y-r_.y)}function uc(r_){return r_.x}function hc(r_){return r_.y}function yc(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function mc(r_,i_,o_,s_,d_,p_){if(!r_(i_,o_,s_,d_,p_)){var g_=.5*(o_+d_),c_=.5*(s_+p_),u_=i_.nodes;u_[0]&&mc(r_,u_[0],o_,s_,g_,c_),u_[1]&&mc(r_,u_[1],g_,s_,d_,c_),u_[2]&&mc(r_,u_[2],o_,c_,g_,p_),u_[3]&&mc(r_,u_[3],g_,c_,d_,p_)}}function fc(r_,i_,o_,s_,d_,p_,g_){var c_,u_=1/0;return function h_(y_,m_,f_,x_,__){if(!(m_>p_||f_>g_||s_>x_||d_>__)){if(v_=y_.point){var v_,b_=i_-y_.x,w_=o_-y_.y,S_=b_*b_+w_*w_;if(u_>S_){var E_=Math.sqrt(u_=S_);s_=i_-E_,d_=o_-E_,p_=i_+E_,g_=o_+E_,c_=v_}}for(var k_=y_.nodes,C_=.5*(m_+x_),A_=.5*(f_+__),z_=(o_>=A_)<<1|i_>=C_,T_=z_+4;T_>z_;++z_)if(y_=k_[3&z_])switch(3&z_){case 0:h_(y_,m_,f_,C_,A_);break;case 1:h_(y_,C_,f_,x_,A_);break;case 2:h_(y_,m_,A_,C_,__);break;case 3:h_(y_,C_,A_,x_,__);}}}(r_,s_,d_,p_,g_),c_}function xc(r_,i_){r_=pm.rgb(r_),i_=pm.rgb(i_);var o_=r_.r,s_=r_.g,d_=r_.b,p_=i_.r-o_,g_=i_.g-s_,c_=i_.b-d_;return function(u_){return"#"+vd(Math.round(o_+p_*u_))+vd(Math.round(s_+g_*u_))+vd(Math.round(d_+c_*u_))}}function _c(r_,i_){var o_,s_={},d_={};for(o_ in r_)o_ in i_?s_[o_]=wc(r_[o_],i_[o_]):d_[o_]=r_[o_];for(o_ in i_)o_ in r_||(d_[o_]=i_[o_]);return function(p_){for(o_ in s_)d_[o_]=s_[o_](p_);return d_}}function vc(r_,i_){return r_=+r_,i_=+i_,function(o_){return r_*(1-o_)+i_*o_}}function bc(r_,i_){var o_,s_,d_,p_=ux.lastIndex=hx.lastIndex=0,g_=-1,c_=[],u_=[];for(r_+="",i_+="";(o_=ux.exec(r_))&&(s_=hx.exec(i_));)(d_=s_.index)>p_&&(d_=i_.slice(p_,d_),c_[g_]?c_[g_]+=d_:c_[++g_]=d_),(o_=o_[0])===(s_=s_[0])?c_[g_]?c_[g_]+=s_:c_[++g_]=s_:(c_[++g_]=null,u_.push({i:g_,x:vc(o_,s_)})),p_=hx.lastIndex;return p_<i_.length&&(d_=i_.slice(p_),c_[g_]?c_[g_]+=d_:c_[++g_]=d_),2>c_.length?u_[0]?(i_=u_[0].x,function(h_){return i_(h_)+""}):function(){return i_}:(i_=u_.length,function(h_){for(var y_,m_=0;i_>m_;++m_)c_[(y_=u_[m_]).i]=y_.x(h_);return c_.join("")})}function wc(r_,i_){for(var o_,s_=pm.interpolators.length;0<=--s_&&!(o_=pm.interpolators[s_](r_,i_)););return o_}function Sc(r_,i_){var o_,s_=[],d_=[],p_=r_.length,g_=i_.length,c_=Math.min(r_.length,i_.length);for(o_=0;c_>o_;++o_)s_.push(wc(r_[o_],i_[o_]));for(;p_>o_;++o_)d_[o_]=r_[o_];for(;g_>o_;++o_)d_[o_]=i_[o_];return function(u_){for(o_=0;c_>o_;++o_)d_[o_]=s_[o_](u_);return d_}}function Ec(r_){return function(i_){return 0>=i_?0:1<=i_?1:r_(i_)}}function kc(r_){return function(i_){return 1-r_(1-i_)}}function Cc(r_){return function(i_){return .5*(.5>i_?r_(2*i_):2-r_(2-2*i_))}}function Ac(r_){return r_*r_}function Lc(r_){return r_*r_*r_}function qc(r_){if(0>=r_)return 0;if(1<=r_)return 1;var i_=r_*r_,o_=i_*r_;return 4*(.5>r_?o_:3*(r_-i_)+o_-.75)}function Tc(r_){return 1-Math.cos(r_*Ym)}function Mc(r_){return Math.pow(2,10*(r_-1))}function Rc(r_){return 1-Math.sqrt(1-r_*r_)}function Uc(r_){return 1/2.75>r_?7.5625*r_*r_:2/2.75>r_?7.5625*(r_-=1.5/2.75)*r_+.75:2.5/2.75>r_?7.5625*(r_-=2.25/2.75)*r_+.9375:7.5625*(r_-=2.625/2.75)*r_+.984375}function Oc(r_,i_){return i_-=r_,function(o_){return Math.round(r_+i_*o_)}}function Fc(r_){var i_=[r_.a,r_.b],o_=[r_.c,r_.d],s_=Ic(i_),d_=Yc(i_,o_),p_=Ic(Zc(o_,i_,-d_))||0;i_[0]*o_[1]<o_[0]*i_[1]&&(i_[0]*=-1,i_[1]*=-1,s_*=-1,d_*=-1),this.rotate=(s_?Math.atan2(i_[1],i_[0]):Math.atan2(-o_[0],o_[1]))*Zm,this.translate=[r_.e,r_.f],this.scale=[s_,p_],this.skew=p_?Math.atan2(d_,p_)*Zm:0}function Yc(r_,i_){return r_[0]*i_[0]+r_[1]*i_[1]}function Ic(r_){var i_=Math.sqrt(Yc(r_,r_));return i_&&(r_[0]/=i_,r_[1]/=i_),i_}function Zc(r_,i_,o_){return r_[0]+=o_*i_[0],r_[1]+=o_*i_[1],r_}function Vc(r_){return r_.length?r_.pop()+",":""}function Xc(r_,i_,o_,s_){if(r_[0]!==i_[0]||r_[1]!==i_[1]){var d_=o_.push("translate(",null,",",null,")");s_.push({i:d_-4,x:vc(r_[0],i_[0])},{i:d_-2,x:vc(r_[1],i_[1])})}else(i_[0]||i_[1])&&o_.push("translate("+i_+")")}function Bc(r_,i_,o_,s_){r_===i_?i_&&o_.push(Vc(o_)+"rotate("+i_+")"):(180<r_-i_?i_+=360:180<i_-r_&&(r_+=360),s_.push({i:o_.push(Vc(o_)+"rotate(",null,")")-2,x:vc(r_,i_)}))}function Wc(r_,i_,o_,s_){r_===i_?i_&&o_.push(Vc(o_)+"skewX("+i_+")"):s_.push({i:o_.push(Vc(o_)+"skewX(",null,")")-2,x:vc(r_,i_)})}function $c(r_,i_,o_,s_){if(r_[0]!==i_[0]||r_[1]!==i_[1]){var d_=o_.push(Vc(o_)+"scale(",null,",",null,")");s_.push({i:d_-4,x:vc(r_[0],i_[0])},{i:d_-2,x:vc(r_[1],i_[1])})}else 1===i_[0]&&1===i_[1]||o_.push(Vc(o_)+"scale("+i_+")")}function Jc(r_,i_){var o_=[],s_=[];return r_=pm.transform(r_),i_=pm.transform(i_),Xc(r_.translate,i_.translate,o_,s_),Bc(r_.rotate,i_.rotate,o_,s_),Wc(r_.skew,i_.skew,o_,s_),$c(r_.scale,i_.scale,o_,s_),r_=i_=null,function(d_){for(var p_,g_=-1,c_=s_.length;++g_<c_;)o_[(p_=s_[g_]).i]=p_.x(d_);return o_.join("")}}function Gc(r_,i_){return i_=(i_-=r_=+r_)||1/i_,function(o_){return(o_-r_)/i_}}function Kc(r_,i_){return i_=(i_-=r_=+r_)||1/i_,function(o_){return Math.max(0,Math.min(1,(o_-r_)/i_))}}function Qc(r_){for(var i_=r_.source,o_=r_.target,s_=th(i_,o_),d_=[i_];i_!==s_;)i_=i_.parent,d_.push(i_);for(var p_=d_.length;o_!==s_;)d_.splice(p_,0,o_),o_=o_.parent;return d_}function eh(r_){for(var i_=[],o_=r_.parent;null!=o_;)i_.push(r_),r_=o_,o_=o_.parent;return i_.push(r_),i_}function th(r_,i_){if(r_===i_)return r_;for(var o_=eh(r_),s_=eh(i_),d_=o_.pop(),p_=s_.pop(),g_=null;d_===p_;)g_=d_,d_=o_.pop(),p_=s_.pop();return g_}function nh(r_){r_.fixed|=2}function ah(r_){r_.fixed&=-7}function lh(r_){r_.fixed|=4,r_.px=r_.x,r_.py=r_.y}function rh(r_){r_.fixed&=-5}function ih(r_,i_,o_){var s_=0,d_=0;if(r_.charge=0,!r_.leaf)for(var p_,g_=r_.nodes,c_=g_.length,u_=-1;++u_<c_;)p_=g_[u_],null!=p_&&(ih(p_,i_,o_),r_.charge+=p_.charge,s_+=p_.charge*p_.cx,d_+=p_.charge*p_.cy);if(r_.point){r_.leaf||(r_.point.x+=Math.random()-.5,r_.point.y+=Math.random()-.5);var h_=i_*o_[r_.point.index];r_.charge+=r_.pointCharge=h_,s_+=h_*r_.point.x,d_+=h_*r_.point.y}r_.cx=s_/r_.charge,r_.cy=d_/r_.charge}function oh(r_,i_){return pm.rebind(r_,i_,"sort","children","value"),r_.nodes=r_,r_.links=uh,r_}function sh(r_,i_){for(var o_=[r_];null!=(r_=o_.pop());)if(i_(r_),(d_=r_.children)&&(s_=d_.length))for(var s_,d_;0<=--s_;)o_.push(d_[s_])}function dh(r_,i_){for(var o_=[r_],s_=[];null!=(r_=o_.pop());)if(s_.push(r_),(p_=r_.children)&&(d_=p_.length))for(var d_,p_,g_=-1;++g_<d_;)o_.push(p_[g_]);for(;null!=(r_=s_.pop());)i_(r_)}function ph(r_){return r_.children}function gh(r_){return r_.value}function ch(r_,i_){return i_.value-r_.value}function uh(r_){return pm.merge(r_.map(function(i_){return(i_.children||[]).map(function(o_){return{source:i_,target:o_}})}))}function hh(r_){return r_.x}function yh(r_){return r_.y}function mh(r_,i_,o_){r_.y0=i_,r_.y=o_}function fh(r_){return pm.range(r_.length)}function xh(r_){for(var i_=-1,o_=r_[0].length,s_=[];++i_<o_;)s_[i_]=0;return s_}function _h(r_){for(var i_,o_=1,s_=0,d_=r_[0][1],p_=r_.length;p_>o_;++o_)(i_=r_[o_][1])>d_&&(s_=o_,d_=i_);return s_}function vh(r_){return r_.reduce(bh,0)}function bh(r_,i_){return r_+i_[1]}function wh(r_,i_){return Sh(r_,Math.ceil(Math.log(i_.length)/Math.LN2+1))}function Sh(r_,i_){for(var o_=-1,s_=+r_[0],d_=(r_[1]-s_)/i_,p_=[];++o_<=i_;)p_[o_]=d_*o_+s_;return p_}function Eh(r_){return[pm.min(r_),pm.max(r_)]}function kh(r_,i_){return r_.value-i_.value}function Ch(r_,i_){var o_=r_._pack_next;r_._pack_next=i_,i_._pack_prev=r_,i_._pack_next=o_,o_._pack_prev=i_}function Ah(r_,i_){r_._pack_next=i_,i_._pack_prev=r_}function Lh(r_,i_){var o_=i_.x-r_.x,s_=i_.y-r_.y,d_=r_.r+i_.r;return .999*d_*d_>o_*o_+s_*s_}function qh(r_){function i_(k_){y_=Math.min(k_.x-k_.r,y_),m_=Math.max(k_.x+k_.r,m_),f_=Math.min(k_.y-k_.r,f_),x_=Math.max(k_.y+k_.r,x_)}if((o_=r_.children)&&(h_=o_.length)){var o_,s_,d_,p_,g_,c_,u_,h_,y_=1/0,m_=-(1/0),f_=1/0,x_=-(1/0);if(o_.forEach(zh),s_=o_[0],s_.x=-s_.r,s_.y=0,i_(s_),1<h_&&(d_=o_[1],d_.x=d_.r,d_.y=0,i_(d_),2<h_))for(p_=o_[2],Rh(s_,d_,p_),i_(p_),Ch(s_,p_),s_._pack_prev=p_,Ch(p_,d_),d_=s_._pack_next,g_=3;h_>g_;g_++){Rh(s_,d_,p_=o_[g_]);var __=0,v_=1,b_=1;for(c_=d_._pack_next;c_!==d_;c_=c_._pack_next,v_++)if(Lh(c_,p_)){__=1;break}if(1==__)for(u_=s_._pack_prev;u_!==c_._pack_prev&&!Lh(u_,p_);u_=u_._pack_prev,b_++);__?(b_>v_||v_==b_&&d_.r<s_.r?Ah(s_,d_=c_):Ah(s_=u_,d_),g_--):(Ch(s_,p_),d_=p_,i_(p_))}var w_=(y_+m_)/2,S_=(f_+x_)/2,E_=0;for(g_=0;h_>g_;g_++)p_=o_[g_],p_.x-=w_,p_.y-=S_,E_=Math.max(E_,p_.r+Math.sqrt(p_.x*p_.x+p_.y*p_.y));r_.r=E_,o_.forEach(Th)}}function zh(r_){r_._pack_next=r_._pack_prev=r_}function Th(r_){delete r_._pack_next,delete r_._pack_prev}function Mh(r_,i_,o_,s_){var d_=r_.children;if(r_.x=i_+=s_*r_.x,r_.y=o_+=s_*r_.y,r_.r*=s_,d_)for(var p_=-1,g_=d_.length;++p_<g_;)Mh(d_[p_],i_,o_,s_)}function Rh(r_,i_,o_){var s_=r_.r+o_.r,d_=i_.x-r_.x,p_=i_.y-r_.y;if(s_&&(d_||p_)){var g_=i_.r+o_.r,c_=d_*d_+p_*p_;g_*=g_,s_*=s_;var u_=.5+(s_-g_)/(2*c_),h_=Math.sqrt(Math.max(0,2*g_*(s_+c_)-(s_-=c_)*s_-g_*g_))/(2*c_);o_.x=r_.x+u_*d_+h_*p_,o_.y=r_.y+u_*p_-h_*d_}else o_.x=r_.x+s_,o_.y=r_.y}function Nh(r_,i_){return r_.parent==i_.parent?1:2}function Ph(r_){var i_=r_.children;return i_.length?i_[0]:r_.t}function Uh(r_){var i_,o_=r_.children;return(i_=o_.length)?o_[i_-1]:r_.t}function jh(r_,i_,o_){var s_=o_/(i_.i-r_.i);i_.c-=s_,i_.s+=o_,r_.c+=s_,i_.z+=o_,i_.m+=o_}function Dh(r_){for(var i_,o_=0,s_=0,d_=r_.children,p_=d_.length;0<=--p_;)i_=d_[p_],i_.z+=o_,i_.m+=o_,o_+=i_.s+(s_+=i_.c)}function Hh(r_,i_,o_){return r_.a.parent===i_.parent?r_.a:o_}function Oh(r_){return 1+pm.max(r_,function(i_){return i_.y})}function Fh(r_){return r_.reduce(function(i_,o_){return i_+o_.x},0)/r_.length}function Yh(r_){var i_=r_.children;return i_&&i_.length?Yh(i_[0]):r_}function Ih(r_){var i_,o_=r_.children;return o_&&(i_=o_.length)?Ih(o_[i_-1]):r_}function Zh(r_){return{x:r_.x,y:r_.y,dx:r_.dx,dy:r_.dy}}function Vh(r_,i_){var o_=r_.x+i_[3],s_=r_.y+i_[0],d_=r_.dx-i_[1]-i_[3],p_=r_.dy-i_[0]-i_[2];return 0>d_&&(o_+=d_/2,d_=0),0>p_&&(s_+=p_/2,p_=0),{x:o_,y:s_,dx:d_,dy:p_}}function Xh(r_){var i_=r_[0],o_=r_[r_.length-1];return o_>i_?[i_,o_]:[o_,i_]}function Bh(r_){return r_.rangeExtent?r_.rangeExtent():Xh(r_.range())}function Wh(r_,i_,o_,s_){var d_=o_(r_[0],r_[1]),p_=s_(i_[0],i_[1]);return function(g_){return p_(d_(g_))}}function $h(r_,i_){var o_,s_=0,d_=r_.length-1,p_=r_[s_],g_=r_[d_];return p_>g_&&(o_=s_,s_=d_,d_=o_,o_=p_,p_=g_,g_=o_),r_[s_]=i_.floor(p_),r_[d_]=i_.ceil(g_),r_}function Jh(r_){return r_?{floor:function(i_){return Math.floor(i_/r_)*r_},ceil:function(i_){return Math.ceil(i_/r_)*r_}}:kx}function Gh(r_,i_,o_,s_){var d_=[],p_=[],g_=0,c_=Math.min(r_.length,i_.length)-1;for(r_[c_]<r_[0]&&(r_=r_.slice().reverse(),i_=i_.slice().reverse());++g_<=c_;)d_.push(o_(r_[g_-1],r_[g_])),p_.push(s_(i_[g_-1],i_[g_]));return function(u_){var h_=pm.bisect(r_,u_,1,c_)-1;return p_[h_](d_[h_](u_))}}function Kh(r_,i_,o_,s_){function d_(){var u_=2<Math.min(r_.length,i_.length)?Gh:Wh,h_=s_?Kc:Gc;return g_=u_(r_,i_,h_,o_),c_=u_(i_,r_,h_,wc),p_}function p_(u_){return g_(u_)}var g_,c_;return p_.invert=function(u_){return c_(u_)},p_.domain=function(u_){return arguments.length?(r_=u_.map(Number),d_()):r_},p_.range=function(u_){return arguments.length?(i_=u_,d_()):i_},p_.rangeRound=function(u_){return p_.range(u_).interpolate(Oc)},p_.clamp=function(u_){return arguments.length?(s_=u_,d_()):s_},p_.interpolate=function(u_){return arguments.length?(o_=u_,d_()):o_},p_.ticks=function(u_){return ny(r_,u_)},p_.tickFormat=function(u_,h_){return ay(r_,u_,h_)},p_.nice=function(u_){return ey(r_,u_),d_()},p_.copy=function(){return Kh(r_,i_,o_,s_)},d_()}function Qh(r_,i_){return pm.rebind(r_,i_,"range","rangeRound","interpolate","clamp")}function ey(r_,i_){return $h(r_,Jh(ty(r_,i_)[2])),$h(r_,Jh(ty(r_,i_)[2])),r_}function ty(r_,i_){null==i_&&(i_=10);var o_=Xh(r_),s_=o_[1]-o_[0],d_=Math.pow(10,Math.floor(Math.log(s_/i_)/Math.LN10)),p_=i_/s_*d_;return .15>=p_?d_*=10:.35>=p_?d_*=5:.75>=p_&&(d_*=2),o_[0]=Math.ceil(o_[0]/d_)*d_,o_[1]=Math.floor(o_[1]/d_)*d_+.5*d_,o_[2]=d_,o_}function ny(r_,i_){return pm.range.apply(pm,ty(r_,i_))}function ay(r_,i_,o_){var s_=ty(r_,i_);if(o_){var d_=uf.exec(o_);if(d_.shift(),"s"===d_[8]){var p_=pm.formatPrefix(Math.max(vm(s_[0]),vm(s_[1])));return d_[7]||(d_[7]="."+ly(p_.scale(s_[2]))),d_[8]="f",o_=pm.format(d_.join("")),function(g_){return o_(p_.scale(g_))+p_.symbol}}d_[7]||(d_[7]="."+ry(d_[8],s_)),o_=d_.join("")}else o_=",."+ly(s_[2])+"f";return pm.format(o_)}function ly(r_){return-Math.floor(Math.log(r_)/Math.LN10+.01)}function ry(r_,i_){var o_=ly(i_[2]);return r_ in Cx?Math.abs(o_-ly(Math.max(vm(i_[0]),vm(i_[1]))))+ +("e"!==r_):o_-2*("%"===r_)}function iy(r_,i_,o_,s_){function d_(c_){return(o_?Math.log(0>c_?0:c_):-Math.log(0<c_?0:-c_))/Math.log(i_)}function p_(c_){return o_?Math.pow(i_,c_):-Math.pow(i_,-c_)}function g_(c_){return r_(d_(c_))}return g_.invert=function(c_){return p_(r_.invert(c_))},g_.domain=function(c_){return arguments.length?(o_=0<=c_[0],r_.domain((s_=c_.map(Number)).map(d_)),g_):s_},g_.base=function(c_){return arguments.length?(i_=+c_,r_.domain(s_.map(d_)),g_):i_},g_.nice=function(){var c_=$h(s_.map(d_),o_?Math:Lx);return r_.domain(c_),s_=c_.map(p_),g_},g_.ticks=function(){var c_=Xh(s_),u_=[],h_=c_[0],y_=c_[1],m_=Math.floor(d_(h_)),f_=Math.ceil(d_(y_)),x_=i_%1?2:i_;if(isFinite(f_-m_)){if(o_){for(;f_>m_;m_++)for(var __=1;x_>__;__++)u_.push(p_(m_)*__);u_.push(p_(m_))}else for(u_.push(p_(m_));m_++<f_;)for(var __=x_-1;0<__;__--)u_.push(p_(m_)*__);for(m_=0;u_[m_]<h_;m_++);for(f_=u_.length;u_[f_-1]>y_;f_--);u_=u_.slice(m_,f_)}return u_},g_.tickFormat=function(c_,u_){if(!arguments.length)return Ax;2>arguments.length?u_=Ax:"function"!=typeof u_&&(u_=pm.format(u_));var h_=Math.max(1,i_*c_/g_.ticks().length);return function(y_){var m_=y_/p_(Math.round(d_(y_)));return i_-.5>m_*i_&&(m_*=i_),h_>=m_?u_(y_):""}},g_.copy=function(){return iy(r_.copy(),i_,o_,s_)},Qh(g_,r_)}function oy(r_,i_,o_){function s_(g_){return r_(d_(g_))}var d_=sy(i_),p_=sy(1/i_);return s_.invert=function(g_){return p_(r_.invert(g_))},s_.domain=function(g_){return arguments.length?(r_.domain((o_=g_.map(Number)).map(d_)),s_):o_},s_.ticks=function(g_){return ny(o_,g_)},s_.tickFormat=function(g_,c_){return ay(o_,g_,c_)},s_.nice=function(g_){return s_.domain(ey(o_,g_))},s_.exponent=function(g_){return arguments.length?(d_=sy(i_=g_),p_=sy(1/i_),r_.domain(o_.map(d_)),s_):i_},s_.copy=function(){return oy(r_.copy(),i_,o_)},Qh(s_,r_)}function sy(r_){return function(i_){return 0>i_?-Math.pow(-i_,r_):Math.pow(i_,r_)}}function dy(r_,i_){function o_(c_){return p_[((d_.get(c_)||("range"===i_.t?d_.set(c_,r_.push(c_)):NaN))-1)%p_.length]}function s_(c_,u_){return pm.range(r_.length).map(function(h_){return c_+u_*h_})}var d_,p_,g_;return o_.domain=function(c_){if(!arguments.length)return r_;r_=[],d_=new ds;for(var u_,h_=-1,y_=c_.length;++h_<y_;)d_.has(u_=c_[h_])||d_.set(u_,r_.push(u_));return o_[i_.t].apply(o_,i_.a)},o_.range=function(c_){return arguments.length?(p_=c_,g_=0,i_={t:"range",a:arguments},o_):p_},o_.rangePoints=function(c_,u_){2>arguments.length&&(u_=0);var h_=c_[0],y_=c_[1],m_=2>r_.length?(h_=(h_+y_)/2,0):(y_-h_)/(r_.length-1+u_);return p_=s_(h_+m_*u_/2,m_),g_=0,i_={t:"rangePoints",a:arguments},o_},o_.rangeRoundPoints=function(c_,u_){2>arguments.length&&(u_=0);var h_=c_[0],y_=c_[1],m_=2>r_.length?(h_=y_=Math.round((h_+y_)/2),0):0|(y_-h_)/(r_.length-1+u_);return p_=s_(h_+Math.round(m_*u_/2+(y_-h_-(r_.length-1+u_)*m_)/2),m_),g_=0,i_={t:"rangeRoundPoints",a:arguments},o_},o_.rangeBands=function(c_,u_,h_){2>arguments.length&&(u_=0),3>arguments.length&&(h_=u_);var y_=c_[1]<c_[0],m_=c_[y_-0],f_=c_[1-y_],x_=(f_-m_)/(r_.length-u_+2*h_);return p_=s_(m_+x_*h_,x_),y_&&p_.reverse(),g_=x_*(1-u_),i_={t:"rangeBands",a:arguments},o_},o_.rangeRoundBands=function(c_,u_,h_){2>arguments.length&&(u_=0),3>arguments.length&&(h_=u_);var y_=c_[1]<c_[0],m_=c_[y_-0],f_=c_[1-y_],x_=Math.floor((f_-m_)/(r_.length-u_+2*h_));return p_=s_(m_+Math.round((f_-m_-(r_.length-u_)*x_)/2),x_),y_&&p_.reverse(),g_=Math.round(x_*(1-u_)),i_={t:"rangeRoundBands",a:arguments},o_},o_.rangeBand=function(){return g_},o_.rangeExtent=function(){return Xh(i_.a[0])},o_.copy=function(){return dy(r_,i_)},o_.domain(r_)}function py(r_,i_){function o_(){var p_=0,g_=i_.length;for(d_=[];++p_<g_;)d_[p_-1]=pm.quantile(r_,p_/g_);return s_}function s_(p_){return isNaN(p_=+p_)?void 0:i_[pm.bisect(d_,p_)]}var d_;return s_.domain=function(p_){return arguments.length?(r_=p_.map(as).filter(ls).sort(ns),o_()):r_},s_.range=function(p_){return arguments.length?(i_=p_,o_()):i_},s_.quantiles=function(){return d_},s_.invertExtent=function(p_){return p_=i_.indexOf(p_),0>p_?[NaN,NaN]:[0<p_?d_[p_-1]:r_[0],p_<d_.length?d_[p_]:r_[r_.length-1]]},s_.copy=function(){return py(r_,i_)},o_()}function gy(r_,i_,o_){function s_(c_){return o_[Math.max(0,Math.min(g_,Math.floor(p_*(c_-r_))))]}function d_(){return p_=o_.length/(i_-r_),g_=o_.length-1,s_}var p_,g_;return s_.domain=function(c_){return arguments.length?(r_=+c_[0],i_=+c_[c_.length-1],d_()):[r_,i_]},s_.range=function(c_){return arguments.length?(o_=c_,d_()):o_},s_.invertExtent=function(c_){return c_=o_.indexOf(c_),c_=0>c_?NaN:c_/p_+r_,[c_,c_+1/p_]},s_.copy=function(){return gy(r_,i_,o_)},d_()}function cy(r_,i_){function o_(s_){return s_>=s_?i_[pm.bisect(r_,s_)]:void 0}return o_.domain=function(s_){return arguments.length?(r_=s_,o_):r_},o_.range=function(s_){return arguments.length?(i_=s_,o_):i_},o_.invertExtent=function(s_){return s_=i_.indexOf(s_),[r_[s_-1],r_[s_]]},o_.copy=function(){return cy(r_,i_)},o_}function uy(r_){function i_(o_){return+o_}return i_.invert=i_,i_.domain=i_.range=function(o_){return arguments.length?(r_=o_.map(i_),i_):r_},i_.ticks=function(o_){return ny(r_,o_)},i_.tickFormat=function(o_,s_){return ay(r_,o_,s_)},i_.copy=function(){return uy(r_)},i_}function hy(){return 0}function yy(r_){return r_.innerRadius}function my(r_){return r_.outerRadius}function fy(r_){return r_.startAngle}function xy(r_){return r_.endAngle}function _y(r_){return r_&&r_.padAngle}function vy(r_,i_,o_,s_){return 0<(r_-o_)*i_-(i_-s_)*r_?0:1}function by(r_,i_,o_,s_,d_){var p_=r_[0]-i_[0],g_=r_[1]-i_[1],c_=(d_?s_:-s_)/Math.sqrt(p_*p_+g_*g_),u_=c_*g_,h_=-c_*p_,y_=r_[0]+u_,m_=r_[1]+h_,f_=i_[0]+u_,x_=i_[1]+h_,__=(y_+f_)/2,v_=(m_+x_)/2,b_=f_-y_,w_=x_-m_,S_=b_*b_+w_*w_,E_=o_-s_,k_=y_*x_-f_*m_,C_=(0>w_?-1:1)*Math.sqrt(Math.max(0,E_*E_*S_-k_*k_)),A_=(k_*w_-b_*C_)/S_,L_=(-k_*b_-w_*C_)/S_,q_=(k_*w_+b_*C_)/S_,z_=(-k_*b_+w_*C_)/S_,T_=A_-__,M_=L_-v_,R_=q_-__,N_=z_-v_;return T_*T_+M_*M_>R_*R_+N_*N_&&(A_=q_,L_=z_),[[A_-u_,L_-h_],[A_*o_/E_,L_*o_/E_]]}function wy(r_){function i_(u_){function h_(){m_.push("M",p_(r_(f_),c_))}for(var y_,m_=[],f_=[],x_=-1,__=u_.length,v_=Cd(o_),b_=Cd(s_);++x_<__;)d_.call(this,y_=u_[x_],x_)?f_.push([+v_.call(this,y_,x_),+b_.call(this,y_,x_)]):f_.length&&(h_(),f_=[]);return f_.length&&h_(),m_.length?m_.join(""):null}var o_=Lg,s_=qg,d_=qp,p_=Sy,g_=p_.key,c_=.7;return i_.x=function(u_){return arguments.length?(o_=u_,i_):o_},i_.y=function(u_){return arguments.length?(s_=u_,i_):s_},i_.defined=function(u_){return arguments.length?(d_=u_,i_):d_},i_.interpolate=function(u_){return arguments.length?(g_="function"==typeof u_?p_=u_:(p_=Nx.get(u_)||Sy).key,i_):g_},i_.tension=function(u_){return arguments.length?(c_=u_,i_):c_},i_}function Sy(r_){return 1<r_.length?r_.join("L"):r_+"Z"}function Ey(r_){return r_.join("L")+"Z"}function Cy(r_){for(var i_=0,o_=r_.length,s_=r_[0],d_=[s_[0],",",s_[1]];++i_<o_;)d_.push("V",(s_=r_[i_])[1],"H",s_[0]);return d_.join("")}function Ay(r_){for(var i_=0,o_=r_.length,s_=r_[0],d_=[s_[0],",",s_[1]];++i_<o_;)d_.push("H",(s_=r_[i_])[0],"V",s_[1]);return d_.join("")}function Ty(r_,i_){if(1>i_.length||r_.length!=i_.length&&r_.length!=i_.length+2)return Sy(r_);var o_=r_.length!=i_.length,s_="",d_=r_[0],p_=r_[1],g_=i_[0],c_=g_,u_=1;if(o_&&(s_+="Q"+(p_[0]-2*g_[0]/3)+","+(p_[1]-2*g_[1]/3)+","+p_[0]+","+p_[1],d_=r_[1],u_=2),1<i_.length){c_=i_[1],p_=r_[u_],u_++,s_+="C"+(d_[0]+g_[0])+","+(d_[1]+g_[1])+","+(p_[0]-c_[0])+","+(p_[1]-c_[1])+","+p_[0]+","+p_[1];for(var h_=2;h_<i_.length;h_++,u_++)p_=r_[u_],c_=i_[h_],s_+="S"+(p_[0]-c_[0])+","+(p_[1]-c_[1])+","+p_[0]+","+p_[1]}if(o_){var y_=r_[u_];s_+="Q"+(p_[0]+2*c_[0]/3)+","+(p_[1]+2*c_[1]/3)+","+y_[0]+","+y_[1]}return s_}function My(r_,i_){for(var o_,s_=[],d_=(1-i_)/2,p_=r_[0],g_=r_[1],c_=1,u_=r_.length;++c_<u_;)o_=p_,p_=g_,g_=r_[c_],s_.push([d_*(g_[0]-o_[0]),d_*(g_[1]-o_[1])]);return s_}function Ry(r_){if(3>r_.length)return Sy(r_);var i_=1,o_=r_.length,s_=r_[0],d_=s_[0],p_=s_[1],g_=[d_,d_,d_,(s_=r_[1])[0]],c_=[p_,p_,p_,s_[1]],u_=[d_,",",p_,"L",jy(jx,g_),",",jy(jx,c_)];for(r_.push(r_[o_-1]);++i_<=o_;)s_=r_[i_],g_.shift(),g_.push(s_[0]),c_.shift(),c_.push(s_[1]),Dy(u_,g_,c_);return r_.pop(),u_.push("L",s_),u_.join("")}function jy(r_,i_){return r_[0]*i_[0]+r_[1]*i_[1]+r_[2]*i_[2]+r_[3]*i_[3]}function Dy(r_,i_,o_){r_.push("C",jy(Px,i_),",",jy(Px,o_),",",jy(Ux,i_),",",jy(Ux,o_),",",jy(jx,i_),",",jy(jx,o_))}function Hy(r_,i_){return(i_[1]-r_[1])/(i_[0]-r_[0])}function Oy(r_){for(var i_=0,o_=r_.length-1,s_=[],d_=r_[0],p_=r_[1],g_=s_[0]=Hy(d_,p_);++i_<o_;)s_[i_]=(g_+(g_=Hy(d_=p_,p_=r_[i_+1])))/2;return s_[i_]=g_,s_}function Fy(r_){for(var i_,o_,s_,d_,p_=[],g_=Oy(r_),c_=-1,u_=r_.length-1;++c_<u_;)i_=Hy(r_[c_],r_[c_+1]),vm(i_)<jm?g_[c_]=g_[c_+1]=0:(o_=g_[c_]/i_,s_=g_[c_+1]/i_,d_=o_*o_+s_*s_,9<d_&&(d_=3*i_/Math.sqrt(d_),g_[c_]=d_*o_,g_[c_+1]=d_*s_));for(c_=-1;++c_<=u_;)d_=(r_[Math.min(u_,c_+1)][0]-r_[Math.max(0,c_-1)][0])/(6*(1+g_[c_]*g_[c_])),p_.push([d_||0,g_[c_]*d_||0]);return p_}function Iy(r_){for(var i_,o_,s_,d_=-1,p_=r_.length;++d_<p_;)i_=r_[d_],o_=i_[0],s_=i_[1]-Ym,i_[0]=o_*Math.cos(s_),i_[1]=o_*Math.sin(s_);return r_}function Zy(r_){function i_(f_){function x_(){w_.push("M",c_(r_(E_),m_),y_,h_(r_(S_.reverse()),m_),"Z")}for(var __,v_,b_,w_=[],S_=[],E_=[],k_=-1,C_=f_.length,A_=Cd(o_),L_=Cd(d_),q_=o_===s_?function(){return v_}:Cd(s_),z_=d_===p_?function(){return b_}:Cd(p_);++k_<C_;)g_.call(this,__=f_[k_],k_)?(S_.push([v_=+A_.call(this,__,k_),b_=+L_.call(this,__,k_)]),E_.push([+q_.call(this,__,k_),+z_.call(this,__,k_)])):S_.length&&(x_(),S_=[],E_=[]);return S_.length&&x_(),w_.length?w_.join(""):null}var o_=Lg,s_=Lg,d_=0,p_=qg,g_=qp,c_=Sy,u_=c_.key,h_=c_,y_="L",m_=.7;return i_.x=function(f_){return arguments.length?(o_=s_=f_,i_):s_},i_.x0=function(f_){return arguments.length?(o_=f_,i_):o_},i_.x1=function(f_){return arguments.length?(s_=f_,i_):s_},i_.y=function(f_){return arguments.length?(d_=p_=f_,i_):p_},i_.y0=function(f_){return arguments.length?(d_=f_,i_):d_},i_.y1=function(f_){return arguments.length?(p_=f_,i_):p_},i_.defined=function(f_){return arguments.length?(g_=f_,i_):g_},i_.interpolate=function(f_){return arguments.length?(u_="function"==typeof f_?c_=f_:(c_=Nx.get(f_)||Sy).key,h_=c_.reverse||c_,y_=c_.closed?"M":"L",i_):u_},i_.tension=function(f_){return arguments.length?(m_=f_,i_):m_},i_}function Vy(r_){return r_.radius}function Xy(r_){return[r_.x,r_.y]}function By(r_){return function(){var i_=r_.apply(this,arguments),o_=i_[0],s_=i_[1]-Ym;return[o_*Math.cos(s_),o_*Math.sin(s_)]}}function Wy(){return 64}function $y(){return"circle"}function Jy(r_){var i_=Math.sqrt(r_/Hm);return"M0,"+i_+"A"+i_+","+i_+" 0 1,1 0,"+-i_+"A"+i_+","+i_+" 0 1,1 0,"+i_+"Z"}function Gy(r_){return function(){var i_,o_,s_;(i_=this[r_])&&(s_=i_[o_=i_.active])&&(s_.timer.c=null,s_.timer.t=NaN,--i_.count?delete i_[o_]:delete this[r_],i_.active+=.5,s_.event&&s_.event.interrupt.call(this,this.__data__,s_.index))}}function Ky(r_,i_,o_){return km(r_,Zx),r_.namespace=i_,r_.id=o_,r_}function Qy(r_,i_,o_,s_){var d_=r_.id,p_=r_.namespace;return Is(r_,"function"==typeof o_?function(g_,c_,u_){g_[p_][d_].tween.set(i_,s_(o_.call(g_,g_.__data__,c_,u_)))}:(o_=s_(o_),function(g_){g_[p_][d_].tween.set(i_,o_)}))}function em(r_){return null==r_&&(r_=""),function(){this.textContent=r_}}function tm(r_){return null==r_?"__transition__":"__transition_"+r_+"__"}function nm(r_,i_,o_,s_,d_){function g_(v_){var b_=x_.active,w_=x_[b_];for(var S_ in w_&&(w_.timer.c=null,w_.timer.t=NaN,--x_.count,delete x_[b_],w_.event&&w_.event.interrupt.call(r_,r_.__data__,w_.index)),x_)if(s_>+S_){var E_=x_[S_];E_.timer.c=null,E_.timer.t=NaN,--x_.count,delete x_[S_]}h_.c=c_,Td(function(){return h_.c&&c_(v_||1)&&(h_.c=null,h_.t=NaN),1},0,u_),x_.active=s_,__.event&&__.event.start.call(r_,r_.__data__,i_),f_=[],__.tween.forEach(function(k_,C_){(C_=C_.call(r_,r_.__data__,i_))&&f_.push(C_)}),m_=__.ease,y_=__.duration}function c_(v_){for(var b_=v_/y_,w_=m_(b_),S_=f_.length;0<S_;)f_[--S_].call(r_,w_);return 1<=b_?(__.event&&__.event.end.call(r_,r_.__data__,i_),--x_.count?delete x_[s_]:delete r_[o_],1):void 0}var u_,h_,y_,m_,f_,x_=r_[o_]||(r_[o_]={active:0,count:0}),__=x_[s_];__||(u_=d_.time,h_=Td(function(v_){var b_=__.delay;return h_.t=b_+u_,v_>=b_?g_(v_-b_):void(h_.c=g_)},0,u_),__=x_[s_]={tween:new ds,time:u_,timer:h_,delay:d_.delay,duration:d_.duration,ease:d_.ease,index:i_},d_=null,++x_.count)}function am(r_,i_,o_){r_.attr("transform",function(s_){var d_=i_(s_);return"translate("+(isFinite(d_)?d_:o_(s_))+",0)"})}function lm(r_,i_,o_){r_.attr("transform",function(s_){var d_=i_(s_);return"translate(0,"+(isFinite(d_)?d_:o_(s_))+")"})}function rm(r_){return r_.toISOString()}function im(r_,i_,o_){function s_(p_){return r_(p_)}function d_(p_,g_){var c_=p_[1]-p_[0],u_=c_/g_,h_=pm.bisect(Qx,u_);return h_==Qx.length?[i_.year,ty(p_.map(function(y_){return y_/31536e6}),g_)[2]]:h_?i_[u_/Qx[h_-1]<Qx[h_]/u_?h_-1:h_]:[n_,ty(p_,g_)[2]]}return s_.invert=function(p_){return om(r_.invert(p_))},s_.domain=function(p_){return arguments.length?(r_.domain(p_),s_):r_.domain().map(om)},s_.nice=function(p_,g_){function c_(m_){return!isNaN(m_)&&!p_.range(m_,om(+m_+1),g_).length}var u_=s_.domain(),h_=Xh(u_),y_=null==p_?d_(h_,10):"number"==typeof p_&&d_(h_,p_);return y_&&(p_=y_[0],g_=y_[1]),s_.domain($h(u_,1<g_?{floor:function(m_){for(;c_(m_=p_.floor(m_));)m_=om(m_-1);return m_},ceil:function(m_){for(;c_(m_=p_.ceil(m_));)m_=om(+m_+1);return m_}}:p_))},s_.ticks=function(p_,g_){var c_=Xh(s_.domain()),u_=null==p_?d_(c_,10):"number"==typeof p_?d_(c_,p_):!p_.range&&[{range:p_},g_];return u_&&(p_=u_[0],g_=u_[1]),p_.range(c_[0],om(+c_[1]+1),1>g_?1:g_)},s_.tickFormat=function(){return o_},s_.copy=function(){return im(r_.copy(),i_,o_)},Qh(s_,r_)}function om(r_){return new Date(r_)}function sm(r_){return JSON.parse(r_.responseText)}function dm(r_){var i_=um.createRange();return i_.selectNode(um.body),i_.createContextualFragment(r_.responseText)}var pm={version:"3.5.17"},gm=[].slice,cm=function(r_){return gm.call(r_)},um=this.document;if(um)try{cm(um.documentElement.childNodes)[0].nodeType}catch(r_){cm=function(i_){for(var o_=i_.length,s_=Array(o_);o_--;)s_[o_]=i_[o_];return s_}}if(Date.now||(Date.now=function(){return+new Date}),um)try{um.createElement("DIV").style.setProperty("opacity",0,"")}catch(r_){var hm=this.Element.prototype,ym=hm.setAttribute,mm=hm.setAttributeNS,fm=this.CSSStyleDeclaration.prototype,xm=fm.setProperty;hm.setAttribute=function(i_,o_){ym.call(this,i_,o_+"")},hm.setAttributeNS=function(i_,o_,s_){mm.call(this,i_,o_,s_+"")},fm.setProperty=function(i_,o_,s_){xm.call(this,i_,o_+"",s_)}}pm.ascending=ns,pm.descending=function(r_,i_){return r_>i_?-1:i_>r_?1:i_>=r_?0:NaN},pm.min=function(r_,i_){var o_,s_,d_=-1,p_=r_.length;if(1===arguments.length){for(;++d_<p_;)if(null!=(s_=r_[d_])&&s_>=s_){o_=s_;break}for(;++d_<p_;)null!=(s_=r_[d_])&&o_>s_&&(o_=s_)}else{for(;++d_<p_;)if(null!=(s_=i_.call(r_,r_[d_],d_))&&s_>=s_){o_=s_;break}for(;++d_<p_;)null!=(s_=i_.call(r_,r_[d_],d_))&&o_>s_&&(o_=s_)}return o_},pm.max=function(r_,i_){var o_,s_,d_=-1,p_=r_.length;if(1===arguments.length){for(;++d_<p_;)if(null!=(s_=r_[d_])&&s_>=s_){o_=s_;break}for(;++d_<p_;)null!=(s_=r_[d_])&&s_>o_&&(o_=s_)}else{for(;++d_<p_;)if(null!=(s_=i_.call(r_,r_[d_],d_))&&s_>=s_){o_=s_;break}for(;++d_<p_;)null!=(s_=i_.call(r_,r_[d_],d_))&&s_>o_&&(o_=s_)}return o_},pm.extent=function(r_,i_){var o_,s_,d_,p_=-1,g_=r_.length;if(1===arguments.length){for(;++p_<g_;)if(null!=(s_=r_[p_])&&s_>=s_){o_=d_=s_;break}for(;++p_<g_;)null!=(s_=r_[p_])&&(o_>s_&&(o_=s_),s_>d_&&(d_=s_))}else{for(;++p_<g_;)if(null!=(s_=i_.call(r_,r_[p_],p_))&&s_>=s_){o_=d_=s_;break}for(;++p_<g_;)null!=(s_=i_.call(r_,r_[p_],p_))&&(o_>s_&&(o_=s_),s_>d_&&(d_=s_))}return[o_,d_]},pm.sum=function(r_,i_){var o_,s_=0,d_=r_.length,p_=-1;if(1===arguments.length)for(;++p_<d_;)ls(o_=+r_[p_])&&(s_+=o_);else for(;++p_<d_;)ls(o_=+i_.call(r_,r_[p_],p_))&&(s_+=o_);return s_},pm.mean=function(r_,i_){var o_,s_=0,d_=r_.length,p_=-1,g_=d_;if(1===arguments.length)for(;++p_<d_;)ls(o_=as(r_[p_]))?s_+=o_:--g_;else for(;++p_<d_;)ls(o_=as(i_.call(r_,r_[p_],p_)))?s_+=o_:--g_;return g_?s_/g_:void 0},pm.quantile=function(r_,i_){var o_=(r_.length-1)*i_+1,s_=Math.floor(o_),d_=+r_[s_-1],p_=o_-s_;return p_?d_+p_*(r_[s_]-d_):d_},pm.median=function(r_,i_){var o_,s_=[],d_=r_.length,p_=-1;if(1===arguments.length)for(;++p_<d_;)ls(o_=as(r_[p_]))&&s_.push(o_);else for(;++p_<d_;)ls(o_=as(i_.call(r_,r_[p_],p_)))&&s_.push(o_);return s_.length?pm.quantile(s_.sort(ns),.5):void 0},pm.variance=function(r_,i_){var o_,s_,d_=r_.length,p_=0,g_=0,c_=-1,u_=0;if(1===arguments.length)for(;++c_<d_;)ls(o_=as(r_[c_]))&&(s_=o_-p_,p_+=s_/++u_,g_+=s_*(o_-p_));else for(;++c_<d_;)ls(o_=as(i_.call(r_,r_[c_],c_)))&&(s_=o_-p_,p_+=s_/++u_,g_+=s_*(o_-p_));return 1<u_?g_/(u_-1):void 0},pm.deviation=function(){var r_=pm.variance.apply(this,arguments);return r_?Math.sqrt(r_):r_};var _m=rs(ns);pm.bisectLeft=_m.left,pm.bisect=pm.bisectRight=_m.right,pm.bisector=function(r_){return rs(1===r_.length?function(i_,o_){return ns(r_(i_),o_)}:r_)},pm.shuffle=function(r_,i_,o_){3>(p_=arguments.length)&&(o_=r_.length,2>p_&&(i_=0));for(var s_,d_,p_=o_-i_;p_;)d_=0|Math.random()*p_--,s_=r_[p_+i_],r_[p_+i_]=r_[d_+i_],r_[d_+i_]=s_;return r_},pm.permute=function(r_,i_){for(var o_=i_.length,s_=Array(o_);o_--;)s_[o_]=r_[i_[o_]];return s_},pm.pairs=function(r_){for(var i_,o_=0,s_=r_.length-1,d_=r_[0],p_=Array(0>s_?0:s_);s_>o_;)p_[o_]=[i_=d_,d_=r_[++o_]];return p_},pm.transpose=function(r_){if(!(d_=r_.length))return[];for(var i_=-1,o_=pm.min(r_,is),s_=Array(o_);++i_<o_;)for(var d_,p_=-1,g_=s_[i_]=Array(d_);++p_<d_;)g_[p_]=r_[p_][i_];return s_},pm.zip=function(){return pm.transpose(arguments)},pm.keys=function(r_){var i_=[];for(var o_ in r_)i_.push(o_);return i_},pm.values=function(r_){var i_=[];for(var o_ in r_)i_.push(r_[o_]);return i_},pm.entries=function(r_){var i_=[];for(var o_ in r_)i_.push({key:o_,value:r_[o_]});return i_},pm.merge=function(r_){for(var i_,o_,s_,d_=r_.length,p_=-1,g_=0;++p_<d_;)g_+=r_[p_].length;for(o_=Array(g_);0<=--d_;)for(s_=r_[d_],i_=s_.length;0<=--i_;)o_[--g_]=s_[i_];return o_};var vm=Math.abs;pm.range=function(r_,i_,o_){if(3>arguments.length&&(o_=1,2>arguments.length&&(i_=r_,r_=0)),(i_-r_)/o_===1/0)throw new Error("infinite range");var s_,d_=[],p_=os(vm(o_)),g_=-1;if(r_*=p_,i_*=p_,o_*=p_,0>o_)for(;(s_=r_+o_*++g_)>i_;)d_.push(s_/p_);else for(;(s_=r_+o_*++g_)<i_;)d_.push(s_/p_);return d_},pm.map=function(r_,i_){var o_=new ds;if(r_ instanceof ds)r_.forEach(function(c_,u_){o_.set(c_,u_)});else if(Array.isArray(r_)){var s_,d_=-1,p_=r_.length;if(1===arguments.length)for(;++d_<p_;)o_.set(d_,r_[d_]);else for(;++d_<p_;)o_.set(i_.call(r_,s_=r_[d_],d_),s_)}else for(var g_ in r_)o_.set(g_,r_[g_]);return o_};var bm="__proto__",wm="\0";ss(ds,{has:cs,get:function(r_){return this._[ps(r_)]},set:function(r_,i_){return this._[ps(r_)]=i_},remove:us,keys:hs,values:function(){var r_=[];for(var i_ in this._)r_.push(this._[i_]);return r_},entries:function(){var r_=[];for(var i_ in this._)r_.push({key:gs(i_),value:this._[i_]});return r_},size:ys,empty:ms,forEach:function(r_){for(var i_ in this._)r_.call(this,gs(i_),this._[i_])}}),pm.nest=function(){function r_(c_,u_,h_){if(h_>=p_.length)return s_?s_.call(d_,u_):o_?u_.sort(o_):u_;for(var y_,m_,f_,x_,__=-1,v_=u_.length,b_=p_[h_++],w_=new ds;++__<v_;)(x_=w_.get(y_=b_(m_=u_[__])))?x_.push(m_):w_.set(y_,[m_]);return c_?(m_=c_(),f_=function(S_,E_){m_.set(S_,r_(c_,E_,h_))}):(m_={},f_=function(S_,E_){m_[S_]=r_(c_,E_,h_)}),w_.forEach(f_),m_}function i_(c_,u_){if(u_>=p_.length)return c_;var h_=[],y_=g_[u_++];return c_.forEach(function(m_,f_){h_.push({key:m_,values:i_(f_,u_)})}),y_?h_.sort(function(m_,f_){return y_(m_.key,f_.key)}):h_}var o_,s_,d_={},p_=[],g_=[];return d_.map=function(c_,u_){return r_(u_,c_,0)},d_.entries=function(c_){return i_(r_(pm.map,c_,0),0)},d_.key=function(c_){return p_.push(c_),d_},d_.sortKeys=function(c_){return g_[p_.length-1]=c_,d_},d_.sortValues=function(c_){return o_=c_,d_},d_.rollup=function(c_){return s_=c_,d_},d_},pm.set=function(r_){var i_=new fs;if(r_)for(var o_=0,s_=r_.length;s_>o_;++o_)i_.add(r_[o_]);return i_},ss(fs,{has:cs,add:function(r_){return this._[ps(r_+="")]=!0,r_},remove:us,values:hs,size:ys,empty:ms,forEach:function(r_){for(var i_ in this._)r_.call(this,gs(i_))}}),pm.behavior={},pm.rebind=function(r_,i_){for(var o_,s_=1,d_=arguments.length;++s_<d_;)r_[o_=arguments[s_]]=_s(r_,i_,i_[o_]);return r_};var Sm=["webkit","ms","moz","Moz","o","O"];pm.dispatch=function(){for(var r_=new ws,i_=-1,o_=arguments.length;++i_<o_;)r_[arguments[i_]]=Ss(r_);return r_},ws.prototype.on=function(r_,i_){var o_=r_.indexOf("."),s_="";if(0<=o_&&(s_=r_.slice(o_+1),r_=r_.slice(0,o_)),r_)return 2>arguments.length?this[r_].on(s_):this[r_].on(s_,i_);if(2===arguments.length){if(null==i_)for(r_ in this)this.hasOwnProperty(r_)&&this[r_].on(s_,null);return this}},pm.event=null,pm.requote=function(r_){return r_.replace(Em,"\\$&")};var Em=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,km={}.__proto__?function(r_,i_){r_.__proto__=i_}:function(r_,i_){for(var o_ in i_)r_[o_]=i_[o_]},Cm=function(r_,i_){return i_.querySelector(r_)},Am=function(r_,i_){return i_.querySelectorAll(r_)},Lm=function(r_,i_){var o_=r_.matches||r_[vs(r_,"matchesSelector")];return(Lm=function(s_,d_){return o_.call(s_,d_)})(r_,i_)};"function"==typeof Sizzle&&(Cm=function(r_,i_){return Sizzle(r_,i_)[0]||null},Am=Sizzle,Lm=Sizzle.matchesSelector),pm.selection=function(){return pm.select(um.documentElement)};var qm=pm.selection.prototype=[];qm.select=function(r_){var i_,o_,s_,d_,p_=[];r_=Ls(r_);for(var g_=-1,c_=this.length;++g_<c_;){p_.push(i_=[]),i_.parentNode=(s_=this[g_]).parentNode;for(var u_=-1,h_=s_.length;++u_<h_;)(d_=s_[u_])?(i_.push(o_=r_.call(d_,d_.__data__,u_,g_)),o_&&"__data__"in d_&&(o_.__data__=d_.__data__)):i_.push(null)}return As(p_)},qm.selectAll=function(r_){var i_,o_,s_=[];r_=qs(r_);for(var d_=-1,p_=this.length;++d_<p_;)for(var g_=this[d_],c_=-1,u_=g_.length;++c_<u_;)(o_=g_[c_])&&(s_.push(i_=cm(r_.call(o_,o_.__data__,c_,d_))),i_.parentNode=o_);return As(s_)};var zm="http://www.w3.org/1999/xhtml",Tm={svg:"http://www.w3.org/2000/svg",xhtml:zm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};pm.ns={prefix:Tm,qualify:function(r_){var i_=r_.indexOf(":"),o_=r_;return 0<=i_&&"xmlns"!==(o_=r_.slice(0,i_))&&(r_=r_.slice(i_+1)),Tm.hasOwnProperty(o_)?{space:Tm[o_],local:r_}:r_}},qm.attr=function(r_,i_){if(2>arguments.length){if("string"==typeof r_){var o_=this.node();return r_=pm.ns.qualify(r_),r_.local?o_.getAttributeNS(r_.space,r_.local):o_.getAttribute(r_)}for(i_ in r_)this.each(zs(i_,r_[i_]));return this}return this.each(zs(r_,i_))},qm.classed=function(r_,i_){if(2>arguments.length){if("string"==typeof r_){var o_=this.node(),s_=(r_=Rs(r_)).length,d_=-1;if(i_=o_.classList){for(;++d_<s_;)if(!i_.contains(r_[d_]))return!1;}else for(i_=o_.getAttribute("class");++d_<s_;)if(!Ms(r_[d_]).test(i_))return!1;return!0}for(i_ in r_)this.each(Ns(i_,r_[i_]));return this}return this.each(Ns(r_,i_))},qm.style=function(r_,i_,o_){var s_=arguments.length;if(3>s_){if("string"!=typeof r_){for(o_ in 2>s_&&(i_=""),r_)this.each(Us(o_,r_[o_],i_));return this}if(2>s_){var d_=this.node();return ts(d_).getComputedStyle(d_,null).getPropertyValue(r_)}o_=""}return this.each(Us(r_,i_,o_))},qm.property=function(r_,i_){if(2>arguments.length){if("string"==typeof r_)return this.node()[r_];for(i_ in r_)this.each(js(i_,r_[i_]));return this}return this.each(js(r_,i_))},qm.text=function(r_){return arguments.length?this.each("function"==typeof r_?function(){var i_=r_.apply(this,arguments);this.textContent=null==i_?"":i_}:null==r_?function(){this.textContent=""}:function(){this.textContent=r_}):this.node().textContent},qm.html=function(r_){return arguments.length?this.each("function"==typeof r_?function(){var i_=r_.apply(this,arguments);this.innerHTML=null==i_?"":i_}:null==r_?function(){this.innerHTML=""}:function(){this.innerHTML=r_}):this.node().innerHTML},qm.append=function(r_){return r_=Ds(r_),this.select(function(){return this.appendChild(r_.apply(this,arguments))})},qm.insert=function(r_,i_){return r_=Ds(r_),i_=Ls(i_),this.select(function(){return this.insertBefore(r_.apply(this,arguments),i_.apply(this,arguments)||null)})},qm.remove=function(){return this.each(Hs)},qm.data=function(r_,i_){function o_(y_,m_){var f_,x_,__,v_=y_.length,b_=m_.length,w_=Math.min(v_,b_),S_=Array(b_),E_=Array(b_),k_=Array(v_);if(i_){var C_,A_=new ds,L_=Array(v_);for(f_=-1;++f_<v_;)(x_=y_[f_])&&(A_.has(C_=i_.call(x_,x_.__data__,f_))?k_[f_]=x_:A_.set(C_,x_),L_[f_]=C_);for(f_=-1;++f_<b_;)(x_=A_.get(C_=i_.call(m_,__=m_[f_],f_)))?!0!==x_&&(S_[f_]=x_,x_.__data__=__):E_[f_]=Os(__),A_.set(C_,!0);for(f_=-1;++f_<v_;)f_ in L_&&!0!==A_.get(L_[f_])&&(k_[f_]=y_[f_])}else{for(f_=-1;++f_<w_;)x_=y_[f_],__=m_[f_],x_?(x_.__data__=__,S_[f_]=x_):E_[f_]=Os(__);for(;b_>f_;++f_)E_[f_]=Os(m_[f_]);for(;v_>f_;++f_)k_[f_]=y_[f_]}E_.update=S_,E_.parentNode=S_.parentNode=k_.parentNode=y_.parentNode,c_.push(E_),u_.push(S_),h_.push(k_)}var s_,d_,p_=-1,g_=this.length;if(!arguments.length){for(r_=Array(g_=(s_=this[0]).length);++p_<g_;)(d_=s_[p_])&&(r_[p_]=d_.__data__);return r_}var c_=Zs([]),u_=As([]),h_=As([]);if("function"==typeof r_)for(;++p_<g_;)o_(s_=this[p_],r_.call(s_,s_.parentNode.__data__,p_));else for(;++p_<g_;)o_(s_=this[p_],r_);return u_.enter=function(){return c_},u_.exit=function(){return h_},u_},qm.datum=function(r_){return arguments.length?this.property("__data__",r_):this.property("__data__")},qm.filter=function(r_){var i_,o_,s_,d_=[];"function"!=typeof r_&&(r_=Fs(r_));for(var p_=0,g_=this.length;g_>p_;p_++){d_.push(i_=[]),i_.parentNode=(o_=this[p_]).parentNode;for(var c_=0,u_=o_.length;u_>c_;c_++)(s_=o_[c_])&&r_.call(s_,s_.__data__,c_,p_)&&i_.push(s_)}return As(d_)},qm.order=function(){for(var r_=-1,i_=this.length;++r_<i_;)for(var o_,s_=this[r_],d_=s_.length-1,p_=s_[d_];0<=--d_;)(o_=s_[d_])&&(p_&&p_!==o_.nextSibling&&p_.parentNode.insertBefore(o_,p_),p_=o_);return this},qm.sort=function(r_){r_=Ys.apply(this,arguments);for(var i_=-1,o_=this.length;++i_<o_;)this[i_].sort(r_);return this.order()},qm.each=function(r_){return Is(this,function(i_,o_,s_){r_.call(i_,i_.__data__,o_,s_)})},qm.call=function(r_){var i_=cm(arguments);return r_.apply(i_[0]=this,i_),this},qm.empty=function(){return!this.node()},qm.node=function(){for(var r_=0,i_=this.length;i_>r_;r_++)for(var p_,o_=this[r_],s_=0,d_=o_.length;d_>s_;s_++)if(p_=o_[s_],p_)return p_;return null},qm.size=function(){var r_=0;return Is(this,function(){++r_}),r_};var Mm=[];pm.selection.enter=Zs,pm.selection.enter.prototype=Mm,Mm.append=qm.append,Mm.empty=qm.empty,Mm.node=qm.node,Mm.call=qm.call,Mm.size=qm.size,Mm.select=function(r_){for(var i_,o_,s_,d_,p_,g_=[],c_=-1,u_=this.length;++c_<u_;){s_=(d_=this[c_]).update,g_.push(i_=[]),i_.parentNode=d_.parentNode;for(var h_=-1,y_=d_.length;++h_<y_;)(p_=d_[h_])?(i_.push(s_[h_]=o_=r_.call(d_.parentNode,p_.__data__,h_,c_)),o_.__data__=p_.__data__):i_.push(null)}return As(g_)},Mm.insert=function(r_,i_){return 2>arguments.length&&(i_=Vs(this)),qm.insert.call(this,r_,i_)},pm.select=function(r_){var i_;return"string"==typeof r_?(i_=[Cm(r_,um)],i_.parentNode=um.documentElement):(i_=[r_],i_.parentNode=es(r_)),As([i_])},pm.selectAll=function(r_){var i_;return"string"==typeof r_?(i_=cm(Am(r_,um)),i_.parentNode=um.documentElement):(i_=cm(r_),i_.parentNode=null),As([i_])},qm.on=function(r_,i_,o_){var s_=arguments.length;if(3>s_){if("string"!=typeof r_){for(o_ in 2>s_&&(i_=!1),r_)this.each(Xs(o_,r_[o_],i_));return this}if(2>s_)return(s_=this.node()["__on"+r_])&&s_._;o_=!1}return this.each(Xs(r_,i_,o_))};var Rm=pm.map({mouseenter:"mouseover",mouseleave:"mouseout"});um&&Rm.forEach(function(r_){"on"+r_ in um&&Rm.remove(r_)});var Nm,Pm=0;pm.mouse=function(r_){return Js(r_,ks())};var Um=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;pm.touch=function(r_,i_,o_){if(3>arguments.length&&(o_=i_,i_=ks().changedTouches),i_)for(var s_,d_=0,p_=i_.length;p_>d_;++d_)if((s_=i_[d_]).identifier===o_)return Js(r_,s_)},pm.behavior.drag=function(){function r_(){this.on("mousedown.drag",d_).on("touchstart.drag",p_)}function i_(g_,c_,u_,h_,y_){return function(){var x_,__=this,v_=pm.event.target.correspondingElement||pm.event.target,b_=__.parentNode,w_=o_.of(__,arguments),S_=0,E_=g_(),k_=".drag"+(null==E_?"":"-"+E_),C_=pm.select(u_(v_)).on(h_+k_,function(){var q_,z_,T_=c_(b_,E_);T_&&(q_=T_[0]-L_[0],z_=T_[1]-L_[1],S_|=q_|z_,L_=T_,w_({type:"drag",x:T_[0]+x_[0],y:T_[1]+x_[1],dx:q_,dy:z_}))}).on(y_+k_,function(){c_(b_,E_)&&(C_.on(h_+k_,null).on(y_+k_,null),A_(S_),w_({type:"dragend"}))}),A_=$s(v_),L_=c_(b_,E_);s_?(x_=s_.apply(__,arguments),x_=[x_.x-L_[0],x_.y-L_[1]]):x_=[0,0],w_({type:"dragstart"})}}var o_=Cs(r_,"drag","dragstart","dragend"),s_=null,d_=i_(bs,pm.mouse,ts,"mousemove","mouseup"),p_=i_(Gs,pm.touch,xs,"touchmove","touchend");return r_.origin=function(g_){return arguments.length?(s_=g_,r_):s_},pm.rebind(r_,o_,"on")},pm.touches=function(r_,i_){return 2>arguments.length&&(i_=ks().touches),i_?cm(i_).map(function(o_){var s_=Js(r_,o_);return s_.identifier=o_.identifier,s_}):[]};var jm=1e-6,Dm=jm*jm,Hm=Math.PI,Om=2*Hm,Ym=Hm/2,Im=Hm/180,Zm=180/Hm,Vm=Math.SQRT2,Xm=2,Bm=4;pm.interpolateZoom=function(r_,i_){var o_,s_,d_=r_[0],p_=r_[1],g_=r_[2],c_=i_[0],u_=i_[1],h_=i_[2],y_=c_-d_,m_=u_-p_,f_=y_*y_+m_*m_;if(Dm>f_)s_=Math.log(h_/g_)/Vm,o_=function(S_){return[d_+S_*y_,p_+S_*m_,g_*Math.exp(Vm*S_*s_)]};else{var x_=Math.sqrt(f_),__=(h_*h_-g_*g_+Bm*f_)/(2*g_*Xm*x_),v_=(h_*h_-g_*g_-Bm*f_)/(2*h_*Xm*x_),b_=Math.log(Math.sqrt(__*__+1)-__),w_=Math.log(Math.sqrt(v_*v_+1)-v_);s_=(w_-b_)/Vm,o_=function(S_){var E_=S_*s_,k_=ad(b_),C_=g_/(Xm*x_)*(k_*ld(Vm*E_+b_)-nd(b_));return[d_+C_*y_,p_+C_*m_,g_*k_/ad(Vm*E_+b_)]}}return o_.duration=1e3*s_,o_},pm.behavior.zoom=function(){function r_(D_){D_.on(R_,y_).on($m+".zoom",f_).on("dblclick.zoom",x_).on(U_,m_)}function i_(D_){return[(D_[0]-L_.x)/L_.k,(D_[1]-L_.y)/L_.k]}function o_(D_){return[D_[0]*L_.k+L_.x,D_[1]*L_.k+L_.y]}function s_(D_){L_.k=Math.max(z_[0],Math.min(z_[1],D_))}function d_(D_,H_){H_=o_(H_),L_.x+=D_[0]-H_[0],L_.y+=D_[1]-H_[1]}function p_(D_,H_,O_,F_){D_.__chart__={x:L_.x,y:L_.y,k:L_.k},s_(Math.pow(2,F_)),d_(v_=H_,O_),D_=pm.select(D_),0<T_&&(D_=D_.transition().duration(T_)),D_.call(r_.event)}function g_(){k_&&k_.domain(E_.range().map(function(D_){return(D_-L_.x)/L_.k}).map(E_.invert)),A_&&A_.domain(C_.range().map(function(D_){return(D_-L_.y)/L_.k}).map(C_.invert))}function c_(D_){M_++||D_({type:"zoomstart"})}function u_(D_){g_(),D_({type:"zoom",scale:L_.k,translate:[L_.x,L_.y]})}function h_(D_){--M_||(D_({type:"zoomend"}),v_=null)}function y_(){var O_=this,F_=j_.of(O_,arguments),Y_=0,I_=pm.select(ts(O_)).on(N_,function(){Y_=1,d_(pm.mouse(O_),Z_),u_(F_)}).on(P_,function(){I_.on(N_,null).on(P_,null),V_(Y_),h_(F_)}),Z_=i_(pm.mouse(O_)),V_=$s(O_);Ix.call(O_),c_(F_)}function m_(){function D_(){var Q_=pm.touches(I_);return Y_=L_.k,Q_.forEach(function(ev){ev.identifier in V_&&(V_[ev.identifier]=i_(ev))}),Q_}function H_(){var Q_=pm.event.target;pm.select(Q_).on(W_,O_).on($_,F_),J_.push(Q_);for(var ev=pm.event.changedTouches,tv=0,nv=ev.length;nv>tv;++tv)V_[ev[tv].identifier]=null;var av=D_(),lv=Date.now();if(1===av.length){if(500>lv-S_){var rv=av[0];p_(I_,rv,V_[rv.identifier],Math.floor(Math.log(L_.k)/Math.LN2)+1),Es()}S_=lv}else if(1<av.length){var rv=av[0],iv=av[1],ov=rv[0]-iv[0],sv=rv[1]-iv[1];X_=ov*ov+sv*sv}}function O_(){var Q_,ev,tv,nv,av=pm.touches(I_);Ix.call(I_);for(var lv=0,rv=av.length;rv>lv;++lv,nv=null)if(tv=av[lv],nv=V_[tv.identifier]){if(ev)break;Q_=tv,ev=nv}if(nv){var iv=(iv=tv[0]-Q_[0])*iv+(iv=tv[1]-Q_[1])*iv,ov=X_&&Math.sqrt(iv/X_);Q_=[(Q_[0]+tv[0])/2,(Q_[1]+tv[1])/2],ev=[(ev[0]+nv[0])/2,(ev[1]+nv[1])/2],s_(ov*Y_)}S_=null,d_(Q_,ev),u_(Z_)}function F_(){if(pm.event.touches.length){for(var Q_=pm.event.changedTouches,ev=0,tv=Q_.length;tv>ev;++ev)delete V_[Q_[ev].identifier];for(var nv in V_)return void D_()}pm.selectAll(J_).on(B_,null),G_.on(R_,y_).on(U_,m_),K_(),h_(Z_)}var Y_,I_=this,Z_=j_.of(I_,arguments),V_={},X_=0,B_=".zoom-"+pm.event.changedTouches[0].identifier,W_="touchmove"+B_,$_="touchend"+B_,J_=[],G_=pm.select(I_),K_=$s(I_);H_(),c_(Z_),G_.on(R_,null).on(U_,H_)}function f_(){var D_=j_.of(this,arguments);w_?clearTimeout(w_):(Ix.call(this),__=i_(v_=b_||pm.mouse(this)),c_(D_)),w_=setTimeout(function(){w_=null,h_(D_)},50),Es(),s_(Math.pow(2,.002*Wm())*L_.k),d_(v_,__),u_(D_)}function x_(){var D_=pm.mouse(this),H_=Math.log(L_.k)/Math.LN2;p_(this,D_,i_(D_),pm.event.shiftKey?Math.ceil(H_)-1:Math.floor(H_)+1)}var __,v_,b_,w_,S_,E_,k_,C_,A_,L_={x:0,y:0,k:1},q_=[960,500],z_=Jm,T_=250,M_=0,R_="mousedown.zoom",N_="mousemove.zoom",P_="mouseup.zoom",U_="touchstart.zoom",j_=Cs(r_,"zoomstart","zoom","zoomend");return $m||($m="onwheel"in um?(Wm=function(){return-pm.event.deltaY*(pm.event.deltaMode?120:1)},"wheel"):"onmousewheel"in um?(Wm=function(){return pm.event.wheelDelta},"mousewheel"):(Wm=function(){return-pm.event.detail},"MozMousePixelScroll")),r_.event=function(D_){D_.each(function(){var H_=j_.of(this,arguments),O_=L_;Fx?pm.select(this).transition().each("start.zoom",function(){L_=this.__chart__||{x:0,y:0,k:1},c_(H_)}).tween("zoom:zoom",function(){var F_=q_[0],Y_=q_[1],I_=v_?v_[0]:F_/2,Z_=v_?v_[1]:Y_/2,V_=pm.interpolateZoom([(I_-L_.x)/L_.k,(Z_-L_.y)/L_.k,F_/L_.k],[(I_-O_.x)/O_.k,(Z_-O_.y)/O_.k,F_/O_.k]);return function(X_){var B_=V_(X_),W_=F_/B_[2];this.__chart__=L_={x:I_-B_[0]*W_,y:Z_-B_[1]*W_,k:W_},u_(H_)}}).each("interrupt.zoom",function(){h_(H_)}).each("end.zoom",function(){h_(H_)}):(this.__chart__=L_,c_(H_),u_(H_),h_(H_))})},r_.translate=function(D_){return arguments.length?(L_={x:+D_[0],y:+D_[1],k:L_.k},g_(),r_):[L_.x,L_.y]},r_.scale=function(D_){return arguments.length?(L_={x:L_.x,y:L_.y,k:null},s_(+D_),g_(),r_):L_.k},r_.scaleExtent=function(D_){return arguments.length?(z_=null==D_?Jm:[+D_[0],+D_[1]],r_):z_},r_.center=function(D_){return arguments.length?(b_=D_&&[+D_[0],+D_[1]],r_):b_},r_.size=function(D_){return arguments.length?(q_=D_&&[+D_[0],+D_[1]],r_):q_},r_.duration=function(D_){return arguments.length?(T_=+D_,r_):T_},r_.x=function(D_){return arguments.length?(k_=D_,E_=D_.copy(),L_={x:0,y:0,k:1},r_):k_},r_.y=function(D_){return arguments.length?(A_=D_,C_=D_.copy(),L_={x:0,y:0,k:1},r_):A_},pm.rebind(r_,j_,"on")};var Wm,$m,Jm=[0,Infinity];pm.color=id,id.prototype.toString=function(){return this.rgb()+""},pm.hsl=od;var Gm=od.prototype=new id;Gm.brighter=function(r_){return r_=Math.pow(.7,arguments.length?r_:1),new od(this.h,this.s,this.l/r_)},Gm.darker=function(r_){return r_=Math.pow(.7,arguments.length?r_:1),new od(this.h,this.s,r_*this.l)},Gm.rgb=function(){return sd(this.h,this.s,this.l)},pm.hcl=dd;var Km=dd.prototype=new id;Km.brighter=function(r_){return new dd(this.h,this.c,Math.min(100,this.l+Qm*(arguments.length?r_:1)))},Km.darker=function(r_){return new dd(this.h,this.c,Math.max(0,this.l-Qm*(arguments.length?r_:1)))},Km.rgb=function(){return pd(this.h,this.c,this.l).rgb()},pm.lab=gd;var Qm=18,ef=.95047,tf=1,nf=1.08883,af=gd.prototype=new id;af.brighter=function(r_){return new gd(Math.min(100,this.l+Qm*(arguments.length?r_:1)),this.a,this.b)},af.darker=function(r_){return new gd(Math.max(0,this.l-Qm*(arguments.length?r_:1)),this.a,this.b)},af.rgb=function(){return cd(this.l,this.a,this.b)},pm.rgb=fd;var lf=fd.prototype=new id;lf.brighter=function(r_){r_=Math.pow(.7,arguments.length?r_:1);var i_=this.r,o_=this.g,s_=this.b,d_=30;return i_||o_||s_?(i_&&d_>i_&&(i_=d_),o_&&d_>o_&&(o_=d_),s_&&d_>s_&&(s_=d_),new fd(Math.min(255,i_/r_),Math.min(255,o_/r_),Math.min(255,s_/r_))):new fd(d_,d_,d_)},lf.darker=function(r_){return r_=Math.pow(.7,arguments.length?r_:1),new fd(r_*this.r,r_*this.g,r_*this.b)},lf.hsl=function(){return wd(this.r,this.g,this.b)},lf.toString=function(){return"#"+vd(this.r)+vd(this.g)+vd(this.b)};var rf=pm.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rf.forEach(function(r_,i_){rf.set(r_,xd(i_))}),pm.functor=Cd,pm.xhr=Ad(xs),pm.dsv=function(r_,i_){function o_(h_,y_,m_){3>arguments.length&&(m_=y_,y_=null);var f_=Ld(h_,i_,null==y_?s_:d_(y_),m_);return f_.row=function(x_){return arguments.length?f_.response(null==(y_=x_)?s_:d_(x_)):y_},f_}function s_(h_){return o_.parse(h_.responseText)}function d_(h_){return function(y_){return o_.parse(y_.responseText,h_)}}function p_(h_){return h_.map(g_).join(r_)}function g_(h_){return c_.test(h_)?"\""+h_.replace(/\"/g,"\"\"")+"\"":h_}var c_=new RegExp("[\""+r_+"\n]"),u_=r_.charCodeAt(0);return o_.parse=function(h_,y_){var m_;return o_.parseRows(h_,function(f_,x_){if(m_)return m_(f_,x_-1);var __=new Function("d","return {"+f_.map(function(v_,b_){return JSON.stringify(v_)+": d["+b_+"]"}).join(",")+"}");m_=y_?function(v_,b_){return y_(__(v_),b_)}:__})},o_.parseRows=function(h_,y_){function m_(){if(S_>=w_)return v_;if(x_)return x_=!1,__;var C_=S_;if(34===h_.charCodeAt(C_)){for(var A_=C_;A_++<w_;)if(34===h_.charCodeAt(A_)){if(34!==h_.charCodeAt(A_+1))break;++A_}S_=A_+2;var L_=h_.charCodeAt(A_+1);return 13===L_?(x_=!0,10===h_.charCodeAt(A_+2)&&++S_):10===L_&&(x_=!0),h_.slice(C_+1,A_).replace(/""/g,"\"")}for(;w_>S_;){var L_=h_.charCodeAt(S_++),q_=1;if(10===L_)x_=!0;else if(13===L_)x_=!0,10===h_.charCodeAt(S_)&&(++S_,++q_);else if(L_!==u_)continue;return h_.slice(C_,S_-q_)}return h_.slice(C_)}for(var f_,x_,__={},v_={},b_=[],w_=h_.length,S_=0,E_=0;(f_=m_())!==v_;){for(var k_=[];f_!==__&&f_!==v_;)k_.push(f_),f_=m_();y_&&null==(k_=y_(k_,E_++))||b_.push(k_)}return b_},o_.format=function(h_){if(Array.isArray(h_[0]))return o_.formatRows(h_);var y_=new fs,m_=[];return h_.forEach(function(f_){for(var x_ in f_)y_.has(x_)||m_.push(y_.add(x_))}),[m_.map(g_).join(r_)].concat(h_.map(function(f_){return m_.map(function(x_){return g_(f_[x_])}).join(r_)})).join("\n")},o_.formatRows=function(h_){return h_.map(p_).join("\n")},o_},pm.csv=pm.dsv(",","text/csv"),pm.tsv=pm.dsv("\t","text/tab-separated-values");var of,sf,df,pf,gf=this[vs(this,"requestAnimationFrame")]||function(r_){setTimeout(r_,17)};pm.timer=function(){Td.apply(this,arguments)},pm.timer.flush=function(){Rd(),Nd()},pm.round=function(r_,i_){return i_?Math.round(r_*(i_=Math.pow(10,i_)))/i_:Math.round(r_)};var cf=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"].map(function(r_,i_){var o_=Math.pow(10,3*vm(8-i_));return{scale:8<i_?function(s_){return s_/o_}:function(s_){return s_*o_},symbol:r_}});pm.formatPrefix=function(r_,i_){var o_=0;return(r_=+r_)&&(0>r_&&(r_*=-1),i_&&(r_=pm.round(r_,Pd(r_,i_))),o_=1+Math.floor(1e-12+Math.log(r_)/Math.LN10),o_=Math.max(-24,Math.min(24,3*Math.floor((o_-1)/3)))),cf[8+o_/3]};var uf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hf=pm.map({b:function(r_){return r_.toString(2)},c:function(r_){return String.fromCharCode(r_)},o:function(r_){return r_.toString(8)},x:function(r_){return r_.toString(16)},X:function(r_){return r_.toString(16).toUpperCase()},g:function(r_,i_){return r_.toPrecision(i_)},e:function(r_,i_){return r_.toExponential(i_)},f:function(r_,i_){return r_.toFixed(i_)},r:function(r_,i_){return(r_=pm.round(r_,Pd(r_,i_))).toFixed(Math.max(0,Math.min(20,Pd(r_*(1+1e-15),i_))))}}),yf=pm.time={},mf=Date;Hd.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ff.setUTCDate.apply(this._,arguments)},setDay:function(){ff.setUTCDay.apply(this._,arguments)},setFullYear:function(){ff.setUTCFullYear.apply(this._,arguments)},setHours:function(){ff.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ff.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ff.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ff.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ff.setUTCSeconds.apply(this._,arguments)},setTime:function(){ff.setTime.apply(this._,arguments)}};var ff=Date.prototype;yf.year=Od(function(r_){return r_=yf.day(r_),r_.setMonth(0,1),r_},function(r_,i_){r_.setFullYear(r_.getFullYear()+i_)},function(r_){return r_.getFullYear()}),yf.years=yf.year.range,yf.years.utc=yf.year.utc.range,yf.day=Od(function(r_){var i_=new mf(2e3,0);return i_.setFullYear(r_.getFullYear(),r_.getMonth(),r_.getDate()),i_},function(r_,i_){r_.setDate(r_.getDate()+i_)},function(r_){return r_.getDate()-1}),yf.days=yf.day.range,yf.days.utc=yf.day.utc.range,yf.dayOfYear=function(r_){var i_=yf.year(r_);return Math.floor((r_-i_-6e4*(r_.getTimezoneOffset()-i_.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(r_,i_){i_=7-i_;var o_=yf[r_]=Od(function(s_){return(s_=yf.day(s_)).setDate(s_.getDate()-(s_.getDay()+i_)%7),s_},function(s_,d_){s_.setDate(s_.getDate()+7*Math.floor(d_))},function(s_){var d_=yf.year(s_).getDay();return Math.floor((yf.dayOfYear(s_)+(d_+i_)%7)/7)-(d_!==i_)});yf[r_+"s"]=o_.range,yf[r_+"s"].utc=o_.utc.range,yf[r_+"OfYear"]=function(s_){var d_=yf.year(s_).getDay();return Math.floor((yf.dayOfYear(s_)+(d_+i_)%7)/7)}}),yf.week=yf.sunday,yf.weeks=yf.sunday.range,yf.weeks.utc=yf.sunday.utc.range,yf.weekOfYear=yf.sundayOfYear;var xf={"-":"",_:" ",0:"0"},_f=/^\s*\d+/,vf=/^%/;pm.locale=function(r_){return{numberFormat:jd(r_),timeFormat:Yd(r_)}};var bf=pm.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});pm.format=bf.numberFormat,pm.geo={},dp.prototype={s:0,t:0,add:function(r_){pp(r_,this.t,wf),pp(wf.s,this.s,this),this.s?this.t+=wf.t:this.s=wf.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var wf=new dp;pm.geo.stream=function(r_,i_){r_&&Sf.hasOwnProperty(r_.type)?Sf[r_.type](r_,i_):gp(r_,i_)};var Sf={Feature:function(r_,i_){gp(r_.geometry,i_)},FeatureCollection:function(r_,i_){for(var o_=r_.features,s_=-1,d_=o_.length;++s_<d_;)gp(o_[s_].geometry,i_)}},Ef={Sphere:function(r_,i_){i_.sphere()},Point:function(r_,i_){r_=r_.coordinates,i_.point(r_[0],r_[1],r_[2])},MultiPoint:function(r_,i_){for(var o_=r_.coordinates,s_=-1,d_=o_.length;++s_<d_;)r_=o_[s_],i_.point(r_[0],r_[1],r_[2])},LineString:function(r_,i_){cp(r_.coordinates,i_,0)},MultiLineString:function(r_,i_){for(var o_=r_.coordinates,s_=-1,d_=o_.length;++s_<d_;)cp(o_[s_],i_,0)},Polygon:function(r_,i_){up(r_.coordinates,i_)},MultiPolygon:function(r_,i_){for(var o_=r_.coordinates,s_=-1,d_=o_.length;++s_<d_;)up(o_[s_],i_)},GeometryCollection:function(r_,i_){for(var o_=r_.geometries,s_=-1,d_=o_.length;++s_<d_;)gp(o_[s_],i_)}};pm.geo.area=function(r_){return kf=0,pm.geo.stream(r_,Af),kf};var kf,Cf=new dp,Af={sphere:function(){kf+=4*Hm},point:bs,lineStart:bs,lineEnd:bs,polygonStart:function(){Cf.reset(),Af.lineStart=hp},polygonEnd:function(){var r_=2*Cf;kf+=0>r_?4*Hm+r_:r_,Af.lineStart=Af.lineEnd=Af.point=bs}};pm.geo.bounds=function(){function r_(A_,L_){E_.push(k_=[y_=A_,f_=A_]),m_>L_&&(m_=L_),L_>x_&&(x_=L_)}function i_(A_,L_){var q_=yp([A_*Im,L_*Im]);if(w_){var z_=fp(w_,q_),T_=[z_[1],-z_[0],0],M_=fp(T_,z_);vp(M_),M_=bp(M_);var R_=A_-__,N_=0<R_?1:-1,P_=M_[0]*Zm*N_,U_=180<vm(R_);if(U_^(P_>N_*__&&N_*A_>P_)){var j_=M_[1]*Zm;j_>x_&&(x_=j_)}else if(P_=(P_+360)%360-180,U_^(P_>N_*__&&N_*A_>P_)){var j_=-M_[1]*Zm;m_>j_&&(m_=j_)}else m_>L_&&(m_=L_),L_>x_&&(x_=L_);U_?__>A_?c_(y_,A_)>c_(y_,f_)&&(f_=A_):c_(A_,f_)>c_(y_,f_)&&(y_=A_):f_>=y_?(y_>A_&&(y_=A_),A_>f_&&(f_=A_)):A_>__?c_(y_,A_)>c_(y_,f_)&&(f_=A_):c_(A_,f_)>c_(y_,f_)&&(y_=A_)}else r_(A_,L_);w_=q_,__=A_}function o_(){C_.point=i_}function s_(){k_[0]=y_,k_[1]=f_,C_.point=r_,w_=null}function d_(A_,L_){if(w_){var q_=A_-__;S_+=180<vm(q_)?q_+(0<q_?360:-360):q_}else v_=A_,b_=L_;Af.point(A_,L_),i_(A_,L_)}function p_(){Af.lineStart()}function g_(){d_(v_,b_),Af.lineEnd(),vm(S_)>jm&&(y_=-(f_=180)),k_[0]=y_,k_[1]=f_,w_=null}function c_(A_,L_){return 0>(L_-=A_)?L_+360:L_}function u_(A_,L_){return A_[0]-L_[0]}function h_(A_,L_){return L_[0]<=L_[1]?L_[0]<=A_&&A_<=L_[1]:A_<L_[0]||L_[1]<A_}var y_,m_,f_,x_,__,v_,b_,w_,S_,E_,k_,C_={point:r_,lineStart:o_,lineEnd:s_,polygonStart:function(){C_.point=d_,C_.lineStart=p_,C_.lineEnd=g_,S_=0,Af.polygonStart()},polygonEnd:function(){Af.polygonEnd(),C_.point=r_,C_.lineStart=o_,C_.lineEnd=s_,0>Cf?(y_=-(f_=180),m_=-(x_=90)):S_>jm?x_=90:-jm>S_&&(m_=-90),k_[0]=y_,k_[1]=f_}};return function(A_){x_=f_=-(y_=m_=1/0),E_=[],pm.geo.stream(A_,C_);var L_=E_.length;if(L_){E_.sort(u_);for(var q_,z_=1,T_=E_[0],M_=[T_];L_>z_;++z_)q_=E_[z_],h_(q_[0],T_)||h_(q_[1],T_)?(c_(T_[0],q_[1])>c_(T_[0],T_[1])&&(T_[1]=q_[1]),c_(q_[0],T_[1])>c_(T_[0],T_[1])&&(T_[0]=q_[0])):M_.push(T_=q_);for(var R_,q_,N_=-(1/0),L_=M_.length-1,z_=0,T_=M_[L_];L_>=z_;T_=q_,++z_)q_=M_[z_],(R_=c_(T_[1],q_[0]))>N_&&(N_=R_,y_=q_[0],f_=T_[1])}return E_=k_=null,y_===1/0||m_===1/0?[[NaN,NaN],[NaN,NaN]]:[[y_,m_],[f_,x_]]}}(),pm.geo.centroid=function(r_){Lf=qf=zf=Tf=Mf=Rf=Nf=Pf=Uf=jf=Df=0,pm.geo.stream(r_,Hf);var i_=Uf,o_=jf,s_=Df,d_=i_*i_+o_*o_+s_*s_;return Dm>d_&&(i_=Rf,o_=Nf,s_=Pf,jm>qf&&(i_=zf,o_=Tf,s_=Mf),d_=i_*i_+o_*o_+s_*s_,Dm>d_)?[NaN,NaN]:[Math.atan2(o_,i_)*Zm,td(s_/Math.sqrt(d_))*Zm]};var Lf,qf,zf,Tf,Mf,Rf,Nf,Pf,Uf,jf,Df,Hf={sphere:bs,point:Sp,lineStart:kp,lineEnd:Cp,polygonStart:function(){Hf.lineStart=Ap},polygonEnd:function(){Hf.lineStart=kp}},Of=Rp(qp,function(r_){var i_,o_=NaN,s_=NaN,d_=NaN;return{lineStart:function(){r_.lineStart(),i_=1},point:function(p_,g_){var c_=0<p_?Hm:-Hm,u_=vm(p_-o_);vm(u_-Hm)<jm?(r_.point(o_,s_=0<(s_+g_)/2?Ym:-Ym),r_.point(d_,s_),r_.lineEnd(),r_.lineStart(),r_.point(c_,s_),r_.point(p_,s_),i_=0):d_!==c_&&u_>=Hm&&(vm(o_-d_)<jm&&(o_-=d_*jm),vm(p_-c_)<jm&&(p_-=c_*jm),s_=Dp(o_,s_,p_,g_),r_.point(d_,s_),r_.lineEnd(),r_.lineStart(),r_.point(c_,s_),i_=0),r_.point(o_=p_,s_=g_),d_=c_},lineEnd:function(){r_.lineEnd(),o_=s_=NaN},clean:function(){return 2-i_}}},function(r_,i_,o_,s_){var d_;if(null==r_)d_=o_*Ym,s_.point(-Hm,d_),s_.point(0,d_),s_.point(Hm,d_),s_.point(Hm,0),s_.point(Hm,-d_),s_.point(0,-d_),s_.point(-Hm,-d_),s_.point(-Hm,0),s_.point(-Hm,d_);else if(vm(r_[0]-i_[0])>jm){var p_=r_[0]<i_[0]?Hm:-Hm;d_=o_*p_/2,s_.point(-p_,d_),s_.point(0,d_),s_.point(p_,d_)}else s_.point(i_[0],i_[1])},[-Hm,-Hm/2]),Ff=1e9;pm.geo.clipExtent=function(){var r_,i_,o_,s_,d_,p_,g_={stream:function(c_){return d_&&(d_.valid=!1),d_=p_(c_),d_.valid=!0,d_},extent:function(c_){return arguments.length?(p_=Ip(r_=+c_[0][0],i_=+c_[0][1],o_=+c_[1][0],s_=+c_[1][1]),d_&&(d_.valid=!1,d_=null),g_):[[r_,i_],[o_,s_]]}};return g_.extent([[0,0],[960,500]])},(pm.geo.conicEqualArea=function(){return Zp(Vp)}).raw=Vp,pm.geo.albers=function(){return pm.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},pm.geo.albersUsa=function(){function r_(h_){var y_=h_[0],m_=h_[1];return i_=null,o_(y_,m_),i_||(s_(y_,m_),i_)||d_(y_,m_),i_}var i_,o_,s_,d_,p_=pm.geo.albers(),g_=pm.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c_=pm.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u_={point:function(h_,y_){i_=[h_,y_]}};return r_.invert=function(h_){var y_=p_.scale(),m_=p_.translate(),f_=(h_[0]-m_[0])/y_,x_=(h_[1]-m_[1])/y_;return(.12<=x_&&.234>x_&&-.425<=f_&&-.214>f_?g_:.166<=x_&&.234>x_&&-.214<=f_&&-.115>f_?c_:p_).invert(h_)},r_.stream=function(h_){var y_=p_.stream(h_),m_=g_.stream(h_),f_=c_.stream(h_);return{point:function(x_,__){y_.point(x_,__),m_.point(x_,__),f_.point(x_,__)},sphere:function(){y_.sphere(),m_.sphere(),f_.sphere()},lineStart:function(){y_.lineStart(),m_.lineStart(),f_.lineStart()},lineEnd:function(){y_.lineEnd(),m_.lineEnd(),f_.lineEnd()},polygonStart:function(){y_.polygonStart(),m_.polygonStart(),f_.polygonStart()},polygonEnd:function(){y_.polygonEnd(),m_.polygonEnd(),f_.polygonEnd()}}},r_.precision=function(h_){return arguments.length?(p_.precision(h_),g_.precision(h_),c_.precision(h_),r_):p_.precision()},r_.scale=function(h_){return arguments.length?(p_.scale(h_),g_.scale(.35*h_),c_.scale(h_),r_.translate(p_.translate())):p_.scale()},r_.translate=function(h_){if(!arguments.length)return p_.translate();var y_=p_.scale(),m_=+h_[0],f_=+h_[1];return o_=p_.translate(h_).clipExtent([[m_-.455*y_,f_-.238*y_],[m_+.455*y_,f_+.238*y_]]).stream(u_).point,s_=g_.translate([m_-.307*y_,f_+.201*y_]).clipExtent([[m_-.425*y_+jm,f_+.12*y_+jm],[m_-.214*y_-jm,f_+.234*y_-jm]]).stream(u_).point,d_=c_.translate([m_-.205*y_,f_+.212*y_]).clipExtent([[m_-.214*y_+jm,f_+.166*y_+jm],[m_-.115*y_-jm,f_+.234*y_-jm]]).stream(u_).point,r_},r_.scale(1070)};var Yf,If,Zf,Vf,Xf,Bf,Wf={point:bs,lineStart:bs,lineEnd:bs,polygonStart:function(){If=0,Wf.lineStart=Xp},polygonEnd:function(){Wf.lineStart=Wf.lineEnd=Wf.point=bs,Yf+=vm(If/2)}},$f={point:function(r_,i_){Zf>r_&&(Zf=r_),r_>Xf&&(Xf=r_),Vf>i_&&(Vf=i_),i_>Bf&&(Bf=i_)},lineStart:bs,lineEnd:bs,polygonStart:bs,polygonEnd:bs},Jf={point:Jp,lineStart:Gp,lineEnd:Kp,polygonStart:function(){Jf.lineStart=Qp},polygonEnd:function(){Jf.point=Jp,Jf.lineStart=Gp,Jf.lineEnd=Kp}};pm.geo.path=function(){function r_(u_){return u_&&("function"==typeof c_&&p_.pointRadius(+c_.apply(this,arguments)),g_&&g_.valid||(g_=d_(p_)),pm.geo.stream(u_,g_)),p_.result()}function i_(){return g_=null,r_}var o_,s_,d_,p_,g_,c_=4.5;return r_.area=function(u_){return Yf=0,pm.geo.stream(u_,d_(Wf)),Yf},r_.centroid=function(u_){return zf=Tf=Mf=Rf=Nf=Pf=Uf=jf=Df=0,pm.geo.stream(u_,d_(Jf)),Df?[Uf/Df,jf/Df]:Pf?[Rf/Pf,Nf/Pf]:Mf?[zf/Mf,Tf/Mf]:[NaN,NaN]},r_.bounds=function(u_){return Xf=Bf=-(Zf=Vf=1/0),pm.geo.stream(u_,d_($f)),[[Zf,Vf],[Xf,Bf]]},r_.projection=function(u_){return arguments.length?(d_=(o_=u_)?u_.stream||ng(u_):xs,i_()):o_},r_.context=function(u_){return arguments.length?(p_=null==(s_=u_)?new Wp:new eg(u_),"function"!=typeof c_&&p_.pointRadius(c_),i_()):s_},r_.pointRadius=function(u_){return arguments.length?(c_="function"==typeof u_?u_:(p_.pointRadius(+u_),+u_),r_):c_},r_.projection(pm.geo.albersUsa()).context(null)},pm.geo.transform=function(r_){return{stream:function(i_){var o_=new ag(i_);for(var s_ in r_)o_[s_]=r_[s_];return o_}}},ag.prototype={point:function(r_,i_){this.stream.point(r_,i_)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},pm.geo.projection=rg,pm.geo.projectionMutator=ig,(pm.geo.equirectangular=function(){return rg(sg)}).raw=sg.invert=sg,pm.geo.rotation=function(r_){function i_(o_){return o_=r_(o_[0]*Im,o_[1]*Im),o_[0]*=Zm,o_[1]*=Zm,o_}return r_=pg(r_[0]%360*Im,r_[1]*Im,2<r_.length?r_[2]*Im:0),i_.invert=function(o_){return o_=r_.invert(o_[0]*Im,o_[1]*Im),o_[0]*=Zm,o_[1]*=Zm,o_},i_},dg.invert=sg,pm.geo.circle=function(){function r_(){var p_="function"==typeof s_?s_.apply(this,arguments):s_,g_=pg(-p_[0]*Im,-p_[1]*Im,0).invert,c_=[];return o_(null,null,1,{point:function(u_,h_){c_.push(u_=g_(u_,h_)),u_[0]*=Zm,u_[1]*=Zm}}),{type:"Polygon",coordinates:[c_]}}var i_,o_,s_=[0,0],d_=6;return r_.origin=function(p_){return arguments.length?(s_=p_,r_):s_},r_.angle=function(p_){return arguments.length?(o_=hg((i_=+p_)*Im,d_*Im),r_):i_},r_.precision=function(p_){return arguments.length?(o_=hg(i_*Im,(d_=+p_)*Im),r_):d_},r_.angle(90)},pm.geo.distance=function(r_,i_){var o_,s_=(i_[0]-r_[0])*Im,d_=r_[1]*Im,p_=i_[1]*Im,g_=Math.sin(s_),c_=Math.cos(s_),u_=Math.sin(d_),h_=Math.cos(d_),y_=Math.sin(p_),m_=Math.cos(p_);return Math.atan2(Math.sqrt((o_=m_*g_)*o_+(o_=h_*y_-u_*m_*c_)*o_),u_*y_+h_*m_*c_)},pm.geo.graticule=function(){function r_(){return{type:"MultiLineString",coordinates:i_()}}function i_(){return pm.range(Math.ceil(p_/b_)*b_,d_,b_).map(f_).concat(pm.range(Math.ceil(h_/w_)*w_,u_,w_).map(x_)).concat(pm.range(Math.ceil(s_/__)*__,o_,__).filter(function(E_){return vm(E_%b_)>jm}).map(y_)).concat(pm.range(Math.ceil(c_/v_)*v_,g_,v_).filter(function(E_){return vm(E_%w_)>jm}).map(m_))}var o_,s_,d_,p_,g_,c_,u_,h_,y_,m_,f_,x_,__=10,v_=__,b_=90,w_=360,S_=2.5;return r_.lines=function(){return i_().map(function(E_){return{type:"LineString",coordinates:E_}})},r_.outline=function(){return{type:"Polygon",coordinates:[f_(p_).concat(x_(u_).slice(1),f_(d_).reverse().slice(1),x_(h_).reverse().slice(1))]}},r_.extent=function(E_){return arguments.length?r_.majorExtent(E_).minorExtent(E_):r_.minorExtent()},r_.majorExtent=function(E_){return arguments.length?(p_=+E_[0][0],d_=+E_[1][0],h_=+E_[0][1],u_=+E_[1][1],p_>d_&&(E_=p_,p_=d_,d_=E_),h_>u_&&(E_=h_,h_=u_,u_=E_),r_.precision(S_)):[[p_,h_],[d_,u_]]},r_.minorExtent=function(E_){return arguments.length?(s_=+E_[0][0],o_=+E_[1][0],c_=+E_[0][1],g_=+E_[1][1],s_>o_&&(E_=s_,s_=o_,o_=E_),c_>g_&&(E_=c_,c_=g_,g_=E_),r_.precision(S_)):[[s_,c_],[o_,g_]]},r_.step=function(E_){return arguments.length?r_.majorStep(E_).minorStep(E_):r_.minorStep()},r_.majorStep=function(E_){return arguments.length?(b_=+E_[0],w_=+E_[1],r_):[b_,w_]},r_.minorStep=function(E_){return arguments.length?(__=+E_[0],v_=+E_[1],r_):[__,v_]},r_.precision=function(E_){return arguments.length?(S_=+E_,y_=mg(c_,g_,90),m_=fg(s_,o_,S_),f_=mg(h_,u_,90),x_=fg(p_,d_,S_),r_):S_},r_.majorExtent([[-180,-90+jm],[180,90-jm]]).minorExtent([[-180,-80-jm],[180,80+jm]])},pm.geo.greatArc=function(){function r_(){return{type:"LineString",coordinates:[i_||s_.apply(this,arguments),o_||d_.apply(this,arguments)]}}var i_,o_,s_=xg,d_=_g;return r_.distance=function(){return pm.geo.distance(i_||s_.apply(this,arguments),o_||d_.apply(this,arguments))},r_.source=function(p_){return arguments.length?(s_=p_,i_="function"==typeof p_?null:p_,r_):s_},r_.target=function(p_){return arguments.length?(d_=p_,o_="function"==typeof p_?null:p_,r_):d_},r_.precision=function(){return arguments.length?r_:0},r_},pm.geo.interpolate=function(r_,i_){return vg(r_[0]*Im,r_[1]*Im,i_[0]*Im,i_[1]*Im)},pm.geo.length=function(r_){return Gf=0,pm.geo.stream(r_,Kf),Gf};var Gf,Kf={sphere:bs,point:bs,lineStart:function(){function r_(d_,p_){var g_=Math.sin(p_*=Im),c_=Math.cos(p_),u_=vm((d_*=Im)-i_),h_=Math.cos(u_);Gf+=Math.atan2(Math.sqrt((u_=c_*Math.sin(u_))*u_+(u_=s_*g_-o_*c_*h_)*u_),o_*g_+s_*c_*h_),i_=d_,o_=g_,s_=c_}var i_,o_,s_;Kf.point=function(d_,p_){i_=d_*Im,o_=Math.sin(p_*=Im),s_=Math.cos(p_),Kf.point=r_},Kf.lineEnd=function(){Kf.point=Kf.lineEnd=bs}},lineEnd:bs,polygonStart:bs,polygonEnd:bs},Qf=wg(function(r_){return Math.sqrt(2/(1+r_))},function(r_){return 2*Math.asin(r_/2)});(pm.geo.azimuthalEqualArea=function(){return rg(Qf)}).raw=Qf;var ex=wg(function(r_){var i_=Math.acos(r_);return i_&&i_/Math.sin(i_)},xs);(pm.geo.azimuthalEquidistant=function(){return rg(ex)}).raw=ex,(pm.geo.conicConformal=function(){return Zp(Sg)}).raw=Sg,(pm.geo.conicEquidistant=function(){return Zp(Eg)}).raw=Eg;var tx=wg(function(r_){return 1/r_},Math.atan);(pm.geo.gnomonic=function(){return rg(tx)}).raw=tx,kg.invert=function(r_,i_){return[r_,2*Math.atan(Math.exp(i_))-Ym]},(pm.geo.mercator=function(){return Cg(kg)}).raw=kg;var nx=wg(function(){return 1},Math.asin);(pm.geo.orthographic=function(){return rg(nx)}).raw=nx;var ax=wg(function(r_){return 1/(1+r_)},function(r_){return 2*Math.atan(r_)});(pm.geo.stereographic=function(){return rg(ax)}).raw=ax,Ag.invert=function(r_,i_){return[-i_,2*Math.atan(Math.exp(r_))-Ym]},(pm.geo.transverseMercator=function(){var r_=Cg(Ag),i_=r_.center,o_=r_.rotate;return r_.center=function(s_){return s_?i_([-s_[1],s_[0]]):(s_=i_(),[s_[1],-s_[0]])},r_.rotate=function(s_){return s_?o_([s_[0],s_[1],2<s_.length?s_[2]+90:90]):(s_=o_(),[s_[0],s_[1],s_[2]-90])},o_([0,0,90])}).raw=Ag,pm.geom={},pm.geom.hull=function(r_){function i_(d_){if(3>d_.length)return[];var p_,g_=Cd(o_),c_=Cd(s_),u_=d_.length,h_=[],y_=[];for(p_=0;u_>p_;p_++)h_.push([+g_.call(this,d_[p_],p_),+c_.call(this,d_[p_],p_),p_]);for(h_.sort(Tg),p_=0;u_>p_;p_++)y_.push([h_[p_][0],-h_[p_][1]]);var m_=zg(h_),f_=zg(y_),x_=f_[0]===m_[0],__=f_[f_.length-1]===m_[m_.length-1],v_=[];for(p_=m_.length-1;0<=p_;--p_)v_.push(d_[h_[m_[p_]][2]]);for(p_=+x_;p_<f_.length-__;++p_)v_.push(d_[h_[f_[p_]][2]]);return v_}var o_=Lg,s_=qg;return arguments.length?i_(r_):(i_.x=function(d_){return arguments.length?(o_=d_,i_):o_},i_.y=function(d_){return arguments.length?(s_=d_,i_):s_},i_)},pm.geom.polygon=function(r_){return km(r_,lx),r_};var lx=pm.geom.polygon.prototype=[];lx.area=function(){for(var r_,i_=-1,o_=this.length,s_=this[o_-1],d_=0;++i_<o_;)r_=s_,s_=this[i_],d_+=r_[1]*s_[0]-r_[0]*s_[1];return .5*d_},lx.centroid=function(r_){var i_,o_,s_=-1,d_=this.length,p_=0,g_=0,c_=this[d_-1];for(arguments.length||(r_=-1/(6*this.area()));++s_<d_;)i_=c_,c_=this[s_],o_=i_[0]*c_[1]-c_[0]*i_[1],p_+=(i_[0]+c_[0])*o_,g_+=(i_[1]+c_[1])*o_;return[p_*r_,g_*r_]},lx.clip=function(r_){for(var i_,o_,s_,d_,p_,g_,c_=Ng(r_),u_=-1,h_=this.length-Ng(this),y_=this[h_-1];++u_<h_;){for(i_=r_.slice(),r_.length=0,d_=this[u_],p_=i_[(s_=i_.length-c_)-1],o_=-1;++o_<s_;)g_=i_[o_],Mg(g_,y_,d_)?(Mg(p_,y_,d_)||r_.push(Rg(p_,g_,y_,d_)),r_.push(g_)):Mg(p_,y_,d_)&&r_.push(Rg(p_,g_,y_,d_)),p_=g_;c_&&r_.push(r_[0]),y_=d_}return r_};var rx,ix,ox,sx,dx,px=[],gx=[];Yg.prototype.prepare=function(){for(var r_,i_=this.edges,o_=i_.length;o_--;)r_=i_[o_].edge,r_.b&&r_.a||i_.splice(o_,1);return i_.sort(Zg),i_.length},ac.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},lc.prototype={insert:function(r_,i_){var o_,s_,d_;if(r_){if(i_.P=r_,i_.N=r_.N,r_.N&&(r_.N.P=i_),r_.N=i_,r_.R){for(r_=r_.R;r_.L;)r_=r_.L;r_.L=i_}else r_.R=i_;o_=r_}else this._?(r_=dc(this._),i_.P=null,i_.N=r_,r_.P=r_.L=i_,o_=r_):(i_.P=i_.N=null,this._=i_,o_=null);for(i_.L=i_.R=null,i_.U=o_,i_.C=!0,r_=i_;o_&&o_.C;)s_=o_.U,o_===s_.L?(d_=s_.R,d_&&d_.C?(o_.C=d_.C=!1,s_.C=!0,r_=s_):(r_===o_.R&&(oc(this,o_),r_=o_,o_=r_.U),o_.C=!1,s_.C=!0,sc(this,s_))):(d_=s_.L,d_&&d_.C?(o_.C=d_.C=!1,s_.C=!0,r_=s_):(r_===o_.L&&(sc(this,o_),r_=o_,o_=r_.U),o_.C=!1,s_.C=!0,oc(this,s_))),o_=r_.U;this._.C=!1},remove:function(r_){r_.N&&(r_.N.P=r_.P),r_.P&&(r_.P.N=r_.N),r_.N=r_.P=null;var i_,o_,s_,d_=r_.U,p_=r_.L,g_=r_.R;if(o_=p_?g_?dc(g_):p_:g_,d_?d_.L===r_?d_.L=o_:d_.R=o_:this._=o_,p_&&g_?(s_=o_.C,o_.C=r_.C,o_.L=p_,p_.U=o_,o_===g_?(o_.U=d_,d_=o_,r_=o_.R):(d_=o_.U,o_.U=r_.U,r_=o_.R,d_.L=r_,o_.R=g_,g_.U=o_)):(s_=r_.C,r_=o_),r_&&(r_.U=d_),!s_){if(r_&&r_.C)return void(r_.C=!1);do{if(r_===this._)break;if(r_===d_.L){if(i_=d_.R,i_.C&&(i_.C=!1,d_.C=!0,oc(this,d_),i_=d_.R),i_.L&&i_.L.C||i_.R&&i_.R.C){i_.R&&i_.R.C||(i_.L.C=!1,i_.C=!0,sc(this,i_),i_=d_.R),i_.C=d_.C,d_.C=i_.R.C=!1,oc(this,d_),r_=this._;break}}else if(i_=d_.L,i_.C&&(i_.C=!1,d_.C=!0,sc(this,d_),i_=d_.L),i_.L&&i_.L.C||i_.R&&i_.R.C){i_.L&&i_.L.C||(i_.R.C=!1,i_.C=!0,oc(this,i_),i_=d_.L),i_.C=d_.C,d_.C=i_.L.C=!1,sc(this,d_),r_=this._;break}i_.C=!0,r_=d_,d_=d_.U}while(!r_.C);r_&&(r_.C=!1)}}},pm.geom.voronoi=function(r_){function i_(u_){var h_=Array(u_.length),y_=c_[0][0],m_=c_[0][1],f_=c_[1][0],x_=c_[1][1];return pc(o_(u_),c_).cells.forEach(function(__,v_){var b_=__.edges,w_=__.site,S_=h_[v_]=b_.length?b_.map(function(E_){var k_=E_.start();return[k_.x,k_.y]}):w_.x>=y_&&w_.x<=f_&&w_.y>=m_&&w_.y<=x_?[[y_,x_],[f_,x_],[f_,m_],[y_,m_]]:[];S_.point=u_[v_]}),h_}function o_(u_){return u_.map(function(h_,y_){return{x:Math.round(p_(h_,y_)/jm)*jm,y:Math.round(g_(h_,y_)/jm)*jm,i:y_}})}var s_=Lg,d_=qg,p_=s_,g_=d_,c_=cx;return r_?i_(r_):(i_.links=function(u_){return pc(o_(u_)).edges.filter(function(h_){return h_.l&&h_.r}).map(function(h_){return{source:u_[h_.l.i],target:u_[h_.r.i]}})},i_.triangles=function(u_){var h_=[];return pc(o_(u_)).cells.forEach(function(y_,m_){for(var f_,x_,__=y_.site,v_=y_.edges.sort(Zg),b_=-1,w_=v_.length,S_=v_[w_-1].edge,E_=S_.l===__?S_.r:S_.l;++b_<w_;)f_=S_,x_=E_,S_=v_[b_].edge,E_=S_.l===__?S_.r:S_.l,m_<x_.i&&m_<E_.i&&0>cc(__,x_,E_)&&h_.push([u_[m_],u_[x_.i],u_[E_.i]])}),h_},i_.x=function(u_){return arguments.length?(p_=Cd(s_=u_),i_):s_},i_.y=function(u_){return arguments.length?(g_=Cd(d_=u_),i_):d_},i_.clipExtent=function(u_){return arguments.length?(c_=null==u_?cx:u_,i_):c_===cx?null:c_},i_.size=function(u_){return arguments.length?i_.clipExtent(u_&&[[0,0],u_]):c_===cx?null:c_&&c_[1]},i_)};var cx=[[-1000000,-1000000],[1000000,1000000]];pm.geom.delaunay=function(r_){return pm.geom.voronoi().triangles(r_)},pm.geom.quadtree=function(r_,i_,o_,s_,d_){function p_(h_){function y_(R_,N_,P_,U_,j_,D_,H_,O_){if(!isNaN(P_)&&!isNaN(U_))if(R_.leaf){var F_=R_.x,Y_=R_.y;if(!(null!=F_))R_.x=P_,R_.y=U_,R_.point=N_;else if(.01>vm(F_-P_)+vm(Y_-U_))m_(R_,N_,P_,U_,j_,D_,H_,O_);else{var I_=R_.point;R_.x=R_.y=R_.point=null,m_(R_,I_,F_,Y_,j_,D_,H_,O_),m_(R_,N_,P_,U_,j_,D_,H_,O_)}}else m_(R_,N_,P_,U_,j_,D_,H_,O_)}function m_(R_,N_,P_,U_,j_,D_,H_,O_){var F_=.5*(j_+H_),Y_=.5*(D_+O_),I_=P_>=F_,Z_=U_>=Y_,V_=Z_<<1|I_;R_.leaf=!1,R_=R_.nodes[V_]||(R_.nodes[V_]=yc()),I_?j_=F_:H_=F_,Z_?D_=Y_:O_=Y_,y_(R_,N_,P_,U_,j_,D_,H_,O_)}var f_,x_,__,v_,b_,w_,S_,E_,k_,C_=Cd(c_),A_=Cd(u_);if(null!=i_)w_=i_,S_=o_,E_=s_,k_=d_;else if(E_=k_=-(w_=S_=1/0),x_=[],__=[],b_=h_.length,g_)for(v_=0;b_>v_;++v_)f_=h_[v_],f_.x<w_&&(w_=f_.x),f_.y<S_&&(S_=f_.y),f_.x>E_&&(E_=f_.x),f_.y>k_&&(k_=f_.y),x_.push(f_.x),__.push(f_.y);else for(v_=0;b_>v_;++v_){var L_=+C_(f_=h_[v_],v_),q_=+A_(f_,v_);w_>L_&&(w_=L_),S_>q_&&(S_=q_),L_>E_&&(E_=L_),q_>k_&&(k_=q_),x_.push(L_),__.push(q_)}var z_=E_-w_,T_=k_-S_;z_>T_?k_=S_+z_:E_=w_+T_;var M_=yc();if(M_.add=function(R_){y_(M_,R_,+C_(R_,++v_),+A_(R_,v_),w_,S_,E_,k_)},M_.visit=function(R_){mc(R_,M_,w_,S_,E_,k_)},M_.find=function(R_){return fc(M_,R_[0],R_[1],w_,S_,E_,k_)},v_=-1,null==i_){for(;++v_<b_;)y_(M_,h_[v_],x_[v_],__[v_],w_,S_,E_,k_);--v_}else h_.forEach(M_.add);return x_=__=h_=f_=null,M_}var g_,c_=Lg,u_=qg;return(g_=arguments.length)?(c_=uc,u_=hc,3===g_&&(d_=o_,s_=i_,o_=i_=0),p_(r_)):(p_.x=function(h_){return arguments.length?(c_=h_,p_):c_},p_.y=function(h_){return arguments.length?(u_=h_,p_):u_},p_.extent=function(h_){return arguments.length?(null==h_?i_=o_=s_=d_=null:(i_=+h_[0][0],o_=+h_[0][1],s_=+h_[1][0],d_=+h_[1][1]),p_):null==i_?null:[[i_,o_],[s_,d_]]},p_.size=function(h_){return arguments.length?(null==h_?i_=o_=s_=d_=null:(i_=o_=0,s_=+h_[0],d_=+h_[1]),p_):null==i_?null:[s_-i_,d_-o_]},p_)},pm.interpolateRgb=xc,pm.interpolateObject=_c,pm.interpolateNumber=vc,pm.interpolateString=bc;var ux=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hx=new RegExp(ux.source,"g");pm.interpolate=wc,pm.interpolators=[function(r_,i_){var o_=typeof i_;return("string"===o_?rf.has(i_.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(i_)?xc:bc:i_ instanceof id?xc:Array.isArray(i_)?Sc:"object"===o_&&isNaN(i_)?_c:vc)(r_,i_)}],pm.interpolateArray=Sc;var yx=function(){return xs},mx=pm.map({linear:yx,poly:function(r_){return function(i_){return Math.pow(i_,r_)}},quad:function(){return Ac},cubic:function(){return Lc},sin:function(){return Tc},exp:function(){return Mc},circle:function(){return Rc},elastic:function(r_,i_){var o_;return 2>arguments.length&&(i_=.45),arguments.length?o_=i_/Om*Math.asin(1/r_):(r_=1,o_=i_/4),function(s_){return 1+r_*Math.pow(2,-10*s_)*Math.sin((s_-o_)*Om/i_)}},back:function(r_){return r_||(r_=1.70158),function(i_){return i_*i_*((r_+1)*i_-r_)}},bounce:function(){return Uc}}),fx=pm.map({"in":xs,out:kc,"in-out":Cc,"out-in":function(r_){return Cc(kc(r_))}});pm.ease=function(r_){var i_=r_.indexOf("-"),o_=0<=i_?r_.slice(0,i_):r_,s_=0<=i_?r_.slice(i_+1):"in";return o_=mx.get(o_)||yx,s_=fx.get(s_)||xs,Ec(s_(o_.apply(null,gm.call(arguments,1))))},pm.interpolateHcl=function(r_,i_){r_=pm.hcl(r_),i_=pm.hcl(i_);var o_=r_.h,s_=r_.c,d_=r_.l,p_=i_.h-o_,g_=i_.c-s_,c_=i_.l-d_;return isNaN(g_)&&(g_=0,s_=isNaN(s_)?i_.c:s_),isNaN(p_)?(p_=0,o_=isNaN(o_)?i_.h:o_):180<p_?p_-=360:-180>p_&&(p_+=360),function(u_){return pd(o_+p_*u_,s_+g_*u_,d_+c_*u_)+""}},pm.interpolateHsl=function(r_,i_){r_=pm.hsl(r_),i_=pm.hsl(i_);var o_=r_.h,s_=r_.s,d_=r_.l,p_=i_.h-o_,g_=i_.s-s_,c_=i_.l-d_;return isNaN(g_)&&(g_=0,s_=isNaN(s_)?i_.s:s_),isNaN(p_)?(p_=0,o_=isNaN(o_)?i_.h:o_):180<p_?p_-=360:-180>p_&&(p_+=360),function(u_){return sd(o_+p_*u_,s_+g_*u_,d_+c_*u_)+""}},pm.interpolateLab=function(r_,i_){r_=pm.lab(r_),i_=pm.lab(i_);var o_=r_.l,s_=r_.a,d_=r_.b,p_=i_.l-o_,g_=i_.a-s_,c_=i_.b-d_;return function(u_){return cd(o_+p_*u_,s_+g_*u_,d_+c_*u_)+""}},pm.interpolateRound=Oc,pm.transform=function(r_){var i_=um.createElementNS(pm.ns.prefix.svg,"g");return(pm.transform=function(o_){if(null!=o_){i_.setAttribute("transform",o_);var s_=i_.transform.baseVal.consolidate()}return new Fc(s_?s_.matrix:xx)})(r_)},Fc.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var xx={a:1,b:0,c:0,d:1,e:0,f:0};pm.interpolateTransform=Jc,pm.layout={},pm.layout.bundle=function(){return function(r_){for(var i_=[],o_=-1,s_=r_.length;++o_<s_;)i_.push(Qc(r_[o_]));return i_}},pm.layout.chord=function(){function r_(){var m_,f_,x_,__,v_,b_={},w_=[],S_=pm.range(p_),E_=[];for(o_=[],s_=[],m_=0,__=-1;++__<p_;){for(f_=0,v_=-1;++v_<p_;)f_+=d_[__][v_];w_.push(f_),E_.push(pm.range(p_)),m_+=f_}for(g_&&S_.sort(function(M_,R_){return g_(w_[M_],w_[R_])}),c_&&E_.forEach(function(M_,R_){M_.sort(function(N_,P_){return c_(d_[R_][N_],d_[R_][P_])})}),m_=(Om-y_*p_)/m_,f_=0,__=-1;++__<p_;){for(x_=f_,v_=-1;++v_<p_;){var k_=S_[__],C_=E_[k_][v_],A_=d_[k_][C_],L_=f_,q_=f_+=A_*m_;b_[k_+"-"+C_]={index:k_,subindex:C_,startAngle:L_,endAngle:q_,value:A_}}s_[k_]={index:k_,startAngle:x_,endAngle:f_,value:w_[k_]},f_+=y_}for(__=-1;++__<p_;)for(v_=__-1;++v_<p_;){var z_=b_[__+"-"+v_],T_=b_[v_+"-"+__];(z_.value||T_.value)&&o_.push(z_.value<T_.value?{source:T_,target:z_}:{source:z_,target:T_})}u_&&i_()}function i_(){o_.sort(function(m_,f_){return u_((m_.source.value+m_.target.value)/2,(f_.source.value+f_.target.value)/2)})}var o_,s_,d_,p_,g_,c_,u_,h_={},y_=0;return h_.matrix=function(m_){return arguments.length?(p_=(d_=m_)&&d_.length,o_=s_=null,h_):d_},h_.padding=function(m_){return arguments.length?(y_=m_,o_=s_=null,h_):y_},h_.sortGroups=function(m_){return arguments.length?(g_=m_,o_=s_=null,h_):g_},h_.sortSubgroups=function(m_){return arguments.length?(c_=m_,o_=null,h_):c_},h_.sortChords=function(m_){return arguments.length?(u_=m_,o_&&i_(),h_):u_},h_.chords=function(){return o_||r_(),o_},h_.groups=function(){return s_||r_(),s_},h_},pm.layout.force=function(){function r_(k_){return function(C_,A_,L_,q_){if(C_.point!==k_){var z_=C_.cx-k_.x,T_=C_.cy-k_.y,M_=q_-A_,R_=z_*z_+T_*T_;if(R_>M_*M_/w_){if(v_>R_){var N_=C_.charge/R_;k_.px-=z_*N_,k_.py-=T_*N_}return!0}if(C_.point&&R_&&v_>R_){var N_=C_.pointCharge/R_;k_.px-=z_*N_,k_.py-=T_*N_}}return!C_.charge}}function i_(k_){k_.px=pm.event.x,k_.py=pm.event.y,u_.resume()}var o_,s_,d_,p_,g_,c_,u_={},h_=pm.dispatch("start","tick","end"),y_=[1,1],m_=.9,f_=_x,x_=vx,__=-30,v_=bx,b_=.1,w_=.64,S_=[],E_=[];return u_.tick=function(){if(.005>(d_*=.99))return o_=null,h_.end({type:"end",alpha:d_=0}),!0;var k_,C_,A_,L_,q_,z_,T_,M_,R_,N_=S_.length,P_=E_.length;for(C_=0;P_>C_;++C_)A_=E_[C_],L_=A_.source,q_=A_.target,M_=q_.x-L_.x,R_=q_.y-L_.y,(z_=M_*M_+R_*R_)&&(z_=d_*g_[C_]*((z_=Math.sqrt(z_))-p_[C_])/z_,M_*=z_,R_*=z_,q_.x-=M_*(T_=L_.weight+q_.weight?L_.weight/(L_.weight+q_.weight):.5),q_.y-=R_*T_,L_.x+=M_*(T_=1-T_),L_.y+=R_*T_);if((T_=d_*b_)&&(M_=y_[0]/2,R_=y_[1]/2,C_=-1,T_))for(;++C_<N_;)A_=S_[C_],A_.x+=(M_-A_.x)*T_,A_.y+=(R_-A_.y)*T_;if(__)for(ih(k_=pm.geom.quadtree(S_),d_,c_),C_=-1;++C_<N_;)(A_=S_[C_]).fixed||k_.visit(r_(A_));for(C_=-1;++C_<N_;)A_=S_[C_],A_.fixed?(A_.x=A_.px,A_.y=A_.py):(A_.x-=(A_.px-(A_.px=A_.x))*m_,A_.y-=(A_.py-(A_.py=A_.y))*m_);h_.tick({type:"tick",alpha:d_})},u_.nodes=function(k_){return arguments.length?(S_=k_,u_):S_},u_.links=function(k_){return arguments.length?(E_=k_,u_):E_},u_.size=function(k_){return arguments.length?(y_=k_,u_):y_},u_.linkDistance=function(k_){return arguments.length?(f_="function"==typeof k_?k_:+k_,u_):f_},u_.distance=u_.linkDistance,u_.linkStrength=function(k_){return arguments.length?(x_="function"==typeof k_?k_:+k_,u_):x_},u_.friction=function(k_){return arguments.length?(m_=+k_,u_):m_},u_.charge=function(k_){return arguments.length?(__="function"==typeof k_?k_:+k_,u_):__},u_.chargeDistance=function(k_){return arguments.length?(v_=k_*k_,u_):Math.sqrt(v_)},u_.gravity=function(k_){return arguments.length?(b_=+k_,u_):b_},u_.theta=function(k_){return arguments.length?(w_=k_*k_,u_):Math.sqrt(w_)},u_.alpha=function(k_){return arguments.length?(k_=+k_,d_?0<k_?d_=k_:(o_.c=null,o_.t=NaN,o_=null,h_.end({type:"end",alpha:d_=0})):0<k_&&(h_.start({type:"start",alpha:d_=k_}),o_=Td(u_.tick)),u_):d_},u_.start=function(){function k_(R_,N_){if(!A_){for(A_=Array(q_),D_=0;q_>D_;++D_)A_[D_]=[];for(D_=0;z_>D_;++D_){var P_=E_[D_];A_[P_.source.index].push(P_.target),A_[P_.target.index].push(P_.source)}}for(var U_,j_=A_[C_],D_=-1,H_=j_.length;++D_<H_;)if(!isNaN(U_=j_[D_][R_]))return U_;return Math.random()*N_}var C_,A_,L_,q_=S_.length,z_=E_.length,T_=y_[0],M_=y_[1];for(C_=0;q_>C_;++C_)(L_=S_[C_]).index=C_,L_.weight=0;for(C_=0;z_>C_;++C_)L_=E_[C_],"number"==typeof L_.source&&(L_.source=S_[L_.source]),"number"==typeof L_.target&&(L_.target=S_[L_.target]),++L_.source.weight,++L_.target.weight;for(C_=0;q_>C_;++C_)L_=S_[C_],isNaN(L_.x)&&(L_.x=k_("x",T_)),isNaN(L_.y)&&(L_.y=k_("y",M_)),isNaN(L_.px)&&(L_.px=L_.x),isNaN(L_.py)&&(L_.py=L_.y);if(p_=[],"function"==typeof f_)for(C_=0;z_>C_;++C_)p_[C_]=+f_.call(this,E_[C_],C_);else for(C_=0;z_>C_;++C_)p_[C_]=f_;if(g_=[],"function"==typeof x_)for(C_=0;z_>C_;++C_)g_[C_]=+x_.call(this,E_[C_],C_);else for(C_=0;z_>C_;++C_)g_[C_]=x_;if(c_=[],"function"==typeof __)for(C_=0;q_>C_;++C_)c_[C_]=+__.call(this,S_[C_],C_);else for(C_=0;q_>C_;++C_)c_[C_]=__;return u_.resume()},u_.resume=function(){return u_.alpha(.1)},u_.stop=function(){return u_.alpha(0)},u_.drag=function(){return s_||(s_=pm.behavior.drag().origin(xs).on("dragstart.force",nh).on("drag.force",i_).on("dragend.force",ah)),arguments.length?void this.on("mouseover.force",lh).on("mouseout.force",rh).call(s_):s_},pm.rebind(u_,h_,"on")};var _x=20,vx=1,bx=1/0;pm.layout.hierarchy=function(){function r_(d_){var p_,g_=[d_],c_=[];for(d_.depth=0;null!=(p_=g_.pop());)if(c_.push(p_),(h_=o_.call(r_,p_,p_.depth))&&(u_=h_.length)){for(var u_,h_,y_;0<=--u_;)g_.push(y_=h_[u_]),y_.parent=p_,y_.depth=p_.depth+1;s_&&(p_.value=0),p_.children=h_}else s_&&(p_.value=+s_.call(r_,p_,p_.depth)||0),delete p_.children;return dh(d_,function(m_){var f_,x_;i_&&(f_=m_.children)&&f_.sort(i_),s_&&(x_=m_.parent)&&(x_.value+=m_.value)}),c_}var i_=ch,o_=ph,s_=gh;return r_.sort=function(d_){return arguments.length?(i_=d_,r_):i_},r_.children=function(d_){return arguments.length?(o_=d_,r_):o_},r_.value=function(d_){return arguments.length?(s_=d_,r_):s_},r_.revalue=function(d_){return s_&&(sh(d_,function(p_){p_.children&&(p_.value=0)}),dh(d_,function(p_){var g_;p_.children||(p_.value=+s_.call(r_,p_,p_.depth)||0),(g_=p_.parent)&&(g_.value+=p_.value)})),d_},r_},pm.layout.partition=function(){function r_(p_,g_,c_,u_){var h_=p_.children;if(p_.x=g_,p_.y=p_.depth*u_,p_.dx=c_,p_.dy=u_,h_&&(y_=h_.length)){var y_,m_,f_,x_=-1;for(c_=p_.value?c_/p_.value:0;++x_<y_;)r_(m_=h_[x_],g_,f_=m_.value*c_,u_),g_+=f_}}function i_(p_){var g_=p_.children,c_=0;if(g_&&(u_=g_.length))for(var u_,h_=-1;++h_<u_;)c_=Math.max(c_,i_(g_[h_]));return 1+c_}function o_(p_,g_){var c_=s_.call(this,p_,g_);return r_(c_[0],0,d_[0],d_[1]/i_(c_[0])),c_}var s_=pm.layout.hierarchy(),d_=[1,1];return o_.size=function(p_){return arguments.length?(d_=p_,o_):d_},oh(o_,s_)},pm.layout.pie=function(){function r_(g_){var c_,u_=g_.length,h_=g_.map(function(S_,E_){return+i_.call(r_,S_,E_)}),y_=+("function"==typeof s_?s_.apply(this,arguments):s_),m_=("function"==typeof d_?d_.apply(this,arguments):d_)-y_,f_=Math.min(Math.abs(m_)/u_,+("function"==typeof p_?p_.apply(this,arguments):p_)),x_=f_*(0>m_?-1:1),__=pm.sum(h_),v_=__?(m_-u_*x_)/__:0,b_=pm.range(u_),w_=[];return null!=o_&&b_.sort(o_===wx?function(S_,E_){return h_[E_]-h_[S_]}:function(S_,E_){return o_(g_[S_],g_[E_])}),b_.forEach(function(S_){w_[S_]={data:g_[S_],value:c_=h_[S_],startAngle:y_,endAngle:y_+=c_*v_+x_,padAngle:f_}}),w_}var i_=Number,o_=wx,s_=0,d_=Om,p_=0;return r_.value=function(g_){return arguments.length?(i_=g_,r_):i_},r_.sort=function(g_){return arguments.length?(o_=g_,r_):o_},r_.startAngle=function(g_){return arguments.length?(s_=g_,r_):s_},r_.endAngle=function(g_){return arguments.length?(d_=g_,r_):d_},r_.padAngle=function(g_){return arguments.length?(p_=g_,r_):p_},r_};var wx={};pm.layout.stack=function(){function r_(c_,u_){if(!(f_=c_.length))return c_;var h_=c_.map(function(S_,E_){return i_.call(r_,S_,E_)}),y_=h_.map(function(S_){return S_.map(function(E_,k_){return[p_.call(r_,E_,k_),g_.call(r_,E_,k_)]})}),m_=o_.call(r_,y_,u_);h_=pm.permute(h_,m_),y_=pm.permute(y_,m_);var f_,x_,__,v_,b_=s_.call(r_,y_,u_),w_=h_[0].length;for(__=0;w_>__;++__)for(d_.call(r_,h_[0][__],v_=b_[__],y_[0][__][1]),x_=1;f_>x_;++x_)d_.call(r_,h_[x_][__],v_+=y_[x_-1][__][1],y_[x_][__][1]);return c_}var i_=xs,o_=fh,s_=xh,d_=mh,p_=hh,g_=yh;return r_.values=function(c_){return arguments.length?(i_=c_,r_):i_},r_.order=function(c_){return arguments.length?(o_="function"==typeof c_?c_:Sx.get(c_)||fh,r_):o_},r_.offset=function(c_){return arguments.length?(s_="function"==typeof c_?c_:Ex.get(c_)||xh,r_):s_},r_.x=function(c_){return arguments.length?(p_=c_,r_):p_},r_.y=function(c_){return arguments.length?(g_=c_,r_):g_},r_.out=function(c_){return arguments.length?(d_=c_,r_):d_},r_};var Sx=pm.map({"inside-out":function(r_){var i_,o_,s_=r_.length,d_=r_.map(_h),p_=r_.map(vh),g_=pm.range(s_).sort(function(m_,f_){return d_[m_]-d_[f_]}),c_=0,u_=0,h_=[],y_=[];for(i_=0;s_>i_;++i_)o_=g_[i_],u_>c_?(c_+=p_[o_],h_.push(o_)):(u_+=p_[o_],y_.push(o_));return y_.reverse().concat(h_)},reverse:function(r_){return pm.range(r_.length).reverse()},"default":fh}),Ex=pm.map({silhouette:function(r_){var i_,o_,s_,d_=r_.length,p_=r_[0].length,g_=[],c_=0,u_=[];for(o_=0;p_>o_;++o_){for(i_=0,s_=0;d_>i_;i_++)s_+=r_[i_][o_][1];s_>c_&&(c_=s_),g_.push(s_)}for(o_=0;p_>o_;++o_)u_[o_]=(c_-g_[o_])/2;return u_},wiggle:function(r_){var i_,o_,s_,d_,p_,g_,c_,u_,h_,y_=r_.length,m_=r_[0],f_=m_.length,x_=[];for(x_[0]=u_=h_=0,o_=1;f_>o_;++o_){for(i_=0,d_=0;y_>i_;++i_)d_+=r_[i_][o_][1];for(i_=0,p_=0,c_=m_[o_][0]-m_[o_-1][0];y_>i_;++i_){for(s_=0,g_=(r_[i_][o_][1]-r_[i_][o_-1][1])/(2*c_);i_>s_;++s_)g_+=(r_[s_][o_][1]-r_[s_][o_-1][1])/c_;p_+=g_*r_[i_][o_][1]}x_[o_]=u_-=d_?p_/d_*c_:0,h_>u_&&(h_=u_)}for(o_=0;f_>o_;++o_)x_[o_]-=h_;return x_},expand:function(r_){var i_,o_,s_,d_=r_.length,p_=r_[0].length,c_=[];for(o_=0;p_>o_;++o_){for(i_=0,s_=0;d_>i_;i_++)s_+=r_[i_][o_][1];if(s_)for(i_=0;d_>i_;i_++)r_[i_][o_][1]/=s_;else for(i_=0;d_>i_;i_++)r_[i_][o_][1]=1/d_}for(o_=0;p_>o_;++o_)c_[o_]=0;return c_},zero:xh});pm.layout.histogram=function(){function r_(p_,g_){for(var c_,u_,h_=[],y_=p_.map(o_,this),m_=s_.call(this,y_,g_),f_=d_.call(this,m_,y_,g_),g_=-1,x_=y_.length,__=f_.length-1,v_=i_?1:1/x_;++g_<__;)c_=h_[g_]=[],c_.dx=f_[g_+1]-(c_.x=f_[g_]),c_.y=0;if(0<__)for(g_=-1;++g_<x_;)u_=y_[g_],u_>=m_[0]&&u_<=m_[1]&&(c_=h_[pm.bisect(f_,u_,1,__)-1],c_.y+=v_,c_.push(p_[g_]));return h_}var i_=!0,o_=Number,s_=Eh,d_=wh;return r_.value=function(p_){return arguments.length?(o_=p_,r_):o_},r_.range=function(p_){return arguments.length?(s_=Cd(p_),r_):s_},r_.bins=function(p_){return arguments.length?(d_="number"==typeof p_?function(g_){return Sh(g_,p_)}:Cd(p_),r_):d_},r_.frequency=function(p_){return arguments.length?(i_=!!p_,r_):i_},r_},pm.layout.pack=function(){function r_(p_,g_){var c_=o_.call(this,p_,g_),u_=c_[0],h_=d_[0],y_=d_[1],m_=null==i_?Math.sqrt:"function"==typeof i_?i_:function(){return i_};if(u_.x=u_.y=0,dh(u_,function(x_){x_.r=+m_(x_.value)}),dh(u_,qh),s_){var f_=s_*(i_?1:Math.max(2*u_.r/h_,2*u_.r/y_))/2;dh(u_,function(x_){x_.r+=f_}),dh(u_,qh),dh(u_,function(x_){x_.r-=f_})}return Mh(u_,h_/2,y_/2,i_?1:1/Math.max(2*u_.r/h_,2*u_.r/y_)),c_}var i_,o_=pm.layout.hierarchy().sort(kh),s_=0,d_=[1,1];return r_.size=function(p_){return arguments.length?(d_=p_,r_):d_},r_.radius=function(p_){return arguments.length?(i_=null==p_||"function"==typeof p_?p_:+p_,r_):i_},r_.padding=function(p_){return arguments.length?(s_=+p_,r_):s_},oh(r_,o_)},pm.layout.tree=function(){function r_(y_,m_){var f_=g_.call(this,y_,m_),x_=f_[0],__=i_(x_);if(dh(__,o_),__.parent.m=-__.z,sh(__,s_),h_)sh(x_,p_);else{var v_=x_,b_=x_,w_=x_;sh(x_,function(C_){C_.x<v_.x&&(v_=C_),C_.x>b_.x&&(b_=C_),C_.depth>w_.depth&&(w_=C_)});var S_=c_(v_,b_)/2-v_.x,E_=u_[0]/(b_.x+c_(b_,v_)/2+S_),k_=u_[1]/(w_.depth||1);sh(x_,function(C_){C_.x=(C_.x+S_)*E_,C_.y=C_.depth*k_})}return f_}function i_(y_){for(var m_,f_={A:null,children:[y_]},x_=[f_];null!=(m_=x_.pop());)for(var __,v_=m_.children,b_=0,w_=v_.length;w_>b_;++b_)x_.push((v_[b_]=__={_:v_[b_],parent:m_,children:(__=v_[b_].children)&&__.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:b_}).a=__);return f_.children[0]}function o_(y_){var m_=y_.children,f_=y_.parent.children,x_=y_.i?f_[y_.i-1]:null;if(m_.length){Dh(y_);var __=(m_[0].z+m_[m_.length-1].z)/2;x_?(y_.z=x_.z+c_(y_._,x_._),y_.m=y_.z-__):y_.z=__}else x_&&(y_.z=x_.z+c_(y_._,x_._));y_.parent.A=d_(y_,x_,y_.parent.A||f_[0])}function s_(y_){y_._.x=y_.z+y_.parent.m,y_.m+=y_.parent.m}function d_(y_,m_,f_){if(m_){for(var x_,__=y_,v_=y_,b_=m_,w_=__.parent.children[0],S_=__.m,E_=v_.m,k_=b_.m,C_=w_.m;b_=Uh(b_),__=Ph(__),b_&&__;)w_=Ph(w_),v_=Uh(v_),v_.a=y_,x_=b_.z+k_-__.z-S_+c_(b_._,__._),0<x_&&(jh(Hh(b_,y_,f_),y_,x_),S_+=x_,E_+=x_),k_+=b_.m,S_+=__.m,C_+=w_.m,E_+=v_.m;b_&&!Uh(v_)&&(v_.t=b_,v_.m+=k_-E_),__&&!Ph(w_)&&(w_.t=__,w_.m+=S_-C_,f_=y_)}return f_}function p_(y_){y_.x*=u_[0],y_.y=y_.depth*u_[1]}var g_=pm.layout.hierarchy().sort(null).value(null),c_=Nh,u_=[1,1],h_=null;return r_.separation=function(y_){return arguments.length?(c_=y_,r_):c_},r_.size=function(y_){return arguments.length?(h_=null==(u_=y_)?p_:null,r_):h_?null:u_},r_.nodeSize=function(y_){return arguments.length?(h_=null==(u_=y_)?null:p_,r_):h_?u_:null},oh(r_,g_)},pm.layout.cluster=function(){function r_(p_,g_){var c_,u_=i_.call(this,p_,g_),h_=u_[0],y_=0;dh(h_,function(v_){var b_=v_.children;b_&&b_.length?(v_.x=Fh(b_),v_.y=Oh(b_)):(v_.x=c_?y_+=o_(v_,c_):0,v_.y=0,c_=v_)});var m_=Yh(h_),f_=Ih(h_),x_=m_.x-o_(m_,f_)/2,__=f_.x+o_(f_,m_)/2;return dh(h_,d_?function(v_){v_.x=(v_.x-h_.x)*s_[0],v_.y=(h_.y-v_.y)*s_[1]}:function(v_){v_.x=(v_.x-x_)/(__-x_)*s_[0],v_.y=(1-(h_.y?v_.y/h_.y:1))*s_[1]}),u_}var i_=pm.layout.hierarchy().sort(null).value(null),o_=Nh,s_=[1,1],d_=!1;return r_.separation=function(p_){return arguments.length?(o_=p_,r_):o_},r_.size=function(p_){return arguments.length?(d_=null==(s_=p_),r_):d_?null:s_},r_.nodeSize=function(p_){return arguments.length?(d_=null!=(s_=p_),r_):d_?s_:null},oh(r_,i_)},pm.layout.treemap=function(){function r_(v_,b_){for(var w_,S_,E_=-1,k_=v_.length;++E_<k_;)S_=(w_=v_[E_]).value*(0>b_?0:b_),w_.area=isNaN(S_)||0>=S_?0:S_}function i_(v_){var b_=v_.children;if(b_&&b_.length){var w_,S_,E_,k_=m_(v_),C_=[],A_=b_.slice(),L_=1/0,q_="slice"===x_?k_.dx:"dice"===x_?k_.dy:"slice-dice"===x_?1&v_.depth?k_.dy:k_.dx:Math.min(k_.dx,k_.dy);for(r_(A_,k_.dx*k_.dy/v_.value),C_.area=0;0<(E_=A_.length);)C_.push(w_=A_[E_-1]),C_.area+=w_.area,"squarify"!==x_||(S_=s_(C_,q_))<=L_?(A_.pop(),L_=S_):(C_.area-=C_.pop().area,d_(C_,q_,k_,!1),q_=Math.min(k_.dx,k_.dy),C_.length=C_.area=0,L_=1/0);C_.length&&(d_(C_,q_,k_,!0),C_.length=C_.area=0),b_.forEach(i_)}}function o_(v_){var b_=v_.children;if(b_&&b_.length){var w_,S_=m_(v_),E_=b_.slice(),k_=[];for(r_(E_,S_.dx*S_.dy/v_.value),k_.area=0;w_=E_.pop();)k_.push(w_),k_.area+=w_.area,null!=w_.z&&(d_(k_,w_.z?S_.dx:S_.dy,S_,!E_.length),k_.length=k_.area=0);b_.forEach(o_)}}function s_(v_,b_){for(var w_,S_=v_.area,E_=0,k_=1/0,C_=-1,A_=v_.length;++C_<A_;)(w_=v_[C_].area)&&(k_>w_&&(k_=w_),w_>E_&&(E_=w_));return S_*=S_,b_*=b_,S_?Math.max(b_*E_*__/S_,S_/(b_*k_*__)):1/0}function d_(v_,b_,w_,S_){var E_,k_=-1,C_=v_.length,A_=w_.x,L_=w_.y,q_=b_?u_(v_.area/b_):0;if(b_==w_.dx){for((S_||q_>w_.dy)&&(q_=w_.dy);++k_<C_;)E_=v_[k_],E_.x=A_,E_.y=L_,E_.dy=q_,A_+=E_.dx=Math.min(w_.x+w_.dx-A_,q_?u_(E_.area/q_):0);E_.z=!0,E_.dx+=w_.x+w_.dx-A_,w_.y+=q_,w_.dy-=q_}else{for((S_||q_>w_.dx)&&(q_=w_.dx);++k_<C_;)E_=v_[k_],E_.x=A_,E_.y=L_,E_.dx=q_,L_+=E_.dy=Math.min(w_.y+w_.dy-L_,q_?u_(E_.area/q_):0);E_.z=!1,E_.dy+=w_.y+w_.dy-L_,w_.x+=q_,w_.dx-=q_}}function p_(v_){var b_=g_||c_(v_),w_=b_[0];return w_.x=w_.y=0,w_.value?(w_.dx=h_[0],w_.dy=h_[1]):w_.dx=w_.dy=0,g_&&c_.revalue(w_),r_([w_],w_.dx*w_.dy/w_.value),(g_?o_:i_)(w_),f_&&(g_=b_),b_}var g_,c_=pm.layout.hierarchy(),u_=Math.round,h_=[1,1],y_=null,m_=Zh,f_=!1,x_="squarify",__=.5*(1+Math.sqrt(5));return p_.size=function(v_){return arguments.length?(h_=v_,p_):h_},p_.padding=function(v_){function w_(E_){return Vh(E_,v_)}if(!arguments.length)return y_;var S_;return m_=null==(y_=v_)?Zh:"function"==(S_=typeof v_)?function(E_){var k_=v_.call(p_,E_,E_.depth);return null==k_?Zh(E_):Vh(E_,"number"==typeof k_?[k_,k_,k_,k_]:k_)}:"number"===S_?(v_=[v_,v_,v_,v_],w_):w_,p_},p_.round=function(v_){return arguments.length?(u_=v_?Math.round:Number,p_):u_!=Number},p_.sticky=function(v_){return arguments.length?(f_=v_,g_=null,p_):f_},p_.ratio=function(v_){return arguments.length?(__=v_,p_):__},p_.mode=function(v_){return arguments.length?(x_=v_+"",p_):x_},oh(p_,c_)},pm.random={normal:function(r_,i_){var o_=arguments.length;return 2>o_&&(i_=1),1>o_&&(r_=0),function(){var s_,d_,p_;do s_=2*Math.random()-1,d_=2*Math.random()-1,p_=s_*s_+d_*d_;while(!p_||1<p_);return r_+i_*s_*Math.sqrt(-2*Math.log(p_)/p_)}},logNormal:function(){var r_=pm.random.normal.apply(pm,arguments);return function(){return Math.exp(r_())}},bates:function(r_){var i_=pm.random.irwinHall(r_);return function(){return i_()/r_}},irwinHall:function(r_){return function(){for(var i_=0,o_=0;r_>o_;o_++)i_+=Math.random();return i_}}},pm.scale={};var kx={floor:xs,ceil:xs};pm.scale.linear=function(){return Kh([0,1],[0,1],wc,!1)};var Cx={s:1,g:1,p:1,r:1,e:1};pm.scale.log=function(){return iy(pm.scale.linear().domain([0,1]),10,!0,[1,10])};var Ax=pm.format(".0e"),Lx={floor:function(r_){return-Math.ceil(-r_)},ceil:function(r_){return-Math.floor(-r_)}};pm.scale.pow=function(){return oy(pm.scale.linear(),1,[0,1])},pm.scale.sqrt=function(){return pm.scale.pow().exponent(.5)},pm.scale.ordinal=function(){return dy([],{t:"range",a:[[]]})},pm.scale.category10=function(){return pm.scale.ordinal().range(qx)},pm.scale.category20=function(){return pm.scale.ordinal().range(zx)},pm.scale.category20b=function(){return pm.scale.ordinal().range(Tx)},pm.scale.category20c=function(){return pm.scale.ordinal().range(Mx)};var qx=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_d),zx=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_d),Tx=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_d),Mx=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_d);pm.scale.quantile=function(){return py([],[])},pm.scale.quantize=function(){return gy(0,1,[0,1])},pm.scale.threshold=function(){return cy([0.5],[0,1])},pm.scale.identity=function(){return uy([0,1])},pm.svg={},pm.svg.arc=function(){function r_(){var h_=Math.max(0,+o_.apply(this,arguments)),y_=Math.max(0,+s_.apply(this,arguments)),m_=g_.apply(this,arguments)-Ym,f_=c_.apply(this,arguments)-Ym,x_=Math.abs(f_-m_),__=m_>f_?0:1;if(h_>y_&&(v_=y_,y_=h_,h_=v_),x_>=Om-jm)return i_(y_,__)+(h_?i_(h_,1-__):"")+"Z";var v_,b_,w_,S_,E_,k_,C_,A_,L_,q_,z_,T_,M_=0,R_=0,N_=[];if((S_=(+u_.apply(this,arguments)||0)/2)&&(w_=p_===Rx?Math.sqrt(h_*h_+y_*y_):+p_.apply(this,arguments),__||(R_*=-1),y_&&(R_=td(w_/y_*Math.sin(S_))),h_&&(M_=td(w_/h_*Math.sin(S_)))),y_){E_=y_*Math.cos(m_+R_),k_=y_*Math.sin(m_+R_),C_=y_*Math.cos(f_-R_),A_=y_*Math.sin(f_-R_);var P_=Math.abs(f_-m_-2*R_)<=Hm?0:1;if(R_&&vy(E_,k_,C_,A_)===__^P_){var U_=(m_+f_)/2;E_=y_*Math.cos(U_),k_=y_*Math.sin(U_),C_=A_=null}}else E_=k_=0;if(h_){L_=h_*Math.cos(f_-M_),q_=h_*Math.sin(f_-M_),z_=h_*Math.cos(m_+M_),T_=h_*Math.sin(m_+M_);var j_=Math.abs(m_-f_+2*M_)<=Hm?0:1;if(M_&&vy(L_,q_,z_,T_)===1-__^j_){var D_=(m_+f_)/2;L_=h_*Math.cos(D_),q_=h_*Math.sin(D_),z_=T_=null}}else L_=q_=0;if(x_>jm&&.001<(v_=Math.min(Math.abs(y_-h_)/2,+d_.apply(this,arguments)))){b_=y_>h_^__?0:1;var H_=v_,O_=v_;if(Hm>x_){var F_=null==z_?[L_,q_]:null==C_?[E_,k_]:Rg([E_,k_],[z_,T_],[C_,A_],[L_,q_]),Y_=E_-F_[0],I_=k_-F_[1],Z_=C_-F_[0],V_=A_-F_[1],X_=1/Math.sin(Math.acos((Y_*Z_+I_*V_)/(Math.sqrt(Y_*Y_+I_*I_)*Math.sqrt(Z_*Z_+V_*V_)))/2),B_=Math.sqrt(F_[0]*F_[0]+F_[1]*F_[1]);O_=Math.min(v_,(h_-B_)/(X_-1)),H_=Math.min(v_,(y_-B_)/(X_+1))}if(null!=C_){var W_=by(null==z_?[L_,q_]:[z_,T_],[E_,k_],y_,H_,__),$_=by([C_,A_],[L_,q_],y_,H_,__);v_===H_?N_.push("M",W_[0],"A",H_,",",H_," 0 0,",b_," ",W_[1],"A",y_,",",y_," 0 ",1-__^vy(W_[1][0],W_[1][1],$_[1][0],$_[1][1]),",",__," ",$_[1],"A",H_,",",H_," 0 0,",b_," ",$_[0]):N_.push("M",W_[0],"A",H_,",",H_," 0 1,",b_," ",$_[0])}else N_.push("M",E_,",",k_);if(null!=z_){var J_=by([E_,k_],[z_,T_],h_,-O_,__),G_=by([L_,q_],null==C_?[E_,k_]:[C_,A_],h_,-O_,__);v_===O_?N_.push("L",G_[0],"A",O_,",",O_," 0 0,",b_," ",G_[1],"A",h_,",",h_," 0 ",__^vy(G_[1][0],G_[1][1],J_[1][0],J_[1][1]),",",1-__," ",J_[1],"A",O_,",",O_," 0 0,",b_," ",J_[0]):N_.push("L",G_[0],"A",O_,",",O_," 0 0,",b_," ",J_[0])}else N_.push("L",L_,",",q_)}else N_.push("M",E_,",",k_),null!=C_&&N_.push("A",y_,",",y_," 0 ",P_,",",__," ",C_,",",A_),N_.push("L",L_,",",q_),null!=z_&&N_.push("A",h_,",",h_," 0 ",j_,",",1-__," ",z_,",",T_);return N_.push("Z"),N_.join("")}function i_(h_,y_){return"M0,"+h_+"A"+h_+","+h_+" 0 1,"+y_+" 0,"+-h_+"A"+h_+","+h_+" 0 1,"+y_+" 0,"+h_}var o_=yy,s_=my,d_=hy,p_=Rx,g_=fy,c_=xy,u_=_y;return r_.innerRadius=function(h_){return arguments.length?(o_=Cd(h_),r_):o_},r_.outerRadius=function(h_){return arguments.length?(s_=Cd(h_),r_):s_},r_.cornerRadius=function(h_){return arguments.length?(d_=Cd(h_),r_):d_},r_.padRadius=function(h_){return arguments.length?(p_=h_==Rx?Rx:Cd(h_),r_):p_},r_.startAngle=function(h_){return arguments.length?(g_=Cd(h_),r_):g_},r_.endAngle=function(h_){return arguments.length?(c_=Cd(h_),r_):c_},r_.padAngle=function(h_){return arguments.length?(u_=Cd(h_),r_):u_},r_.centroid=function(){var h_=(+o_.apply(this,arguments)+ +s_.apply(this,arguments))/2,y_=(+g_.apply(this,arguments)+ +c_.apply(this,arguments))/2-Ym;return[Math.cos(y_)*h_,Math.sin(y_)*h_]},r_};var Rx="auto";pm.svg.line=function(){return wy(xs)};var Nx=pm.map({linear:Sy,"linear-closed":Ey,step:function(r_){for(var i_=0,o_=r_.length,s_=r_[0],d_=[s_[0],",",s_[1]];++i_<o_;)d_.push("H",(s_[0]+(s_=r_[i_])[0])/2,"V",s_[1]);return 1<o_&&d_.push("H",s_[0]),d_.join("")},"step-before":Cy,"step-after":Ay,basis:Ry,"basis-open":function(r_){if(4>r_.length)return Sy(r_);for(var i_,o_=[],s_=-1,d_=r_.length,p_=[0],g_=[0];3>++s_;)i_=r_[s_],p_.push(i_[0]),g_.push(i_[1]);for(o_.push(jy(jx,p_)+","+jy(jx,g_)),--s_;++s_<d_;)i_=r_[s_],p_.shift(),p_.push(i_[0]),g_.shift(),g_.push(i_[1]),Dy(o_,p_,g_);return o_.join("")},"basis-closed":function(r_){for(var i_,o_,s_=-1,d_=r_.length,p_=d_+4,g_=[],c_=[];4>++s_;)o_=r_[s_%d_],g_.push(o_[0]),c_.push(o_[1]);for(i_=[jy(jx,g_),",",jy(jx,c_)],--s_;++s_<p_;)o_=r_[s_%d_],g_.shift(),g_.push(o_[0]),c_.shift(),c_.push(o_[1]),Dy(i_,g_,c_);return i_.join("")},bundle:function(r_,i_){var o_=r_.length-1;if(o_)for(var s_,d_,p_=r_[0][0],g_=r_[0][1],c_=r_[o_][0]-p_,u_=r_[o_][1]-g_,h_=-1;++h_<=o_;)s_=r_[h_],d_=h_/o_,s_[0]=i_*s_[0]+(1-i_)*(p_+d_*c_),s_[1]=i_*s_[1]+(1-i_)*(g_+d_*u_);return Ry(r_)},cardinal:function(r_,i_){return 3>r_.length?Sy(r_):r_[0]+Ty(r_,My(r_,i_))},"cardinal-open":function(r_,i_){return 4>r_.length?Sy(r_):r_[1]+Ty(r_.slice(1,-1),My(r_,i_))},"cardinal-closed":function(r_,i_){return 3>r_.length?Ey(r_):r_[0]+Ty((r_.push(r_[0]),r_),My([r_[r_.length-2]].concat(r_,[r_[1]]),i_))},monotone:function(r_){return 3>r_.length?Sy(r_):r_[0]+Ty(r_,Fy(r_))}});Nx.forEach(function(r_,i_){i_.key=r_,i_.closed=/-closed$/.test(r_)});var Px=[0,0.6666666666666666,0.3333333333333333,0],Ux=[0,0.3333333333333333,0.6666666666666666,0],jx=[0,0.16666666666666666,0.6666666666666666,0.16666666666666666];pm.svg.line.radial=function(){var r_=wy(Iy);return r_.radius=r_.x,delete r_.x,r_.angle=r_.y,delete r_.y,r_},Cy.reverse=Ay,Ay.reverse=Cy,pm.svg.area=function(){return Zy(xs)},pm.svg.area.radial=function(){var r_=Zy(Iy);return r_.radius=r_.x,delete r_.x,r_.innerRadius=r_.x0,delete r_.x0,r_.outerRadius=r_.x1,delete r_.x1,r_.angle=r_.y,delete r_.y,r_.startAngle=r_.y0,delete r_.y0,r_.endAngle=r_.y1,delete r_.y1,r_},pm.svg.chord=function(){function r_(y_,m_){var f_=i_(this,p_,y_,m_),x_=i_(this,g_,y_,m_);return"M"+f_.p0+s_(f_.r,f_.p1,f_.a1-f_.a0)+(o_(f_,x_)?d_(f_.r,f_.p1,f_.r,f_.p0):d_(f_.r,f_.p1,x_.r,x_.p0)+s_(x_.r,x_.p1,x_.a1-x_.a0)+d_(x_.r,x_.p1,f_.r,f_.p0))+"Z"}function i_(y_,m_,f_,x_){var __=m_.call(y_,f_,x_),v_=c_.call(y_,__,x_),b_=u_.call(y_,__,x_)-Ym,w_=h_.call(y_,__,x_)-Ym;return{r:v_,a0:b_,a1:w_,p0:[v_*Math.cos(b_),v_*Math.sin(b_)],p1:[v_*Math.cos(w_),v_*Math.sin(w_)]}}function o_(y_,m_){return y_.a0==m_.a0&&y_.a1==m_.a1}function s_(y_,m_,f_){return"A"+y_+","+y_+" 0 "+ +(f_>Hm)+",1 "+m_}function d_(y_,m_,f_,x_){return"Q 0,0 "+x_}var p_=xg,g_=_g,c_=Vy,u_=fy,h_=xy;return r_.radius=function(y_){return arguments.length?(c_=Cd(y_),r_):c_},r_.source=function(y_){return arguments.length?(p_=Cd(y_),r_):p_},r_.target=function(y_){return arguments.length?(g_=Cd(y_),r_):g_},r_.startAngle=function(y_){return arguments.length?(u_=Cd(y_),r_):u_},r_.endAngle=function(y_){return arguments.length?(h_=Cd(y_),r_):h_},r_},pm.svg.diagonal=function(){function r_(d_,p_){var g_=i_.call(this,d_,p_),c_=o_.call(this,d_,p_),u_=(g_.y+c_.y)/2,h_=[g_,{x:g_.x,y:u_},{x:c_.x,y:u_},c_];return h_=h_.map(s_),"M"+h_[0]+"C"+h_[1]+" "+h_[2]+" "+h_[3]}var i_=xg,o_=_g,s_=Xy;return r_.source=function(d_){return arguments.length?(i_=Cd(d_),r_):i_},r_.target=function(d_){return arguments.length?(o_=Cd(d_),r_):o_},r_.projection=function(d_){return arguments.length?(s_=d_,r_):s_},r_},pm.svg.diagonal.radial=function(){var r_=pm.svg.diagonal(),i_=Xy,o_=r_.projection;return r_.projection=function(s_){return arguments.length?o_(By(i_=s_)):i_},r_},pm.svg.symbol=function(){function r_(s_,d_){return(Dx.get(i_.call(this,s_,d_))||Jy)(o_.call(this,s_,d_))}var i_=$y,o_=Wy;return r_.type=function(s_){return arguments.length?(i_=Cd(s_),r_):i_},r_.size=function(s_){return arguments.length?(o_=Cd(s_),r_):o_},r_};var Dx=pm.map({circle:Jy,cross:function(r_){var i_=Math.sqrt(r_/5)/2;return"M"+-3*i_+","+-i_+"H"+-i_+"V"+-3*i_+"H"+i_+"V"+-i_+"H"+3*i_+"V"+i_+"H"+i_+"V"+3*i_+"H"+-i_+"V"+i_+"H"+-3*i_+"Z"},diamond:function(r_){var i_=Math.sqrt(r_/(2*Ox)),o_=i_*Ox;return"M0,"+-i_+"L"+o_+",0 0,"+i_+" "+-o_+",0Z"},square:function(r_){var i_=Math.sqrt(r_)/2;return"M"+-i_+","+-i_+"L"+i_+","+-i_+" "+i_+","+i_+" "+-i_+","+i_+"Z"},"triangle-down":function(r_){var i_=Math.sqrt(r_/Hx),o_=i_*Hx/2;return"M0,"+o_+"L"+i_+","+-o_+" "+-i_+","+-o_+"Z"},"triangle-up":function(r_){var i_=Math.sqrt(r_/Hx),o_=i_*Hx/2;return"M0,"+-o_+"L"+i_+","+o_+" "+-i_+","+o_+"Z"}});pm.svg.symbolTypes=Dx.keys();var Hx=Math.sqrt(3),Ox=Math.tan(30*Im);qm.transition=function(r_){for(var i_,o_,s_=Fx||++Vx,d_=tm(r_),p_=[],g_=Yx||{time:Date.now(),ease:qc,delay:0,duration:250},c_=-1,u_=this.length;++c_<u_;){p_.push(i_=[]);for(var h_=this[c_],y_=-1,m_=h_.length;++y_<m_;)(o_=h_[y_])&&nm(o_,y_,d_,s_,g_),i_.push(o_)}return Ky(p_,d_,s_)},qm.interrupt=function(r_){return this.each(null==r_?Ix:Gy(tm(r_)))};var Fx,Yx,Ix=Gy(tm()),Zx=[],Vx=0;Zx.call=qm.call,Zx.empty=qm.empty,Zx.node=qm.node,Zx.size=qm.size,pm.transition=function(r_,i_){return r_&&r_.transition?Fx?r_.transition(i_):r_:pm.selection().transition(r_)},pm.transition.prototype=Zx,Zx.select=function(r_){var i_,o_,s_,d_=this.id,p_=this.namespace,g_=[];r_=Ls(r_);for(var c_=-1,u_=this.length;++c_<u_;){g_.push(i_=[]);for(var h_=this[c_],y_=-1,m_=h_.length;++y_<m_;)(s_=h_[y_])&&(o_=r_.call(s_,s_.__data__,y_,c_))?("__data__"in s_&&(o_.__data__=s_.__data__),nm(o_,y_,p_,d_,s_[p_][d_]),i_.push(o_)):i_.push(null)}return Ky(g_,p_,d_)},Zx.selectAll=function(r_){var i_,o_,s_,d_,p_,g_=this.id,c_=this.namespace,u_=[];r_=qs(r_);for(var h_=-1,y_=this.length;++h_<y_;)for(var m_=this[h_],f_=-1,x_=m_.length;++f_<x_;)if(s_=m_[f_]){p_=s_[c_][g_],o_=r_.call(s_,s_.__data__,f_,h_),u_.push(i_=[]);for(var __=-1,v_=o_.length;++__<v_;)(d_=o_[__])&&nm(d_,__,c_,g_,p_),i_.push(d_)}return Ky(u_,c_,g_)},Zx.filter=function(r_){var i_,o_,s_,d_=[];"function"!=typeof r_&&(r_=Fs(r_));for(var p_=0,g_=this.length;g_>p_;p_++){d_.push(i_=[]);for(var o_=this[p_],c_=0,u_=o_.length;u_>c_;c_++)(s_=o_[c_])&&r_.call(s_,s_.__data__,c_,p_)&&i_.push(s_)}return Ky(d_,this.namespace,this.id)},Zx.tween=function(r_,i_){var o_=this.id,s_=this.namespace;return 2>arguments.length?this.node()[s_][o_].tween.get(r_):Is(this,null==i_?function(d_){d_[s_][o_].tween.remove(r_)}:function(d_){d_[s_][o_].tween.set(r_,i_)})},Zx.attr=function(r_,i_){function o_(){this.removeAttribute(c_)}function s_(){this.removeAttributeNS(c_.space,c_.local)}if(2>arguments.length){for(i_ in r_)this.attr(i_,r_[i_]);return this}var g_="transform"==r_?Jc:wc,c_=pm.ns.qualify(r_);return Qy(this,"attr."+r_,i_,c_.local?function(u_){return null==u_?s_:(u_+="",function(){var h_,y_=this.getAttributeNS(c_.space,c_.local);return y_!==u_&&(h_=g_(y_,u_),function(m_){this.setAttributeNS(c_.space,c_.local,h_(m_))})})}:function(u_){return null==u_?o_:(u_+="",function(){var h_,y_=this.getAttribute(c_);return y_!==u_&&(h_=g_(y_,u_),function(m_){this.setAttribute(c_,h_(m_))})})})},Zx.attrTween=function(r_,i_){var d_=pm.ns.qualify(r_);return this.tween("attr."+r_,d_.local?function(p_,g_){var c_=i_.call(this,p_,g_,this.getAttributeNS(d_.space,d_.local));return c_&&function(u_){this.setAttributeNS(d_.space,d_.local,c_(u_))}}:function(p_,g_){var c_=i_.call(this,p_,g_,this.getAttribute(d_));return c_&&function(u_){this.setAttribute(d_,c_(u_))}})},Zx.style=function(r_,i_,o_){function s_(){this.style.removeProperty(r_)}var p_=arguments.length;if(3>p_){if("string"!=typeof r_){for(o_ in 2>p_&&(i_=""),r_)this.style(o_,r_[o_],i_);return this}o_=""}return Qy(this,"style."+r_,i_,function(g_){return null==g_?s_:(g_+="",function(){var c_,u_=ts(this).getComputedStyle(this,null).getPropertyValue(r_);return u_!==g_&&(c_=wc(u_,g_),function(h_){this.style.setProperty(r_,c_(h_),o_)})})})},Zx.styleTween=function(r_,i_,o_){return 3>arguments.length&&(o_=""),this.tween("style."+r_,function(d_,p_){var g_=i_.call(this,d_,p_,ts(this).getComputedStyle(this,null).getPropertyValue(r_));return g_&&function(c_){this.style.setProperty(r_,g_(c_),o_)}})},Zx.text=function(r_){return Qy(this,"text",r_,em)},Zx.remove=function(){var r_=this.namespace;return this.each("end.transition",function(){var i_;2>this[r_].count&&(i_=this.parentNode)&&i_.removeChild(this)})},Zx.ease=function(r_){var i_=this.id,o_=this.namespace;return 1>arguments.length?this.node()[o_][i_].ease:("function"!=typeof r_&&(r_=pm.ease.apply(pm,arguments)),Is(this,function(s_){s_[o_][i_].ease=r_}))},Zx.delay=function(r_){var i_=this.id,o_=this.namespace;return 1>arguments.length?this.node()[o_][i_].delay:Is(this,"function"==typeof r_?function(s_,d_,p_){s_[o_][i_].delay=+r_.call(s_,s_.__data__,d_,p_)}:(r_=+r_,function(s_){s_[o_][i_].delay=r_}))},Zx.duration=function(r_){var i_=this.id,o_=this.namespace;return 1>arguments.length?this.node()[o_][i_].duration:Is(this,"function"==typeof r_?function(s_,d_,p_){s_[o_][i_].duration=Math.max(1,r_.call(s_,s_.__data__,d_,p_))}:(r_=Math.max(1,r_),function(s_){s_[o_][i_].duration=r_}))},Zx.each=function(r_,i_){var o_=this.id,s_=this.namespace;if(2>arguments.length){var d_=Yx,p_=Fx;try{Fx=o_,Is(this,function(g_,c_,u_){Yx=g_[s_][o_],r_.call(g_,g_.__data__,c_,u_)})}finally{Yx=d_,Fx=p_}}else Is(this,function(g_){var c_=g_[s_][o_];(c_.event||(c_.event=pm.dispatch("start","end","interrupt"))).on(r_,i_)});return this},Zx.transition=function(){for(var r_,i_,o_,s_,d_=this.id,p_=++Vx,g_=this.namespace,c_=[],u_=0,h_=this.length;h_>u_;u_++){c_.push(r_=[]);for(var i_=this[u_],y_=0,m_=i_.length;m_>y_;y_++)(o_=i_[y_])&&(s_=o_[g_][d_],nm(o_,y_,g_,p_,{time:s_.time,ease:s_.ease,delay:s_.delay+s_.duration,duration:s_.duration})),r_.push(o_)}return Ky(c_,g_,p_)},pm.svg.axis=function(){function r_(h_){h_.each(function(){var y_,m_=pm.select(this),f_=this.__chart__||o_,x_=this.__chart__=o_.copy(),__=null==u_?x_.ticks?x_.ticks.apply(x_,c_):x_.domain():u_,v_=null==i_?x_.tickFormat?x_.tickFormat.apply(x_,c_):xs:i_,b_=m_.selectAll(".tick").data(__,x_),w_=b_.enter().insert("g",".domain").attr("class","tick").style("opacity",jm),S_=pm.transition(b_.exit()).style("opacity",jm).remove(),E_=pm.transition(b_.order()).style("opacity",1),k_=Math.max(d_,0)+g_,C_=Bh(x_),A_=m_.selectAll(".domain").data([0]),L_=(A_.enter().append("path").attr("class","domain"),pm.transition(A_));w_.append("line"),w_.append("text");var q_,z_,T_,M_,R_=w_.select("line"),N_=E_.select("line"),P_=b_.select("text").text(v_),U_=w_.select("text"),j_=E_.select("text"),D_="top"===s_||"left"===s_?-1:1;if("bottom"===s_||"top"===s_?(y_=am,q_="x",T_="y",z_="x2",M_="y2",P_.attr("dy",0>D_?"0em":".71em").style("text-anchor","middle"),L_.attr("d","M"+C_[0]+","+D_*p_+"V0H"+C_[1]+"V"+D_*p_)):(y_=lm,q_="y",T_="x",z_="y2",M_="x2",P_.attr("dy",".32em").style("text-anchor",0>D_?"end":"start"),L_.attr("d","M"+D_*p_+","+C_[0]+"H0V"+C_[1]+"H"+D_*p_)),R_.attr(M_,D_*d_),U_.attr(T_,D_*k_),N_.attr(z_,0).attr(M_,D_*d_),j_.attr(q_,0).attr(T_,D_*k_),x_.rangeBand){var H_=x_,O_=H_.rangeBand()/2;f_=x_=function(F_){return H_(F_)+O_}}else f_.rangeBand?f_=x_:S_.call(y_,x_,f_);w_.call(y_,f_,x_),E_.call(y_,x_,x_)})}var i_,o_=pm.scale.linear(),s_=Xx,d_=6,p_=6,g_=3,c_=[10],u_=null;return r_.scale=function(h_){return arguments.length?(o_=h_,r_):o_},r_.orient=function(h_){return arguments.length?(s_=h_ in Bx?h_+"":Xx,r_):s_},r_.ticks=function(){return arguments.length?(c_=cm(arguments),r_):c_},r_.tickValues=function(h_){return arguments.length?(u_=h_,r_):u_},r_.tickFormat=function(h_){return arguments.length?(i_=h_,r_):i_},r_.tickSize=function(h_){var y_=arguments.length;return y_?(d_=+h_,p_=+arguments[y_-1],r_):d_},r_.innerTickSize=function(h_){return arguments.length?(d_=+h_,r_):d_},r_.outerTickSize=function(h_){return arguments.length?(p_=+h_,r_):p_},r_.tickPadding=function(h_){return arguments.length?(g_=+h_,r_):g_},r_.tickSubdivide=function(){return arguments.length&&r_},r_};var Xx="bottom",Bx={top:1,right:1,bottom:1,left:1};pm.svg.brush=function(){function r_(v_){v_.each(function(){var b_=pm.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d_).on("touchstart.brush",d_),w_=b_.selectAll(".background").data([0]);w_.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b_.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var S_=b_.selectAll(".resize").data(__,xs);S_.exit().remove(),S_.enter().append("g").attr("class",function(A_){return"resize "+A_}).style("cursor",function(A_){return Wx[A_]}).append("rect").attr("x",function(A_){return /[ew]$/.test(A_)?-3:null}).attr("y",function(A_){return /^[ns]/.test(A_)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),S_.style("display",r_.empty()?"none":null);var E_,k_=pm.transition(b_),C_=pm.transition(w_);u_&&(E_=Bh(u_),C_.attr("x",E_[0]).attr("width",E_[1]-E_[0]),o_(k_)),h_&&(E_=Bh(h_),C_.attr("y",E_[0]).attr("height",E_[1]-E_[0]),s_(k_)),i_(k_)})}function i_(v_){v_.selectAll(".resize").attr("transform",function(b_){return"translate("+y_[+/e$/.test(b_)]+","+m_[+/^s/.test(b_)]+")"})}function o_(v_){v_.select(".extent").attr("x",y_[0]),v_.selectAll(".extent,.n>rect,.s>rect").attr("width",y_[1]-y_[0])}function s_(v_){v_.select(".extent").attr("y",m_[0]),v_.selectAll(".extent,.e>rect,.w>rect").attr("height",m_[1]-m_[0])}function d_(){function w_(){var O_=pm.mouse(A_),F_=!1;C_&&(O_[0]+=C_[0],O_[1]+=C_[1]),N_||(pm.event.altKey?(k_||(k_=[(y_[0]+y_[1])/2,(m_[0]+m_[1])/2]),U_[0]=y_[+(O_[0]<k_[0])],U_[1]=m_[+(O_[1]<k_[1])]):k_=null),M_&&S_(O_,u_,0)&&(o_(z_),F_=!0),R_&&S_(O_,h_,1)&&(s_(z_),F_=!0),F_&&(i_(z_),q_({type:"brush",mode:N_?"move":"resize"}))}function S_(O_,F_,Y_){var I_,Z_,V_=Bh(F_),X_=V_[0],B_=V_[1],W_=U_[Y_],$_=Y_?m_:y_,J_=$_[1]-$_[0];return N_&&(X_-=W_,B_-=J_+W_),I_=(Y_?x_:f_)?Math.max(X_,Math.min(B_,O_[Y_])):O_[Y_],N_?Z_=(I_+=W_)+J_:(k_&&(W_=Math.max(X_,Math.min(B_,2*k_[Y_]-I_))),I_>W_?(Z_=I_,I_=W_):Z_=W_),$_[0]!=I_||$_[1]!=Z_?(Y_?g_=null:p_=null,$_[0]=I_,$_[1]=Z_,!0):void 0}function E_(){w_(),z_.style("pointer-events","all").selectAll(".resize").style("display",r_.empty()?"none":null),pm.select("body").style("cursor",null),j_.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),P_(),q_({type:"brushend"})}var k_,C_,A_=this,L_=pm.select(pm.event.target),q_=c_.of(A_,arguments),z_=pm.select(A_),T_=L_.datum(),M_=!/^(n|s)$/.test(T_)&&u_,R_=!/^(e|w)$/.test(T_)&&h_,N_=L_.classed("extent"),P_=$s(A_),U_=pm.mouse(A_),j_=pm.select(ts(A_)).on("keydown.brush",function(){32==pm.event.keyCode&&(N_||(k_=null,U_[0]-=y_[1],U_[1]-=m_[1],N_=2),Es())}).on("keyup.brush",function(){32==pm.event.keyCode&&2==N_&&(U_[0]+=y_[1],U_[1]+=m_[1],N_=0,Es())});if(pm.event.changedTouches?j_.on("touchmove.brush",w_).on("touchend.brush",E_):j_.on("mousemove.brush",w_).on("mouseup.brush",E_),z_.interrupt().selectAll("*").interrupt(),N_)U_[0]=y_[0]-U_[0],U_[1]=m_[0]-U_[1];else if(T_){var D_=+/w$/.test(T_),H_=+/^n/.test(T_);C_=[y_[1-D_]-U_[0],m_[1-H_]-U_[1]],U_[0]=y_[D_],U_[1]=m_[H_]}else pm.event.altKey&&(k_=U_.slice());z_.style("pointer-events","none").selectAll(".resize").style("display",null),pm.select("body").style("cursor",L_.style("cursor")),q_({type:"brushstart"}),w_()}var p_,g_,c_=Cs(r_,"brushstart","brush","brushend"),u_=null,h_=null,y_=[0,0],m_=[0,0],f_=!0,x_=!0,__=$x[0];return r_.event=function(v_){v_.each(function(){var b_=c_.of(this,arguments),w_={x:y_,y:m_,i:p_,j:g_},S_=this.__chart__||w_;this.__chart__=w_,Fx?pm.select(this).transition().each("start.brush",function(){p_=S_.i,g_=S_.j,y_=S_.x,m_=S_.y,b_({type:"brushstart"})}).tween("brush:brush",function(){var E_=Sc(y_,w_.x),k_=Sc(m_,w_.y);return p_=g_=null,function(C_){y_=w_.x=E_(C_),m_=w_.y=k_(C_),b_({type:"brush",mode:"resize"})}}).each("end.brush",function(){p_=w_.i,g_=w_.j,b_({type:"brush",mode:"resize"}),b_({type:"brushend"})}):(b_({type:"brushstart"}),b_({type:"brush",mode:"resize"}),b_({type:"brushend"}))})},r_.x=function(v_){return arguments.length?(u_=v_,__=$x[!u_<<1|!h_],r_):u_},r_.y=function(v_){return arguments.length?(h_=v_,__=$x[!u_<<1|!h_],r_):h_},r_.clamp=function(v_){return arguments.length?(u_&&h_?(f_=!!v_[0],x_=!!v_[1]):u_?f_=!!v_:h_&&(x_=!!v_),r_):u_&&h_?[f_,x_]:u_?f_:h_?x_:null},r_.extent=function(v_){var b_,w_,S_,E_,k_;return arguments.length?(u_&&(b_=v_[0],w_=v_[1],h_&&(b_=b_[0],w_=w_[0]),p_=[b_,w_],u_.invert&&(b_=u_(b_),w_=u_(w_)),b_>w_&&(k_=b_,b_=w_,w_=k_),b_==y_[0]&&w_==y_[1]||(y_=[b_,w_])),h_&&(S_=v_[0],E_=v_[1],u_&&(S_=S_[1],E_=E_[1]),g_=[S_,E_],h_.invert&&(S_=h_(S_),E_=h_(E_)),S_>E_&&(k_=S_,S_=E_,E_=k_),S_==m_[0]&&E_==m_[1]||(m_=[S_,E_])),r_):(u_&&(p_?(b_=p_[0],w_=p_[1]):(b_=y_[0],w_=y_[1],u_.invert&&(b_=u_.invert(b_),w_=u_.invert(w_)),b_>w_&&(k_=b_,b_=w_,w_=k_))),h_&&(g_?(S_=g_[0],E_=g_[1]):(S_=m_[0],E_=m_[1],h_.invert&&(S_=h_.invert(S_),E_=h_.invert(E_)),S_>E_&&(k_=S_,S_=E_,E_=k_))),u_&&h_?[[b_,S_],[w_,E_]]:u_?[b_,w_]:h_&&[S_,E_])},r_.clear=function(){return r_.empty()||(y_=[0,0],m_=[0,0],p_=g_=null),r_},r_.empty=function(){return!!u_&&y_[0]==y_[1]||!!h_&&m_[0]==m_[1]},pm.rebind(r_,c_,"on")};var Wx={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$x=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Jx=yf.format=bf.timeFormat,Gx=Jx.utc,Kx=Gx("%Y-%m-%dT%H:%M:%S.%LZ");Jx.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?rm:Kx,rm.parse=function(r_){var i_=new Date(r_);return isNaN(i_)?null:i_},rm.toString=Kx.toString,yf.second=Od(function(r_){return new mf(1e3*Math.floor(r_/1e3))},function(r_,i_){r_.setTime(r_.getTime()+1e3*Math.floor(i_))},function(r_){return r_.getSeconds()}),yf.seconds=yf.second.range,yf.seconds.utc=yf.second.utc.range,yf.minute=Od(function(r_){return new mf(6e4*Math.floor(r_/6e4))},function(r_,i_){r_.setTime(r_.getTime()+6e4*Math.floor(i_))},function(r_){return r_.getMinutes()}),yf.minutes=yf.minute.range,yf.minutes.utc=yf.minute.utc.range,yf.hour=Od(function(r_){var i_=r_.getTimezoneOffset()/60;return new mf(36e5*(Math.floor(r_/36e5-i_)+i_))},function(r_,i_){r_.setTime(r_.getTime()+36e5*Math.floor(i_))},function(r_){return r_.getHours()}),yf.hours=yf.hour.range,yf.hours.utc=yf.hour.utc.range,yf.month=Od(function(r_){return r_=yf.day(r_),r_.setDate(1),r_},function(r_,i_){r_.setMonth(r_.getMonth()+i_)},function(r_){return r_.getMonth()}),yf.months=yf.month.range,yf.months.utc=yf.month.utc.range;var Qx=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],e_=[[yf.second,1],[yf.second,5],[yf.second,15],[yf.second,30],[yf.minute,1],[yf.minute,5],[yf.minute,15],[yf.minute,30],[yf.hour,1],[yf.hour,3],[yf.hour,6],[yf.hour,12],[yf.day,1],[yf.day,2],[yf.week,1],[yf.month,1],[yf.month,3],[yf.year,1]],t_=Jx.multi([[".%L",function(r_){return r_.getMilliseconds()}],[":%S",function(r_){return r_.getSeconds()}],["%I:%M",function(r_){return r_.getMinutes()}],["%I %p",function(r_){return r_.getHours()}],["%a %d",function(r_){return r_.getDay()&&1!=r_.getDate()}],["%b %d",function(r_){return 1!=r_.getDate()}],["%B",function(r_){return r_.getMonth()}],["%Y",qp]]),n_={range:function(r_,i_,o_){return pm.range(Math.ceil(r_/o_)*o_,+i_,o_).map(om)},floor:xs,ceil:xs};e_.year=yf.year,yf.scale=function(){return im(pm.scale.linear(),e_,t_)};var a_=e_.map(function(r_){return[r_[0].utc,r_[1]]}),l_=Gx.multi([[".%L",function(r_){return r_.getUTCMilliseconds()}],[":%S",function(r_){return r_.getUTCSeconds()}],["%I:%M",function(r_){return r_.getUTCMinutes()}],["%I %p",function(r_){return r_.getUTCHours()}],["%a %d",function(r_){return r_.getUTCDay()&&1!=r_.getUTCDate()}],["%b %d",function(r_){return 1!=r_.getUTCDate()}],["%B",function(r_){return r_.getUTCMonth()}],["%Y",qp]]);a_.year=yf.year.utc,yf.scale.utc=function(){return im(pm.scale.linear(),a_,l_)},pm.text=Ad(function(r_){return r_.responseText}),pm.json=function(r_,i_){return Ld(r_,"application/json",sm,i_)},pm.html=function(r_,i_){return Ld(r_,"text/html",dm,i_)},pm.xml=Ad(function(r_){return r_.responseXML}),"function"==typeof define&&define.amd?(this.d3=pm,define(pm)):"object"==typeof module&&module.exports?module.exports=pm:this.d3=pm}();</script><script>!function(){var ee={};ee.dev=!1,ee.tooltip=ee.tooltip||{},ee.utils=ee.utils||{},ee.models=ee.models||{},ee.charts={},ee.logs={},ee.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),ee.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(te){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var ae=Array.prototype.slice.call(arguments,1),se=this,ne=function(){},le=function(){return se.apply(this instanceof ne&&te?this:te,ae.concat(Array.prototype.slice.call(arguments)))};return ne.prototype=this.prototype,le.prototype=new ne,le}),ee.dev&&(ee.dispatch.on("render_start",function(){ee.logs.startTime=+new Date}),ee.dispatch.on("render_end",function(){ee.logs.endTime=+new Date,ee.logs.totalTime=ee.logs.endTime-ee.logs.startTime,ee.log("total",ee.logs.totalTime)})),ee.log=function(){if(ee.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(ee.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var te=Function.prototype.bind.call(console.log,console);te.apply(console,arguments)}return arguments[arguments.length-1]},ee.deprecated=function(te,ae){console&&console.warn&&console.warn("nvd3 warning: `"+te+"` has been deprecated. ",ae||"")},ee.render=function(te){te=te||1,ee.render.active=!0,ee.dispatch.render_start();var ae=function(){for(var se,ne,le=0;te>le&&(ne=ee.render.queue[le]);le++)se=ne.generate(),typeof ne.callback==typeof Function&&ne.callback(se);ee.render.queue.splice(0,le),ee.render.queue.length?setTimeout(ae):(ee.dispatch.render_end(),ee.render.active=!1)};setTimeout(ae)},ee.render.active=!1,ee.render.queue=[],ee.addGraph=function(te){typeof arguments[0]==typeof Function&&(te={generate:arguments[0],callback:arguments[1]}),ee.render.queue.push(te),ee.render.active||ee.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=ee),"undefined"!=typeof window&&(window.nv=ee),ee.dom.write=function(te){return void 0===window.fastdom?te():fastdom.mutate(te)},ee.dom.read=function(te){return void 0===window.fastdom?te():fastdom.measure(te)},ee.interactiveGuideline=function(){"use strict";function te(pe){pe.each(function(ge){function ue(){var be=d3.mouse(this),ye=be[0],ke=be[1],we=!0,Ae=!1;if(ce&&(ye=d3.event.offsetX,ke=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(we=!1),d3.event.target.className.baseVal.match("nv-legend")&&(Ae=!0)),we&&(ye-=ae.left,ke-=ae.top),"mouseout"===d3.event.type||0>ye||0>ke||ye>me||ke>ve||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||Ae)return ce&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(de.nvPointerEventsClass))?void 0:(ie.elementMouseout({mouseX:ye,mouseY:ke}),te.renderGuideLine(null),void de.hidden(!0));de.hidden(!1);var Ce="function"==typeof le.rangeBands,Me;if(Ce){var Se=d3.bisect(le.range(),ye)-1;if(!(le.range()[Se]+le.rangeBand()>=ye))return ie.elementMouseout({mouseX:ye,mouseY:ke}),te.renderGuideLine(null),void de.hidden(!0);Me=le.domain()[d3.bisect(le.range(),ye)-1]}else Me=le.invert(ye);ie.elementMousemove({mouseX:ye,mouseY:ke,pointXValue:Me}),"dblclick"===d3.event.type&&ie.elementDblclick({mouseX:ye,mouseY:ke,pointXValue:Me}),"click"===d3.event.type&&ie.elementClick({mouseX:ye,mouseY:ke,pointXValue:Me}),"mousedown"===d3.event.type&&ie.elementMouseDown({mouseX:ye,mouseY:ke,pointXValue:Me}),"mouseup"===d3.event.type&&ie.elementMouseUp({mouseX:ye,mouseY:ke,pointXValue:Me})}var he=d3.select(this),me=se||960,ve=ne||400,fe=he.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([ge]),xe=fe.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");xe.append("g").attr("class","nv-interactiveGuideLine"),re&&(re.on("touchmove",ue).on("mousemove",ue,!0).on("mouseout",ue,!0).on("mousedown",ue,!0).on("mouseup",ue,!0).on("dblclick",ue).on("click",ue),te.guideLine=null,te.renderGuideLine=function(be){oe&&(te.guideLine&&te.guideLine.attr("x1")===be||ee.dom.write(function(){var ye=fe.select(".nv-interactiveGuideLine").selectAll("line").data(null==be?[]:[ee.utils.NaNtoZero(be)],String);ye.enter().append("line").attr("class","nv-guideline").attr("x1",function(ke){return ke}).attr("x2",function(ke){return ke}).attr("y1",ve).attr("y2",0),ye.exit().remove()}))})})}var ae={left:0,top:0},se=null,ne=null,le=d3.scale.linear(),ie=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),oe=!0,re=null,de=ee.models.tooltip(),ce=window.ActiveXObject;return de.duration(0).hideDelay(0).hidden(!1),te.dispatch=ie,te.tooltip=de,te.margin=function(pe){return arguments.length?(ae.top="undefined"==typeof pe.top?ae.top:pe.top,ae.left="undefined"==typeof pe.left?ae.left:pe.left,te):ae},te.width=function(pe){return arguments.length?(se=pe,te):se},te.height=function(pe){return arguments.length?(ne=pe,te):ne},te.xScale=function(pe){return arguments.length?(le=pe,te):le},te.showGuideLine=function(pe){return arguments.length?(oe=pe,te):oe},te.svgContainer=function(pe){return arguments.length?(re=pe,te):re},te},ee.interactiveBisect=function(te,ae,se){"use strict";if(!(te instanceof Array))return null;var ne="function"==typeof se?se:function(pe){return pe.x};var ie=d3.bisector(function(pe,ge){return ne(pe)-ge}).left,oe=d3.max([0,ie(te,ae)-1]),re=ne(te[oe]);if("undefined"==typeof re&&(re=oe),re===ae)return oe;var de=d3.min([oe+1,te.length-1]),ce=ne(te[de]);return"undefined"==typeof ce&&(ce=de),Math.abs(ce-ae)>=Math.abs(re-ae)?oe:de},ee.nearestValueIndex=function(te,ae,se){"use strict";var ne=1/0,le=null;return te.forEach(function(ie,oe){var re=Math.abs(ae-ie);null!=ie&&ne>=re&&se>re&&(ne=re,le=oe)}),le},ee.models.tooltip=function(){"use strict";function te(){if(!pe||!pe.node()){pe=d3.select(document.body).select("#"+se).data([1]),pe.enter().append("div").attr("class","nvtooltip "+(re?re:"xy-tooltip")).attr("id",se).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(ve,!0).classed(ve,!0),pe.exit().remove()}}function ae(){return ue&&we(ne)?(ee.dom.write(function(){te();var Me=ye(ne);Me&&(pe.node().innerHTML=Me),Ce()}),ae):void 0}var se="nvtooltip-"+Math.floor(1e5*Math.random()),ne=null,le="w",ie=25,oe=0,re=null,de=!0,ce=200,pe=null,ge={left:null,top:null},ue=!0,he=100,me=!0,ve="nv-pointer-events-none",fe=function(Me){return Me},xe=function(Me){return Me},be=function(Me){return Me},ye=function(Me){if(null===Me)return"";var Se=d3.select(document.createElement("table"));if(me){var Ee=Se.selectAll("thead").data([Me]).enter().append("thead");Ee.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(xe(Me.value))}var We=Se.selectAll("tbody").data([Me]).enter().append("tbody"),Fe=We.selectAll("tr").data(function(_e){return _e.series}).enter().append("tr").classed("highlight",function(_e){return _e.highlight});Fe.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(_e){return _e.color}),Fe.append("td").classed("key",!0).classed("total",function(_e){return!!_e.total}).html(function(_e,Le){return be(_e.key,Le)}),Fe.append("td").classed("value",!0).html(function(_e,Le){return fe(_e.value,Le)}),Fe.filter(function(_e){return void 0!==_e.percent}).append("td").classed("percent",!0).html(function(_e){return"("+d3.format("%")(_e.percent)+")"}),Fe.selectAll("td").each(function(_e){if(_e.highlight){var Le=d3.scale.linear().domain([0,1]).range(["#fff",_e.color]),Be=.6;d3.select(this).style("border-bottom-color",Le(Be)).style("border-top-color",Le(Be))}});var De=Se.node().outerHTML;return void 0!==Me.footer&&(De+="<div class='footer'>"+Me.footer+"</div>"),De},ke=function(){var Me={left:null===d3.event?0:d3.event.clientX,top:null===d3.event?0:d3.event.clientY};if("none"!=getComputedStyle(document.body).transform){var Se=document.body.getBoundingClientRect();Me.left-=Se.left,Me.top-=Se.top}return Me},we=function(Me){if(Me&&Me.series){if(ee.utils.isArray(Me.series))return!0;if(ee.utils.isObject(Me.series))return Me.series=[Me.series],!0}return!1},Ae=function(Me){var Se,Ee,We,Fe=pe.node().offsetHeight,De=pe.node().offsetWidth,_e=document.documentElement.clientWidth,Le=document.documentElement.clientHeight;return"e"===le?(Se=-De-ie,Ee=-(Fe/2),0>Me.left+Se&&(Se=ie),0>(We=Me.top+Ee)&&(Ee-=We),(We=Me.top+Ee+Fe)>Le&&(Ee-=We-Le)):"w"===le?(Se=ie,Ee=-(Fe/2),Me.left+Se+De>_e&&(Se=-De-ie),0>(We=Me.top+Ee)&&(Ee-=We),(We=Me.top+Ee+Fe)>Le&&(Ee-=We-Le)):"n"===le?(Se=-(De/2)-5,Ee=ie,Me.top+Ee+Fe>Le&&(Ee=-Fe-ie),0>(We=Me.left+Se)&&(Se-=We),(We=Me.left+Se+De)>_e&&(Se-=We-_e)):"s"===le?(Se=-(De/2),Ee=-Fe-ie,0>Me.top+Ee&&(Ee=ie),0>(We=Me.left+Se)&&(Se-=We),(We=Me.left+Se+De)>_e&&(Se-=We-_e)):"center"===le?(Se=-(De/2),Ee=-(Fe/2)):(Se=0,Ee=0),{left:Se,top:Ee}},Ce=function(){ee.dom.read(function(){var Me=ke(),Se=Ae(Me),Ee=Me.left+Se.left,We=Me.top+Se.top;if(de)pe.interrupt().transition().delay(ce).duration(0).style("opacity",0);else{var Fe="translate("+ge.left+"px, "+ge.top+"px)",De="translate("+Math.round(Ee)+"px, "+Math.round(We)+"px)",_e=d3.interpolateString(Fe,De),Le=.1>pe.style("opacity");pe.interrupt().transition().duration(Le?0:he).styleTween("transform",function(){return _e},"important").styleTween("-webkit-transform",function(){return _e}).style("-ms-transform",De).style("opacity",1)}ge.left=Ee,ge.top=We})};return ae.nvPointerEventsClass=ve,ae.options=ee.utils.optionsFunc.bind(ae),ae._options=Object.create({},{duration:{get:function(){return he},set:function(Me){he=Me}},gravity:{get:function(){return le},set:function(Me){le=Me}},distance:{get:function(){return ie},set:function(Me){ie=Me}},snapDistance:{get:function(){return oe},set:function(Me){oe=Me}},classes:{get:function(){return re},set:function(Me){re=Me}},enabled:{get:function(){return ue},set:function(Me){ue=Me}},hideDelay:{get:function(){return ce},set:function(Me){ce=Me}},contentGenerator:{get:function(){return ye},set:function(Me){ye=Me}},valueFormatter:{get:function(){return fe},set:function(Me){fe=Me}},headerFormatter:{get:function(){return xe},set:function(Me){xe=Me}},keyFormatter:{get:function(){return be},set:function(Me){be=Me}},headerEnabled:{get:function(){return me},set:function(Me){me=Me}},position:{get:function(){return ke},set:function(Me){ke=Me}},chartContainer:{get:function(){return document.body},set:function(){ee.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(){ee.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(){ee.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return de},set:function(Me){de!=Me&&(de=!!Me,ae())}},data:{get:function(){return ne},set:function(Me){Me.point&&(Me.value=Me.point.x,Me.series=Me.series||{},Me.series.value=Me.point.y,Me.series.color=Me.point.color||Me.series.color),ne=Me}},node:{get:function(){return pe.node()},set:function(){}},id:{get:function(){return se},set:function(){}}}),ee.utils.initOptions(ae),ae},ee.utils.windowSize=function(){var te={width:640,height:480};return window.innerWidth&&window.innerHeight?(te.width=window.innerWidth,te.height=window.innerHeight,te):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(te.width=document.documentElement.offsetWidth,te.height=document.documentElement.offsetHeight,te):document.body&&document.body.offsetWidth?(te.width=document.body.offsetWidth,te.height=document.body.offsetHeight,te):te},ee.utils.isArray=Array.isArray,ee.utils.isObject=function(te){return null!==te&&"object"==typeof te},ee.utils.isFunction=function(te){return"function"==typeof te},ee.utils.isDate=function(te){return"[object Date]"===toString.call(te)},ee.utils.isNumber=function(te){return!isNaN(te)&&"number"==typeof te},ee.utils.windowResize=function(te){return window.addEventListener?window.addEventListener("resize",te):ee.log("ERROR: Failed to bind to window.resize with: ",te),{callback:te,clear:function(){window.removeEventListener("resize",te)}}},ee.utils.getColor=function(te){if(void 0===te)return ee.utils.defaultColor();if(ee.utils.isArray(te)){var ae=d3.scale.ordinal().range(te);return function(se,ne){var le=void 0===ne?se:ne;return se.color||ae(le)}}return te},ee.utils.defaultColor=function(){return ee.utils.getColor(d3.scale.category20().range())},ee.utils.customTheme=function(te,ae,se){ae=ae||function(le){return le.key},se=se||d3.scale.category20().range();var ne=se.length;return function(le){var oe=ae(le);return ee.utils.isFunction(te[oe])?te[oe]():void 0===te[oe]?(ne||(ne=se.length),ne-=1,se[ne]):te[oe]}},ee.utils.pjax=function(te,ae){var se=function(ne){d3.html(ne,function(le){var ie=d3.select(ae).node();ie.parentNode.replaceChild(d3.select(le).select(ae).node(),ie),ee.utils.pjax(te,ae)})};d3.selectAll(te).on("click",function(){history.pushState(this.href,this.textContent,this.href),se(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&se(d3.event.state)})},ee.utils.calcApproxTextWidth=function(te){if(ee.utils.isFunction(te.style)&&ee.utils.isFunction(te.text)){var ae=parseInt(te.style("font-size").replace("px",""),10),se=te.text().length;return ee.utils.NaNtoZero(.5*(se*ae))}return 0},ee.utils.NaNtoZero=function(te){return!ee.utils.isNumber(te)||isNaN(te)||null===te||te===1/0||te===-(1/0)?0:te},d3.selection.prototype.watchTransition=function(te){var ae=[this].concat([].slice.call(arguments,1));return te.transition.apply(te,ae)},ee.utils.renderWatch=function(te,ae){if(!(this instanceof ee.utils.renderWatch))return new ee.utils.renderWatch(te,ae);var se=void 0===ae?250:ae,ne=[],le=this;this.models=function(ie){return ie=[].slice.call(arguments,0),ie.forEach(function(oe){oe.__rendered=!1,function(re){re.dispatch.on("renderEnd",function(){re.__rendered=!0,le.renderEnd("model")})}(oe),0>ne.indexOf(oe)&&ne.push(oe)}),this},this.reset=function(ie){void 0!==ie&&(se=ie),ne=[]},this.transition=function(ie,oe,re){if(oe=1<arguments.length?[].slice.call(arguments,1):[],re=1<oe.length?oe.pop():void 0===se?250:se,ie.__rendered=!1,0>ne.indexOf(ie)&&ne.push(ie),0===re)return ie.__rendered=!0,ie.delay=function(){return this},ie.duration=function(){return this},ie;ie.__rendered=!(0!==ie.length)||!!ie.every(function(ce){return!ce.length});var de=0;return ie.transition().duration(re).each(function(){++de}).each("end",function(){0===--de&&(ie.__rendered=!0,le.renderEnd.apply(this,oe))})},this.renderEnd=function(){ne.every(function(ie){return ie.__rendered})&&(ne.forEach(function(ie){ie.__rendered=!1}),te.renderEnd.apply(this,arguments))}},ee.utils.deepExtend=function(te){var ae=1<arguments.length?[].slice.call(arguments,1):[];ae.forEach(function(se){for(var ne in se){var le=ee.utils.isArray(te[ne]),ie=ee.utils.isObject(te[ne]),oe=ee.utils.isObject(se[ne]);ie&&!le&&oe?ee.utils.deepExtend(te[ne],se[ne]):te[ne]=se[ne]}})},ee.utils.state=function(){if(!(this instanceof ee.utils.state))return new ee.utils.state;var te={},ae=function(){},se=function(){return{}},ne=null,le=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(oe){ae(oe,!0)}),this.getter=function(oe){return se=oe,this},this.setter=function(oe,re){return re||(re=function(){}),ae=function(de,ce){oe(de),ce&&re()},this},this.init=function(oe){ne=ne||{},ee.utils.deepExtend(ne,oe)};var ie=function(){var oe=se();if(JSON.stringify(oe)===JSON.stringify(te))return!1;for(var re in oe)void 0===te[re]&&(te[re]={}),te[re]=oe[re],le=!0;return!0};this.update=function(){ne&&(ae(ne,!1),ne=null),ie.call(this)&&this.dispatch.change(te)}},ee.utils.optionsFunc=function(te){return te&&d3.map(te).forEach(function(ae,se){ee.utils.isFunction(this[ae])&&this[ae](se)}.bind(this)),this},ee.utils.calcTicksX=function(te,ae){var se=1,ne=0;for(ne;ne<ae.length;ne+=1){var le=ae[ne]&&ae[ne].values?ae[ne].values.length:0;se=le>se?le:se}return ee.log("Requested number of ticks: ",te),ee.log("Calculated max values to be: ",se),te=te>se?te=se-1:te,te=1>te?1:te,te=Math.floor(te),ee.log("Calculating tick count as: ",te),te},ee.utils.calcTicksY=function(te,ae){return ee.utils.calcTicksX(te,ae)},ee.utils.initOption=function(te,ae){te._calls&&te._calls[ae]?te[ae]=te._calls[ae]:(te[ae]=function(se){return arguments.length?(te._overrides[ae]=!0,te._options[ae]=se,te):te._options[ae]},te["_"+ae]=function(se){return arguments.length?(te._overrides[ae]||(te._options[ae]=se),te):te._options[ae]})},ee.utils.initOptions=function(te){te._overrides=te._overrides||{};var ae=Object.getOwnPropertyNames(te._options||{}),se=Object.getOwnPropertyNames(te._calls||{});for(var ne in ae=ae.concat(se),ae)ee.utils.initOption(te,ae[ne])},ee.utils.inheritOptionsD3=function(te,ae,se){te._d3options=se.concat(te._d3options||[]),se.unshift(ae),se.unshift(te),d3.rebind.apply(this,se)},ee.utils.arrayUnique=function(te){return te.sort().filter(function(ae,se){return!se||ae!=te[se-1]})},ee.utils.symbolMap=d3.map(),ee.utils.symbol=function(){function te(ne,le){var ie=ae.call(this,ne,le),oe=se.call(this,ne,le);return-1===d3.svg.symbolTypes.indexOf(ie)?ee.utils.symbolMap.get(ie)(oe):d3.svg.symbol().type(ie).size(oe)()}var ae,se=64;return te.type=function(ne){return arguments.length?(ae=d3.functor(ne),te):ae},te.size=function(ne){return arguments.length?(se=d3.functor(ne),te):se},te},ee.utils.inheritOptions=function(te,ae){var se=Object.getOwnPropertyNames(ae._options||{}),ne=Object.getOwnPropertyNames(ae._calls||{}),le=ae._inherited||[],ie=ae._d3options||[],oe=se.concat(ne).concat(le).concat(ie);oe.unshift(ae),oe.unshift(te),d3.rebind.apply(this,oe),te._inherited=ee.utils.arrayUnique(se.concat(ne).concat(le).concat(se).concat(te._inherited||[])),te._d3options=ee.utils.arrayUnique(ie.concat(te._d3options||[]))},ee.utils.initSVG=function(te){te.classed({"nvd3-svg":!0})},ee.utils.sanitizeHeight=function(te,ae){return te||parseInt(ae.style("height"),10)||400},ee.utils.sanitizeWidth=function(te,ae){return te||parseInt(ae.style("width"),10)||960},ee.utils.availableHeight=function(te,ae,se){return Math.max(0,ee.utils.sanitizeHeight(te,ae)-se.top-se.bottom)},ee.utils.availableWidth=function(te,ae,se){return Math.max(0,ee.utils.sanitizeWidth(te,ae)-se.left-se.right)},ee.utils.noData=function(te,ae){var se=te.options(),ne=se.margin(),le=se.noData(),ie=null==le?["No Data Available."]:[le],oe=ee.utils.availableHeight(null,ae,ne),re=ee.utils.availableWidth(null,ae,ne),de=ne.left+re/2,ce=ne.top+oe/2;ae.selectAll("g").remove();var pe=ae.selectAll(".nv-noData").data(ie);pe.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),pe.attr("x",de).attr("y",ce).text(function(ge){return ge})},ee.utils.wrapTicks=function(te,ae){te.each(function(){for(var se,ne=d3.select(this),le=ne.text().split(/\s+/).reverse(),ie=[],oe=0,de=ne.attr("y"),ce=parseFloat(ne.attr("dy")),pe=ne.text(null).append("tspan").attr("x",0).attr("y",de).attr("dy",ce+"em");se=le.pop();)ie.push(se),pe.text(ie.join(" ")),pe.node().getComputedTextLength()>ae&&(ie.pop(),pe.text(ie.join(" ")),ie=[se],pe=ne.append("tspan").attr("x",0).attr("y",de).attr("dy",++oe*1.1+ce+"em").text(se))})},ee.utils.arrayEquals=function(te,ae){if(te===ae)return!0;if(!te||!ae)return!1;if(te.length!=ae.length)return!1;for(var se=0,ne=te.length;ne>se;se++)if(te[se]instanceof Array&&ae[se]instanceof Array){if(!ee.arrayEquals(te[se],ae[se]))return!1;}else if(te[se]!=ae[se])return!1;return!0},ee.models.axis=function(){"use strict";function te(ye){return be.reset(),ye.each(function(ke){var we=d3.select(this);ee.utils.initSVG(we);var Ae=we.selectAll("g.nv-wrap.nv-axis").data([ke]),Ce=Ae.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),Me=(Ce.append("g"),Ae.select("g"));null===ue?("top"==ae.orient()||"bottom"==ae.orient())&&ae.ticks(Math.abs(se.range()[1]-se.range()[0])/100):ae.ticks(ue),Me.watchTransition(be,"axis").call(ae),xe=xe||ae.scale();var Se=ae.tickFormat();null==Se&&(Se=xe.tickFormat());var Ee=Me.selectAll("text.nv-axislabel").data([oe||null]);Ee.exit().remove(),void 0!==me&&Me.selectAll("g").select("text").style("font-size",me);var We,Fe,De;switch(ae.orient()){case"top":Ee.enter().append("text").attr("class","nv-axislabel"),De=0,1===se.range().length?De=ge?2*se.range()[0]+se.rangeBand():0:2===se.range().length?De=ge?se.range()[0]+se.range()[1]+se.rangeBand():se.range()[1]:2<se.range().length&&(De=se.range()[se.range().length-1]+(se.range()[1]-se.range()[0])),Ee.attr("text-anchor","middle").attr("y",0).attr("x",De/2),re&&(Fe=Ae.selectAll("g.nv-axisMaxMin").data(se.domain()),Fe.enter().append("g").attr("class",function(Oe,ze){return["nv-axisMaxMin","nv-axisMaxMin-x",0==ze?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),Fe.exit().remove(),Fe.attr("transform",function(Oe){return"translate("+ee.utils.NaNtoZero(se(Oe))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-ae.tickPadding()).attr("text-anchor","middle").text(function(Oe){var Ie=Se(Oe);return(""+Ie).match("NaN")?"":Ie}),Fe.watchTransition(be,"min-max top").attr("transform",function(Oe,ze){return"translate("+ee.utils.NaNtoZero(se.range()[ze])+",0)"}));break;case"bottom":We=he+36;var _e=30,Le=0,Be=Me.selectAll("g").select("text"),Pe="";if(de%360){Be.attr("transform",""),Be.each(function(){var Ie=this.getBoundingClientRect(),Ve=Ie.width;Le=Ie.height,Ve>_e&&(_e=Ve)}),Pe="rotate("+de+" 0,"+(Le/2+ae.tickPadding())+")";var Ne=Math.abs(Math.sin(de*Math.PI/180));We=(Ne?Ne*_e:_e)+30,Be.attr("transform",Pe).style("text-anchor",0<de%360?"start":"end")}else pe?Be.attr("transform",function(Oe,ze){return"translate(0,"+(0==ze%2?"0":"12")+")"}):Be.attr("transform","translate(0,0)");Ee.enter().append("text").attr("class","nv-axislabel"),De=0,1===se.range().length?De=ge?2*se.range()[0]+se.rangeBand():0:2===se.range().length?De=ge?se.range()[0]+se.range()[1]+se.rangeBand():se.range()[1]:2<se.range().length&&(De=se.range()[se.range().length-1]+(se.range()[1]-se.range()[0])),Ee.attr("text-anchor","middle").attr("y",We).attr("x",De/2),re&&(Fe=Ae.selectAll("g.nv-axisMaxMin").data([se.domain()[0],se.domain()[se.domain().length-1]]),Fe.enter().append("g").attr("class",function(Oe,ze){return["nv-axisMaxMin","nv-axisMaxMin-x",0==ze?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),Fe.exit().remove(),Fe.attr("transform",function(Oe){return"translate("+ee.utils.NaNtoZero(se(Oe)+(ge?se.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",ae.tickPadding()).attr("transform",Pe).style("text-anchor",de?0<de%360?"start":"end":"middle").text(function(Oe){var Ie=Se(Oe);return(""+Ie).match("NaN")?"":Ie}),Fe.watchTransition(be,"min-max bottom").attr("transform",function(Oe){return"translate("+ee.utils.NaNtoZero(se(Oe)+(ge?se.rangeBand()/2:0))+",0)"}));break;case"right":Ee.enter().append("text").attr("class","nv-axislabel"),Ee.style("text-anchor",ce?"middle":"begin").attr("transform",ce?"rotate(90)":"").attr("y",ce?-Math.max(ne.right,le)+12-(he||0):-10).attr("x",ce?d3.max(se.range())/2:ae.tickPadding()),re&&(Fe=Ae.selectAll("g.nv-axisMaxMin").data(se.domain()),Fe.enter().append("g").attr("class",function(Oe,ze){return["nv-axisMaxMin","nv-axisMaxMin-y",0==ze?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),Fe.exit().remove(),Fe.attr("transform",function(Oe){return"translate(0,"+ee.utils.NaNtoZero(se(Oe))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",ae.tickPadding()).style("text-anchor","start").text(function(Oe){var Ie=Se(Oe);return(""+Ie).match("NaN")?"":Ie}),Fe.watchTransition(be,"min-max right").attr("transform",function(Oe,ze){return"translate(0,"+ee.utils.NaNtoZero(se.range()[ze])+")"}).select("text").style("opacity",1));break;case"left":Ee.enter().append("text").attr("class","nv-axislabel"),Ee.style("text-anchor",ce?"middle":"end").attr("transform",ce?"rotate(-90)":"").attr("y",ce?-Math.max(ne.left,le)+25-(he||0):-10).attr("x",ce?-d3.max(se.range())/2:-ae.tickPadding()),re&&(Fe=Ae.selectAll("g.nv-axisMaxMin").data(se.domain()),Fe.enter().append("g").attr("class",function(Oe,ze){return["nv-axisMaxMin","nv-axisMaxMin-y",0==ze?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),Fe.exit().remove(),Fe.attr("transform",function(Oe){return"translate(0,"+ee.utils.NaNtoZero(xe(Oe))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-ae.tickPadding()).attr("text-anchor","end").text(function(Oe){var Ie=Se(Oe);return(""+Ie).match("NaN")?"":Ie}),Fe.watchTransition(be,"min-max right").attr("transform",function(Oe,ze){return"translate(0,"+ee.utils.NaNtoZero(se.range()[ze])+")"}).select("text").style("opacity",1));}if(Ee.text(function(Oe){return Oe}),!re||"left"!==ae.orient()&&"right"!==ae.orient()||(Me.selectAll("g").each(function(Oe){d3.select(this).select("text").attr("opacity",1),(se(Oe)<se.range()[1]+10||se(Oe)>se.range()[0]-10)&&((1e-10<Oe||-1e-10>Oe)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),se.domain()[0]==se.domain()[1]&&0==se.domain()[0]&&Ae.selectAll("g.nv-axisMaxMin").style("opacity",function(Oe,ze){return ze?0:1})),re&&("top"===ae.orient()||"bottom"===ae.orient())){var Te=[];Ae.selectAll("g.nv-axisMaxMin").each(function(Oe,ze){try{ze?Te.push(se(Oe)-this.getBoundingClientRect().width-4):Te.push(se(Oe)+this.getBoundingClientRect().width+4)}catch(Ie){ze?Te.push(se(Oe)-4):Te.push(se(Oe)+4)}}),Me.selectAll("g").each(function(Oe){(se(Oe)<Te[0]||se(Oe)>Te[1])&&(1e-10<Oe||-1e-10>Oe?d3.select(this).remove():d3.select(this).select("text").remove())})}Me.selectAll(".tick").filter(function(Oe){return!parseFloat(Math.round(1e5*Oe)/1e6)&&void 0!==Oe}).classed("zero",!0),xe=se.copy()}),be.renderEnd("axis immediate"),te}var ae=d3.svg.axis(),se=d3.scale.linear(),ne={top:0,right:0,bottom:0,left:0},le=75,ie=60,oe=null,re=!0,de=0,ce=!0,pe=!1,ge=!1,ue=null,he=0,me,ve=250,fe=d3.dispatch("renderEnd");ae.scale(se).orient("bottom").tickFormat(function(ye){return ye});var xe,be=ee.utils.renderWatch(fe,ve);return te.axis=ae,te.dispatch=fe,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{axisLabelDistance:{get:function(){return he},set:function(ye){he=ye}},staggerLabels:{get:function(){return pe},set:function(ye){pe=ye}},rotateLabels:{get:function(){return de},set:function(ye){de=ye}},rotateYLabel:{get:function(){return ce},set:function(ye){ce=ye}},showMaxMin:{get:function(){return re},set:function(ye){re=ye}},axisLabel:{get:function(){return oe},set:function(ye){oe=ye}},height:{get:function(){return ie},set:function(ye){ie=ye}},ticks:{get:function(){return ue},set:function(ye){ue=ye}},width:{get:function(){return le},set:function(ye){le=ye}},fontSize:{get:function(){return me},set:function(ye){me=ye}},margin:{get:function(){return ne},set:function(ye){ne.top=void 0===ye.top?ne.top:ye.top,ne.right=void 0===ye.right?ne.right:ye.right,ne.bottom=void 0===ye.bottom?ne.bottom:ye.bottom,ne.left=void 0===ye.left?ne.left:ye.left}},duration:{get:function(){return ve},set:function(ye){ve=ye,be.reset(ve)}},scale:{get:function(){return se},set:function(ye){se=ye,ae.scale(se),ge="function"==typeof se.rangeBands,ee.utils.inheritOptionsD3(te,se,["domain","range","rangeBand","rangeBands"])}}}),ee.utils.initOptions(te),ee.utils.inheritOptionsD3(te,ae,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),ee.utils.inheritOptionsD3(te,se,["domain","range","rangeBand","rangeBands"]),te},ee.models.boxPlot=function(){"use strict";function te(_e){return De.reset(),_e.each(function(Le){var Be=de-re.left-re.right,Pe=ce-re.top-re.bottom;Se=d3.select(this),ee.utils.initSVG(Se),ge.domain(ae||Le.map(function(Ze,qe){return he(Ze,qe)})).rangeBands(se||[0,Be],.1);var Ne=[];if(!ne){var Te,Oe,ze=[];Le.forEach(function(Ze){var Ke=me(Ze),je=fe(Ze),Ue=xe(Ze),Qe=be(Ze),Je=ke(Ze);Je&&Je.forEach(function($e,et){ze.push(we($e,et,void 0))}),Ue&&ze.push(Ue),Ke&&ze.push(Ke),je&&ze.push(je),Qe&&ze.push(Qe)}),Te=d3.min(ze),Oe=d3.max(ze),Ne=[Te,Oe]}ue.domain(ne||Ne),ue.range(le||[Pe,0]),ie=ie||ge,oe=oe||ue.copy().range([ue(0),ue(0)]);var Ie=Se.selectAll("g.nv-wrap").data([Le]);Ie.enter().append("g").attr("class","nvd3 nv-wrap"),Ie.attr("transform","translate("+re.left+","+re.top+")");var Ve=Ie.selectAll(".nv-boxplot").data(function(Ze){return Ze}),He=Ve.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);Ve.attr("class","nv-boxplot").attr("transform",function(Ze,qe){return"translate("+(ge(he(Ze,qe))+.05*ge.rangeBand())+", 0)"}).classed("hover",function(Ze){return Ze.hover}),Ve.watchTransition(De,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(Ze,qe){return qe*We/Le.length}).attr("transform",function(Ze,qe){return"translate("+(ge(he(Ze,qe))+.05*ge.rangeBand())+", 0)"}),Ve.exit().remove(),He.each(function(Ze,qe){var Ke=d3.select(this);[xe,be].forEach(function(je){if(void 0!==je(Ze)&&null!==je(Ze)){var Ue=je===xe?"low":"high";Ke.append("line").style("stroke",ye(Ze)||Me(Ze,qe)).attr("class","nv-boxplot-whisker nv-boxplot-"+Ue),Ke.append("line").style("stroke",ye(Ze)||Me(Ze,qe)).attr("class","nv-boxplot-tick nv-boxplot-"+Ue)}})});var Ge=function(){return null===Fe?.9*ge.rangeBand():Math.min(75,.9*ge.rangeBand())},Ye=function(){return .45*ge.rangeBand()-Ge()/2},Xe=function(){return .45*ge.rangeBand()+Ge()/2};[xe,be].forEach(function(Ze){var qe=Ze===xe?"low":"high",Ke=Ze===xe?me:fe;Ve.select("line.nv-boxplot-whisker.nv-boxplot-"+qe).watchTransition(De,"nv-boxplot: boxplots").attr("x1",.45*ge.rangeBand()).attr("y1",function(je){return ue(Ze(je))}).attr("x2",.45*ge.rangeBand()).attr("y2",function(je){return ue(Ke(je))}),Ve.select("line.nv-boxplot-tick.nv-boxplot-"+qe).watchTransition(De,"nv-boxplot: boxplots").attr("x1",Ye).attr("y1",function(je){return ue(Ze(je))}).attr("x2",Xe).attr("y2",function(je){return ue(Ze(je))})}),[xe,be].forEach(function(Ze){var qe=Ze===xe?"low":"high";He.selectAll(".nv-boxplot-"+qe).on("mouseover",function(Ke,je,Ue){d3.select(this).classed("hover",!0),Ee.elementMouseover({series:{key:Ze(Ke),color:ye(Ke)||Me(Ke,Ue)},e:d3.event})}).on("mouseout",function(Ke,je,Ue){d3.select(this).classed("hover",!1),Ee.elementMouseout({series:{key:Ze(Ke),color:ye(Ke)||Me(Ke,Ue)},e:d3.event})}).on("mousemove",function(){Ee.elementMousemove({e:d3.event})})}),He.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(Ze,qe){d3.select(this).classed("hover",!0),Ee.elementMouseover({key:he(Ze),value:he(Ze),series:[{key:"Q3",value:fe(Ze),color:ye(Ze)||Me(Ze,qe)},{key:"Q2",value:ve(Ze),color:ye(Ze)||Me(Ze,qe)},{key:"Q1",value:me(Ze),color:ye(Ze)||Me(Ze,qe)}],data:Ze,index:qe,e:d3.event})}).on("mouseout",function(Ze,qe){d3.select(this).classed("hover",!1),Ee.elementMouseout({key:he(Ze),value:he(Ze),series:[{key:"Q3",value:fe(Ze),color:ye(Ze)||Me(Ze,qe)},{key:"Q2",value:ve(Ze),color:ye(Ze)||Me(Ze,qe)},{key:"Q1",value:me(Ze),color:ye(Ze)||Me(Ze,qe)}],data:Ze,index:qe,e:d3.event})}).on("mousemove",function(){Ee.elementMousemove({e:d3.event})}),Ve.select("rect.nv-boxplot-box").watchTransition(De,"nv-boxplot: boxes").attr("y",function(Ze){return ue(fe(Ze))}).attr("width",Ge).attr("x",Ye).attr("height",function(Ze){return Math.abs(ue(fe(Ze))-ue(me(Ze)))||1}).style("fill",function(Ze,qe){return ye(Ze)||Me(Ze,qe)}).style("stroke",function(Ze,qe){return ye(Ze)||Me(Ze,qe)}),He.append("line").attr("class","nv-boxplot-median"),Ve.select("line.nv-boxplot-median").watchTransition(De,"nv-boxplot: boxplots line").attr("x1",Ye).attr("y1",function(Ze){return ue(ve(Ze))}).attr("x2",Xe).attr("y2",function(Ze){return ue(ve(Ze))});var Re=Ve.selectAll(".nv-boxplot-outlier").data(function(Ze){return ke(Ze)||[]});Re.enter().append("circle").style("fill",function(Ze,qe,Ke){return Ce(Ze,qe,Ke)||Me(Ze,Ke)}).style("stroke",function(Ze,qe,Ke){return Ce(Ze,qe,Ke)||Me(Ze,Ke)}).style("z-index",9e3).on("mouseover",function(Ze,qe,Ke){d3.select(this).classed("hover",!0),Ee.elementMouseover({series:{key:Ae(Ze,qe,Ke),color:Ce(Ze,qe,Ke)||Me(Ze,Ke)},e:d3.event})}).on("mouseout",function(Ze,qe,Ke){d3.select(this).classed("hover",!1),Ee.elementMouseout({series:{key:Ae(Ze,qe,Ke),color:Ce(Ze,qe,Ke)||Me(Ze,Ke)},e:d3.event})}).on("mousemove",function(){Ee.elementMousemove({e:d3.event})}),Re.attr("class","nv-boxplot-outlier"),Re.watchTransition(De,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*ge.rangeBand()).attr("cy",function(Ze,qe,Ke){return ue(we(Ze,qe,Ke))}).attr("r","3"),Re.exit().remove(),ie=ge.copy(),oe=ue.copy()}),De.renderEnd("nv-boxplot immediate"),te}var ae,se,ne,le,ie,oe,re={top:0,right:0,bottom:0,left:0},de=960,ce=500,pe=Math.floor(1e4*Math.random()),ge=d3.scale.ordinal(),ue=d3.scale.linear(),he=function(_e){return _e.label},me=function(_e){return _e.values.Q1},ve=function(_e){return _e.values.Q2},fe=function(_e){return _e.values.Q3},xe=function(_e){return _e.values.whisker_low},be=function(_e){return _e.values.whisker_high},ye=function(_e){return _e.color},ke=function(_e){return _e.values.outliers},we=function(_e){return _e},Ae=function(_e){return _e},Ce=function(){},Me=ee.utils.defaultColor(),Se=null,Ee=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),We=250,Fe=null,De=ee.utils.renderWatch(Ee,We);return te.dispatch=Ee,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return de},set:function(_e){de=_e}},height:{get:function(){return ce},set:function(_e){ce=_e}},maxBoxWidth:{get:function(){return Fe},set:function(_e){Fe=_e}},x:{get:function(){return he},set:function(_e){he=_e}},q1:{get:function(){return me},set:function(_e){me=_e}},q2:{get:function(){return ve},set:function(_e){ve=_e}},q3:{get:function(){return fe},set:function(_e){fe=_e}},wl:{get:function(){return xe},set:function(_e){xe=_e}},wh:{get:function(){return be},set:function(_e){be=_e}},itemColor:{get:function(){return ye},set:function(_e){ye=_e}},outliers:{get:function(){return ke},set:function(_e){ke=_e}},outlierValue:{get:function(){return we},set:function(_e){we=_e}},outlierLabel:{get:function(){return Ae},set:function(_e){Ae=_e}},outlierColor:{get:function(){return Ce},set:function(_e){Ce=_e}},xScale:{get:function(){return ge},set:function(_e){ge=_e}},yScale:{get:function(){return ue},set:function(_e){ue=_e}},xDomain:{get:function(){return ae},set:function(_e){ae=_e}},yDomain:{get:function(){return ne},set:function(_e){ne=_e}},xRange:{get:function(){return se},set:function(_e){se=_e}},yRange:{get:function(){return le},set:function(_e){le=_e}},id:{get:function(){return pe},set:function(_e){pe=_e}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return re},set:function(_e){re.top=void 0===_e.top?re.top:_e.top,re.right=void 0===_e.right?re.right:_e.right,re.bottom=void 0===_e.bottom?re.bottom:_e.bottom,re.left=void 0===_e.left?re.left:_e.left}},color:{get:function(){return Me},set:function(_e){Me=ee.utils.getColor(_e)}},duration:{get:function(){return We},set:function(_e){We=_e,De.reset(We)}}}),ee.utils.initOptions(te),te},ee.models.boxPlotChart=function(){"use strict";function te(ye){return be.reset(),be.models(ne),pe&&be.models(le),ge&&be.models(ie),ye.each(function(ke){var we=d3.select(this);ee.utils.initSVG(we);var Ae=(re||parseInt(we.style("width"))||960)-oe.left-oe.right,Ce=(de||parseInt(we.style("height"))||400)-oe.top-oe.bottom;if(te.update=function(){fe.beforeUpdate(),we.transition().duration(xe).call(te)},te.container=this,!ke||!ke.length){var Me=we.selectAll(".nv-noData").data([ve]);return Me.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),Me.attr("x",oe.left+Ae/2).attr("y",oe.top+Ce/2).text(function(Le){return Le}),te}we.selectAll(".nv-noData").remove(),ae=ne.xScale(),se=ne.yScale().clamp(!0);var Se=we.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([ke]),Ee=Se.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),We=Ee.append("defs"),Fe=Se.select("g");Ee.append("g").attr("class","nv-x nv-axis"),Ee.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),Ee.append("g").attr("class","nv-barsWrap"),Fe.attr("transform","translate("+oe.left+","+oe.top+")"),ue&&Fe.select(".nv-y.nv-axis").attr("transform","translate("+Ae+",0)"),ne.width(Ae).height(Ce);var De=Fe.select(".nv-barsWrap").datum(ke.filter(function(Le){return!Le.disabled}));if(De.transition().call(ne),We.append("clipPath").attr("id","nv-x-label-clip-"+ne.id()).append("rect"),Fe.select("#nv-x-label-clip-"+ne.id()+" rect").attr("width",ae.rangeBand()*(he?2:1)).attr("height",16).attr("x",-ae.rangeBand()/(he?1:2)),pe){le.scale(ae).ticks(ee.utils.calcTicksX(Ae/100,ke)).tickSize(-Ce,0),Fe.select(".nv-x.nv-axis").attr("transform","translate(0,"+se.range()[0]+")"),Fe.select(".nv-x.nv-axis").call(le);var _e=Fe.select(".nv-x.nv-axis").selectAll("g");he&&_e.selectAll("text").attr("transform",function(Le,Be,Pe){return"translate(0,"+(0===Pe%2?"5":"17")+")"})}ge&&(ie.scale(se).ticks(Math.floor(Ce/36)).tickSize(-Ae,0),Fe.select(".nv-y.nv-axis").call(ie)),Fe.select(".nv-zeroLine line").attr("x1",0).attr("x2",Ae).attr("y1",se(0)).attr("y2",se(0))}),be.renderEnd("nv-boxplot chart immediate"),te}var ae,se,ne=ee.models.boxPlot(),le=ee.models.axis(),ie=ee.models.axis(),oe={top:15,right:10,bottom:50,left:60},re=null,de=null,ce=ee.utils.getColor(),pe=!0,ge=!0,ue=!1,he=!1,me=ee.models.tooltip(),ve="No Data Available.",fe=d3.dispatch("beforeUpdate","renderEnd"),xe=250;le.orient("bottom").showMaxMin(!1).tickFormat(function(ye){return ye}),ie.orient(ue?"right":"left").tickFormat(d3.format(",.1f")),me.duration(0);var be=ee.utils.renderWatch(fe,xe);return ne.dispatch.on("elementMouseover.tooltip",function(ye){me.data(ye).hidden(!1)}),ne.dispatch.on("elementMouseout.tooltip",function(ye){me.data(ye).hidden(!0)}),ne.dispatch.on("elementMousemove.tooltip",function(){me()}),te.dispatch=fe,te.boxplot=ne,te.xAxis=le,te.yAxis=ie,te.tooltip=me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return re},set:function(ye){re=ye}},height:{get:function(){return de},set:function(ye){de=ye}},staggerLabels:{get:function(){return he},set:function(ye){he=ye}},showXAxis:{get:function(){return pe},set:function(ye){pe=ye}},showYAxis:{get:function(){return ge},set:function(ye){ge=ye}},tooltipContent:{get:function(){return me},set:function(ye){me=ye}},noData:{get:function(){return ve},set:function(ye){ve=ye}},margin:{get:function(){return oe},set:function(ye){oe.top=void 0===ye.top?oe.top:ye.top,oe.right=void 0===ye.right?oe.right:ye.right,oe.bottom=void 0===ye.bottom?oe.bottom:ye.bottom,oe.left=void 0===ye.left?oe.left:ye.left}},duration:{get:function(){return xe},set:function(ye){xe=ye,be.reset(xe),ne.duration(xe),le.duration(xe),ie.duration(xe)}},color:{get:function(){return ce},set:function(ye){ce=ee.utils.getColor(ye),ne.color(ce)}},rightAlignYAxis:{get:function(){return ue},set:function(ye){ue=ye,ie.orient(ye?"right":"left")}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.bullet=function(){"use strict";function te(Ce,Me){var Se=Ce.slice();Ce.sort(function(Ee,We){var Fe=Se.indexOf(Ee),De=Se.indexOf(We);return d3.descending(Me[Fe],Me[De])})}function ae(Ce){return Ce.each(function(Me,Se){var Ee=me-se.left-se.right,We=ve-se.top-se.bottom;fe=d3.select(this),ee.utils.initSVG(fe);var Fe=ie.call(this,Me,Se).slice(),De=oe.call(this,Me,Se).slice(),_e=re.call(this,Me,Se).slice(),Le=de.call(this,Me,Se).slice(),Be=ce.call(this,Me,Se).slice(),Pe=pe.call(this,Me,Se).slice(),Ne=ge.call(this,Me,Se).slice(),Te=ue.call(this,Me,Se).slice();te(Be,Fe),te(Pe,De),te(Ne,_e),te(Te,Le),Fe.sort(d3.descending),De.sort(d3.descending),_e.sort(d3.descending),Le.sort(d3.descending);var Oe=d3.scale.linear().domain(d3.extent(d3.merge([he,Fe]))).range(le?[Ee,0]:[0,Ee]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(Oe.range()),this.__chart__=Oe;for(var Ye,ze=(d3.min(Fe),d3.max(Fe),Fe[1],fe.selectAll("g.nv-wrap.nv-bullet").data([Me])),Ie=ze.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),Ve=Ie.append("g"),He=ze.select("g"),Se=0,Ge=Fe.length;Ge>Se;Se++)Ye="nv-range nv-range"+Se,2>=Se&&(Ye=Ye+" nv-range"+we[Se]),Ve.append("rect").attr("class",Ye);Ve.append("rect").attr("class","nv-measure"),ze.attr("transform","translate("+se.left+","+se.top+")");for(var Ze,Xe=function(Ue){return Math.abs(Oe(Ue)-Oe(0))},Re=function(Ue){return Oe(0>Ue?Ue:0)},Se=0,Ge=Fe.length;Ge>Se;Se++)Ze=Fe[Se],He.select("rect.nv-range"+Se).datum(Ze).attr("height",We).transition().duration(Ae).attr("width",Xe(Ze)).attr("x",Re(Ze));He.select("rect.nv-measure").style("fill",be).attr("height",We/3).attr("y",We/3).on("mouseover",function(){ye.elementMouseover({value:Le[0],label:Te[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){ye.elementMousemove({value:Le[0],label:Te[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){ye.elementMouseout({value:Le[0],label:Te[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(Ae).attr("width",0>Le?Oe(0)-Oe(Le[0]):Oe(Le[0])-Oe(0)).attr("x",Re(Le));var qe=We/6,Ke=De.map(function(Ue,Qe){return{value:Ue,label:Pe[Qe]}});Ve.selectAll("path.nv-markerTriangle").data(Ke).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+qe+"L"+qe+","+-qe+" "+-qe+","+-qe+"Z").on("mouseover",function(Ue){ye.elementMouseover({value:Ue.value,label:Ue.label||"Previous",color:d3.select(this).style("fill"),pos:[Oe(Ue.value),We/2]})}).on("mousemove",function(Ue){ye.elementMousemove({value:Ue.value,label:Ue.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(Ue){ye.elementMouseout({value:Ue.value,label:Ue.label||"Previous",color:d3.select(this).style("fill")})}),He.selectAll("path.nv-markerTriangle").data(Ke).transition().duration(Ae).attr("transform",function(Ue){return"translate("+Oe(Ue.value)+","+We/2+")"});var je=_e.map(function(Ue,Qe){return{value:Ue,label:Ne[Qe]}});Ve.selectAll("line.nv-markerLine").data(je).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(Ue){return Oe(Ue.value)}).attr("y1","2").attr("x2",function(Ue){return Oe(Ue.value)}).attr("y2",We-2).on("mouseover",function(Ue){ye.elementMouseover({value:Ue.value,label:Ue.label||"Previous",color:d3.select(this).style("fill"),pos:[Oe(Ue.value),We/2]})}).on("mousemove",function(Ue){ye.elementMousemove({value:Ue.value,label:Ue.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(Ue){ye.elementMouseout({value:Ue.value,label:Ue.label||"Previous",color:d3.select(this).style("fill")})}),He.selectAll("line.nv-markerLine").data(je).transition().duration(Ae).attr("x1",function(Ue){return Oe(Ue.value)}).attr("x2",function(Ue){return Oe(Ue.value)}),ze.selectAll(".nv-range").on("mouseover",function(Ue,Qe){var Je=Be[Qe]||ke[Qe];ye.elementMouseover({value:Ue,label:Je,color:d3.select(this).style("fill")})}).on("mousemove",function(){ye.elementMousemove({value:Le[0],label:Te[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(Ue,Qe){var Je=Be[Qe]||ke[Qe];ye.elementMouseout({value:Ue,label:Je,color:d3.select(this).style("fill")})})}),ae}var se={top:0,right:0,bottom:0,left:0},ne="left",le=!1,ie=function(Ce){return Ce.ranges},oe=function(Ce){return Ce.markers?Ce.markers:[]},re=function(Ce){return Ce.markerLines?Ce.markerLines:[0]},de=function(Ce){return Ce.measures},ce=function(Ce){return Ce.rangeLabels?Ce.rangeLabels:[]},pe=function(Ce){return Ce.markerLabels?Ce.markerLabels:[]},ge=function(Ce){return Ce.markerLineLabels?Ce.markerLineLabels:[]},ue=function(Ce){return Ce.measureLabels?Ce.measureLabels:[]},he=[0],me=380,ve=30,fe=null,xe=null,be=ee.utils.getColor(["#1f77b4"]),ye=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),ke=["Maximum","Mean","Minimum"],we=["Max","Avg","Min"],Ae=1e3;return ae.dispatch=ye,ae.options=ee.utils.optionsFunc.bind(ae),ae._options=Object.create({},{ranges:{get:function(){return ie},set:function(Ce){ie=Ce}},markers:{get:function(){return oe},set:function(Ce){oe=Ce}},measures:{get:function(){return de},set:function(Ce){de=Ce}},forceX:{get:function(){return he},set:function(Ce){he=Ce}},width:{get:function(){return me},set:function(Ce){me=Ce}},height:{get:function(){return ve},set:function(Ce){ve=Ce}},tickFormat:{get:function(){return xe},set:function(Ce){xe=Ce}},duration:{get:function(){return Ae},set:function(Ce){Ae=Ce}},margin:{get:function(){return se},set:function(Ce){se.top=void 0===Ce.top?se.top:Ce.top,se.right=void 0===Ce.right?se.right:Ce.right,se.bottom=void 0===Ce.bottom?se.bottom:Ce.bottom,se.left=void 0===Ce.left?se.left:Ce.left}},orient:{get:function(){return ne},set:function(Ce){ne=Ce,le="right"==ne||"bottom"==ne}},color:{get:function(){return be},set:function(Ce){be=ee.utils.getColor(Ce)}}}),ee.utils.initOptions(ae),ae},ee.models.bulletChart=function(){"use strict";function te(ve){return ve.each(function(fe,xe){var be=d3.select(this);ee.utils.initSVG(be);var ye=ee.utils.availableWidth(ce,be,ie),ke=pe-ie.top-ie.bottom;if(te.update=function(){te(ve)},te.container=this,!fe||!oe.call(this,fe,xe))return ee.utils.noData(te,be),te;be.selectAll(".nv-noData").remove();var we=oe.call(this,fe,xe).slice().sort(d3.descending),Ae=re.call(this,fe,xe).slice().sort(d3.descending),Ce=de.call(this,fe,xe).slice().sort(d3.descending),Me=be.selectAll("g.nv-wrap.nv-bulletChart").data([fe]),Se=Me.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),Ee=Se.append("g"),We=Me.select("g");Ee.append("g").attr("class","nv-bulletWrap"),Ee.append("g").attr("class","nv-titles"),Me.attr("transform","translate("+ie.left+","+ie.top+")");var Fe=d3.scale.linear().domain([0,Math.max(we[0],Ae[0]||0,Ce[0])]).range(le?[ye,0]:[0,ye]),De=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(Fe.range());this.__chart__=Fe;var _e=Ee.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(pe-ie.top-ie.bottom)/2+")");_e.append("text").attr("class","nv-title").text(function(Oe){return Oe.title}),_e.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(Oe){return Oe.subtitle}),ae.width(ye).height(ke);var Le=We.select(".nv-bulletWrap");d3.transition(Le).call(ae);var Be=ge||Fe.tickFormat(ye/100),Pe=We.selectAll("g.nv-tick").data(Fe.ticks(ue?ue:ye/50),function(Oe){return this.textContent||Be(Oe)}),Ne=Pe.enter().append("g").attr("class","nv-tick").attr("transform",function(Oe){return"translate("+De(Oe)+",0)"}).style("opacity",1e-6);Ne.append("line").attr("y1",ke).attr("y2",7*ke/6),Ne.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*ke/6).text(Be);var Te=d3.transition(Pe).transition().duration(ae.duration()).attr("transform",function(Oe){return"translate("+Fe(Oe)+",0)"}).style("opacity",1);Te.select("line").attr("y1",ke).attr("y2",7*ke/6),Te.select("text").attr("y",7*ke/6),d3.transition(Pe.exit()).transition().duration(ae.duration()).attr("transform",function(Oe){return"translate("+Fe(Oe)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),te}var ae=ee.models.bullet(),se=ee.models.tooltip(),ne="left",le=!1,ie={top:5,right:40,bottom:20,left:120},oe=function(ve){return ve.ranges},re=function(ve){return ve.markers?ve.markers:[]},de=function(ve){return ve.measures},ce=null,pe=55,ge=null,ue=null,he=null,me=d3.dispatch();return se.duration(0).headerEnabled(!1),ae.dispatch.on("elementMouseover.tooltip",function(ve){ve.series={key:ve.label,value:ve.value,color:ve.color},se.data(ve).hidden(!1)}),ae.dispatch.on("elementMouseout.tooltip",function(){se.hidden(!0)}),ae.dispatch.on("elementMousemove.tooltip",function(){se()}),te.bullet=ae,te.dispatch=me,te.tooltip=se,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{ranges:{get:function(){return oe},set:function(ve){oe=ve}},markers:{get:function(){return re},set:function(ve){re=ve}},measures:{get:function(){return de},set:function(ve){de=ve}},width:{get:function(){return ce},set:function(ve){ce=ve}},height:{get:function(){return pe},set:function(ve){pe=ve}},tickFormat:{get:function(){return ge},set:function(ve){ge=ve}},ticks:{get:function(){return ue},set:function(ve){ue=ve}},noData:{get:function(){return he},set:function(ve){he=ve}},margin:{get:function(){return ie},set:function(ve){ie.top=void 0===ve.top?ie.top:ve.top,ie.right=void 0===ve.right?ie.right:ve.right,ie.bottom=void 0===ve.bottom?ie.bottom:ve.bottom,ie.left=void 0===ve.left?ie.left:ve.left}},orient:{get:function(){return ne},set:function(ve){ne=ve,le="right"==ne||"bottom"==ne}}}),ee.utils.inheritOptions(te,ae),ee.utils.initOptions(te),te},ee.models.candlestickBar=function(){"use strict";function te(Se){return Se.each(function(Ee){ae=d3.select(this);var We=ee.utils.availableWidth(re,ae,oe),Fe=ee.utils.availableHeight(de,ae,oe);ee.utils.initSVG(ae);var De=.45*(We/Ee[0].values.length);pe.domain(se||d3.extent(Ee[0].values.map(ue).concat(be))),ke?pe.range(le||[.5*We/Ee[0].values.length,We*(Ee[0].values.length-.5)/Ee[0].values.length]):pe.range(le||[5+De/2,We-De/2-5]),ge.domain(ne||[d3.min(Ee[0].values.map(xe).concat(ye)),d3.max(Ee[0].values.map(fe).concat(ye))]).range(ie||[Fe,0]),pe.domain()[0]===pe.domain()[1]&&(pe.domain()[0]?pe.domain([pe.domain()[0]-.01*pe.domain()[0],pe.domain()[1]+.01*pe.domain()[1]]):pe.domain([-1,1])),ge.domain()[0]===ge.domain()[1]&&(ge.domain()[0]?ge.domain([ge.domain()[0]+.01*ge.domain()[0],ge.domain()[1]-.01*ge.domain()[1]]):ge.domain([-1,1]));var _e=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([Ee[0].values]),Le=_e.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),Be=Le.append("defs"),Pe=Le.append("g"),Ne=_e.select("g");Pe.append("g").attr("class","nv-ticks"),_e.attr("transform","translate("+oe.left+","+oe.top+")"),ae.on("click",function(ze,Ie){Me.chartClick({data:ze,index:Ie,pos:d3.event,id:ce})}),Be.append("clipPath").attr("id","nv-chart-clip-path-"+ce).append("rect"),_e.select("#nv-chart-clip-path-"+ce+" rect").attr("width",We).attr("height",Fe),Ne.attr("clip-path",we?"url(#nv-chart-clip-path-"+ce+")":"");var Te=_e.select(".nv-ticks").selectAll(".nv-tick").data(function(ze){return ze});Te.exit().remove();var Oe=Te.enter().append("g");Te.attr("class",function(ze,Ie,Ve){return(me(ze,Ie)>ve(ze,Ie)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+Ve+"-"+Ie}),Oe.append("line").attr("class","nv-candlestick-lines").attr("transform",function(ze,Ie){return"translate("+pe(ue(ze,Ie))+",0)"}).attr("x1",0).attr("y1",function(ze,Ie){return ge(fe(ze,Ie))}).attr("x2",0).attr("y2",function(ze,Ie){return ge(xe(ze,Ie))}),Oe.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(ze,Ie){return"translate("+(pe(ue(ze,Ie))-De/2)+","+(ge(he(ze,Ie))-(me(ze,Ie)>ve(ze,Ie)?ge(ve(ze,Ie))-ge(me(ze,Ie)):0))+")"}).attr("x",0).attr("y",0).attr("width",De).attr("height",function(ze,Ie){var Ve=me(ze,Ie),He=ve(ze,Ie);return Ve>He?ge(He)-ge(Ve):ge(Ve)-ge(He)}),Te.select(".nv-candlestick-lines").transition().attr("transform",function(ze,Ie){return"translate("+pe(ue(ze,Ie))+",0)"}).attr("x1",0).attr("y1",function(ze,Ie){return ge(fe(ze,Ie))}).attr("x2",0).attr("y2",function(ze,Ie){return ge(xe(ze,Ie))}),Te.select(".nv-candlestick-rects").transition().attr("transform",function(ze,Ie){return"translate("+(pe(ue(ze,Ie))-De/2)+","+(ge(he(ze,Ie))-(me(ze,Ie)>ve(ze,Ie)?ge(ve(ze,Ie))-ge(me(ze,Ie)):0))+")"}).attr("x",0).attr("y",0).attr("width",De).attr("height",function(ze,Ie){var Ve=me(ze,Ie),He=ve(ze,Ie);return Ve>He?ge(He)-ge(Ve):ge(Ve)-ge(He)})}),te}var ae,se,ne,le,ie,oe={top:0,right:0,bottom:0,left:0},re=null,de=null,ce=Math.floor(1e4*Math.random()),pe=d3.scale.linear(),ge=d3.scale.linear(),ue=function(Se){return Se.x},he=function(Se){return Se.y},me=function(Se){return Se.open},ve=function(Se){return Se.close},fe=function(Se){return Se.high},xe=function(Se){return Se.low},be=[],ye=[],ke=!1,we=!0,Ae=ee.utils.defaultColor(),Ce=!1,Me=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return te.highlightPoint=function(Se,Ee){te.clearHighlights(),ae.select(".nv-candlestickBar .nv-tick-0-"+Se).classed("hover",Ee)},te.clearHighlights=function(){ae.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},te.dispatch=Me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return re},set:function(Se){re=Se}},height:{get:function(){return de},set:function(Se){de=Se}},xScale:{get:function(){return pe},set:function(Se){pe=Se}},yScale:{get:function(){return ge},set:function(Se){ge=Se}},xDomain:{get:function(){return se},set:function(Se){se=Se}},yDomain:{get:function(){return ne},set:function(Se){ne=Se}},xRange:{get:function(){return le},set:function(Se){le=Se}},yRange:{get:function(){return ie},set:function(Se){ie=Se}},forceX:{get:function(){return be},set:function(Se){be=Se}},forceY:{get:function(){return ye},set:function(Se){ye=Se}},padData:{get:function(){return ke},set:function(Se){ke=Se}},clipEdge:{get:function(){return we},set:function(Se){we=Se}},id:{get:function(){return ce},set:function(Se){ce=Se}},interactive:{get:function(){return Ce},set:function(Se){Ce=Se}},x:{get:function(){return ue},set:function(Se){ue=Se}},y:{get:function(){return he},set:function(Se){he=Se}},open:{get:function(){return me()},set:function(Se){me=Se}},close:{get:function(){return ve()},set:function(Se){ve=Se}},high:{get:function(){return fe},set:function(Se){fe=Se}},low:{get:function(){return xe},set:function(Se){xe=Se}},margin:{get:function(){return oe},set:function(Se){oe.top=void 0==Se.top?oe.top:Se.top,oe.right=void 0==Se.right?oe.right:Se.right,oe.bottom=void 0==Se.bottom?oe.bottom:Se.bottom,oe.left=void 0==Se.left?oe.left:Se.left}},color:{get:function(){return Ae},set:function(Se){Ae=ee.utils.getColor(Se)}}}),ee.utils.initOptions(te),te},ee.models.cumulativeLineChart=function(){"use strict";function te(ze){return Pe.reset(),Pe.models(le),xe&&Pe.models(ie),be&&Pe.models(oe),ze.each(function(Ie){function Ye(){ot.data([Be]);var rt=te.duration();te.duration(0),te.update(),te.duration(rt)}var Xe=d3.select(this);ee.utils.initSVG(Xe),Xe.classed("nv-chart-"+Ce,!0);var Re=ee.utils.availableWidth(me,Xe,ge),Ze=ee.utils.availableHeight(ve,Xe,ge);if(te.update=function(){0===De?Xe.call(te):Xe.transition().duration(De).call(te)},te.container=this,Me.setter(Te(Ie),te.update).getter(Ne(Ie)).update(),Me.disabled=Ie.map(function(rt){return!!rt.disabled}),!Se){for(var qe in Se={},Me)Se[qe]=Me[qe]instanceof Array?Me[qe].slice(0):Me[qe]}var Ke=d3.behavior.drag().on("dragstart",function(){d3.select(te.container).style("cursor","ew-resize")}).on("drag",function(){Be.x=d3.event.x,Be.i=Math.round(Le.invert(Be.x)),Ye()}).on("dragend",function(){d3.select(te.container).style("cursor","auto"),Me.index=Be.i,Fe.stateChange(Me)});if(!(Ie&&Ie.length&&Ie.filter(function(rt){return rt.values.length}).length))return ee.utils.noData(te,Xe),te;if(Xe.selectAll(".nv-noData").remove(),se=le.xScale(),ne=le.yScale(),Ae)le.yDomain(null);else{var je=Ie.filter(function(rt){return!rt.disabled}).map(function(rt){var ct=d3.extent(rt.values,le.y());return-.95>ct[0]&&(ct[0]=-.95),[(ct[0]-ct[1])/(1+ct[1]),(ct[1]-ct[0])/(1+ct[0])]}),Ue=[d3.min(je,function(rt){return rt[0]}),d3.max(je,function(rt){return rt[1]})];le.yDomain(Ue)}Le.domain([0,Ie[0].values.length-1]).range([0,Re]).clamp(!0);var Ie=ae(Be.i,Ie),Qe=we?"none":"all",Je=Xe.selectAll("g.nv-wrap.nv-cumulativeLine").data([Ie]),$e=Je.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),et=Je.select("g");if($e.append("g").attr("class","nv-interactive"),$e.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),$e.append("g").attr("class","nv-y nv-axis"),$e.append("g").attr("class","nv-background"),$e.append("g").attr("class","nv-linesWrap").style("pointer-events",Qe),$e.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),$e.append("g").attr("class","nv-legendWrap"),$e.append("g").attr("class","nv-controlsWrap"),fe?(re.width(Re),et.select(".nv-legendWrap").datum(Ie).call(re),ue||re.height()===ge.top||(ge.top=re.height(),Ze=ee.utils.availableHeight(ve,Xe,ge)),et.select(".nv-legendWrap").attr("transform","translate(0,"+-ge.top+")")):et.select(".nv-legendWrap").selectAll("*").remove(),ke){var tt=[{key:"Re-scale y-axis",disabled:!Ae}];de.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),et.select(".nv-controlsWrap").datum(tt).attr("transform","translate(0,"+-ge.top+")").call(de)}else et.select(".nv-controlsWrap").selectAll("*").remove();Je.attr("transform","translate("+ge.left+","+ge.top+")"),ye&&et.select(".nv-y.nv-axis").attr("transform","translate("+Re+",0)");var at=Ie.filter(function(rt){return rt.tempDisabled});Je.select(".tempDisabled").remove(),at.length&&Je.append("text").attr("class","tempDisabled").attr("x",Re/2).attr("y","-.71em").style("text-anchor","end").text(at.map(function(rt){return rt.key}).join(", ")+" values cannot be calculated for this time period."),we&&(ce.width(Re).height(Ze).margin({left:ge.left,top:ge.top}).svgContainer(Xe).xScale(se),Je.select(".nv-interactive").call(ce)),$e.select(".nv-background").append("rect"),et.select(".nv-background rect").attr("width",Re).attr("height",Ze),le.y(function(rt){return rt.display.y}).width(Re).height(Ze).color(Ie.map(function(rt,dt){return rt.color||he(rt,dt)}).filter(function(rt,dt){return!Ie[dt].disabled&&!Ie[dt].tempDisabled}));var st=et.select(".nv-linesWrap").datum(Ie.filter(function(rt){return!rt.disabled&&!rt.tempDisabled}));st.call(le),Ie.forEach(function(rt,dt){rt.seriesIndex=dt});var nt=Ie.filter(function(rt){return!rt.disabled&&!!We(rt)}),lt=et.select(".nv-avgLinesWrap").selectAll("line").data(nt,function(rt){return rt.key}),it=function(rt){var dt=ne(We(rt));return 0>dt?0:dt>Ze?Ze:dt};lt.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(rt){return le.color()(rt,rt.seriesIndex)}).attr("x1",0).attr("x2",Re).attr("y1",it).attr("y2",it),lt.style("stroke-opacity",function(rt){var dt=ne(We(rt));return 0>dt||dt>Ze?0:1}).attr("x1",0).attr("x2",Re).attr("y1",it).attr("y2",it),lt.exit().remove();var ot=st.selectAll(".nv-indexLine").data([Be]);ot.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(Ke),ot.attr("transform",function(rt){return"translate("+Le(rt.i)+",0)"}).attr("height",Ze),xe&&(ie.scale(se)._ticks(ee.utils.calcTicksX(Re/70,Ie)).tickSize(-Ze,0),et.select(".nv-x.nv-axis").attr("transform","translate(0,"+ne.range()[0]+")"),et.select(".nv-x.nv-axis").call(ie)),be&&(oe.scale(ne)._ticks(ee.utils.calcTicksY(Ze/36,Ie)).tickSize(-Re,0),et.select(".nv-y.nv-axis").call(oe)),et.select(".nv-background rect").on("click",function(){Be.x=d3.mouse(this)[0],Be.i=Math.round(Le.invert(Be.x)),Me.index=Be.i,Fe.stateChange(Me),Ye()}),le.dispatch.on("elementClick",function(rt){Be.i=rt.pointIndex,Be.x=Le(Be.i),Me.index=Be.i,Fe.stateChange(Me),Ye()}),de.dispatch.on("legendClick",function(rt){rt.disabled=!rt.disabled,Ae=!rt.disabled,Me.rescaleY=Ae,Fe.stateChange(Me),te.update()}),re.dispatch.on("stateChange",function(rt){for(var dt in rt)Me[dt]=rt[dt];Fe.stateChange(Me),te.update()}),ce.dispatch.on("elementMousemove",function(rt){le.clearHighlights();var dt,ct,pt,gt=[];if(Ie.filter(function(xt,bt){return xt.seriesIndex=bt,!xt.disabled}).forEach(function(xt,bt){ct=ee.interactiveBisect(xt.values,rt.pointXValue,te.x()),le.highlightPoint(bt,ct,!0);var yt=xt.values[ct];"undefined"!=typeof yt&&("undefined"==typeof dt&&(dt=yt),"undefined"==typeof pt&&(pt=te.xScale()(te.x()(yt,ct))),gt.push({key:xt.key,value:te.y()(yt,ct),color:he(xt,xt.seriesIndex)}))}),2<gt.length){var ut=te.yScale().invert(rt.mouseY),ht=Math.abs(te.yScale().domain()[0]-te.yScale().domain()[1]),vt=ee.nearestValueIndex(gt.map(function(xt){return xt.value}),ut,.03*ht);null!==vt&&(gt[vt].highlight=!0)}var ft=ie.tickFormat()(te.x()(dt,ct),ct);ce.tooltip.valueFormatter(function(xt){return oe.tickFormat()(xt)}).data({value:ft,series:gt})(),ce.renderGuideLine(pt)}),ce.dispatch.on("elementMouseout",function(){le.clearHighlights()}),Fe.on("changeState",function(rt){"undefined"!=typeof rt.disabled&&(Ie.forEach(function(dt,ct){dt.disabled=rt.disabled[ct]}),Me.disabled=rt.disabled),"undefined"!=typeof rt.index&&(Be.i=rt.index,Be.x=Le(Be.i),Me.index=rt.index,ot.data([Be])),"undefined"!=typeof rt.rescaleY&&(Ae=rt.rescaleY),te.update()})}),Pe.renderEnd("cumulativeLineChart immediate"),te}function ae(ze,Ie){return Oe||(Oe=le.y()),Ie.map(function(Ve){if(!Ve.values)return Ve;var Ge=Ve.values[ze];if(null==Ge)return Ve;var Ye=Oe(Ge,ze);return-.95>Ye&&!_e?(Ve.tempDisabled=!0,Ve):(Ve.tempDisabled=!1,Ve.values=Ve.values.map(function(Xe,Re){return Xe.display={y:(Oe(Xe,Re)-Ye)/(1+Ye)},Xe}),Ve)})}var se,ne,le=ee.models.line(),ie=ee.models.axis(),oe=ee.models.axis(),re=ee.models.legend(),de=ee.models.legend(),ce=ee.interactiveGuideline(),pe=ee.models.tooltip(),ge={top:30,right:30,bottom:50,left:60},ue=null,he=ee.utils.defaultColor(),me=null,ve=null,fe=!0,xe=!0,be=!0,ye=!1,ke=!0,we=!1,Ae=!0,Ce=le.id(),Me=ee.utils.state(),Se=null,Ee=null,We=function(ze){return ze.average},Fe=d3.dispatch("stateChange","changeState","renderEnd"),De=250,_e=!1;Me.index=0,Me.rescaleY=Ae,ie.orient("bottom").tickPadding(7),oe.orient(ye?"right":"left"),pe.valueFormatter(function(ze,Ie){return oe.tickFormat()(ze,Ie)}).headerFormatter(function(ze,Ie){return ie.tickFormat()(ze,Ie)}),de.updateState(!1);var Le=d3.scale.linear(),Be={i:0,x:0},Pe=ee.utils.renderWatch(Fe,De),Ne=function(ze){return function(){return{active:ze.map(function(Ie){return!Ie.disabled}),index:Be.i,rescaleY:Ae}}},Te=function(ze){return function(Ie){void 0!==Ie.index&&(Be.i=Ie.index),void 0!==Ie.rescaleY&&(Ae=Ie.rescaleY),void 0!==Ie.active&&ze.forEach(function(Ve,He){Ve.disabled=!Ie.active[He]})}};le.dispatch.on("elementMouseover.tooltip",function(ze){var Ie={x:te.x()(ze.point),y:te.y()(ze.point),color:ze.point.color};ze.point=Ie,pe.data(ze).hidden(!1)}),le.dispatch.on("elementMouseout.tooltip",function(){pe.hidden(!0)});var Oe=null;return te.dispatch=Fe,te.lines=le,te.legend=re,te.controls=de,te.xAxis=ie,te.yAxis=oe,te.interactiveLayer=ce,te.state=Me,te.tooltip=pe,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return me},set:function(ze){me=ze}},height:{get:function(){return ve},set:function(ze){ve=ze}},rescaleY:{get:function(){return Ae},set:function(ze){Ae=ze}},showControls:{get:function(){return ke},set:function(ze){ke=ze}},showLegend:{get:function(){return fe},set:function(ze){fe=ze}},average:{get:function(){return We},set:function(ze){We=ze}},defaultState:{get:function(){return Se},set:function(ze){Se=ze}},noData:{get:function(){return Ee},set:function(ze){Ee=ze}},showXAxis:{get:function(){return xe},set:function(ze){xe=ze}},showYAxis:{get:function(){return be},set:function(ze){be=ze}},noErrorCheck:{get:function(){return _e},set:function(ze){_e=ze}},margin:{get:function(){return ge},set:function(ze){void 0!==ze.top&&(ge.top=ze.top,ue=ze.top),ge.right=void 0===ze.right?ge.right:ze.right,ge.bottom=void 0===ze.bottom?ge.bottom:ze.bottom,ge.left=void 0===ze.left?ge.left:ze.left}},color:{get:function(){return he},set:function(ze){he=ee.utils.getColor(ze),re.color(he)}},useInteractiveGuideline:{get:function(){return we},set:function(ze){we=ze,!0===ze&&(te.interactive(!1),te.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return ye},set:function(ze){ye=ze,oe.orient(ze?"right":"left")}},duration:{get:function(){return De},set:function(ze){De=ze,le.duration(De),ie.duration(De),oe.duration(De),Pe.reset(De)}}}),ee.utils.inheritOptions(te,le),ee.utils.initOptions(te),te},ee.models.discreteBar=function(){"use strict";function te(Me){return Ce.reset(),Me.each(function(Se){var Ee=ce-de.left-de.right,We=pe-de.top-de.bottom;ae=d3.select(this),ee.utils.initSVG(ae),Se.forEach(function(Te,Oe){Te.values.forEach(function(ze){ze.series=Oe})});var Fe=se&&ne?[]:Se.map(function(Te){return Te.values.map(function(Oe,ze){return{x:me(Oe,ze),y:ve(Oe,ze),y0:Oe.y0}})});ue.domain(se||d3.merge(Fe).map(function(Te){return Te.x})).rangeBands(le||[0,Ee],.1),he.domain(ne||d3.extent(d3.merge(Fe).map(function(Te){return Te.y}).concat(fe))),be?he.range(ie||[We-(0>he.domain()[0]?12:0),0<he.domain()[1]?12:0]):he.range(ie||[We,0]),oe=oe||ue,re=re||he.copy().range([he(0),he(0)]);var De=ae.selectAll("g.nv-wrap.nv-discretebar").data([Se]),_e=De.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),Le=_e.append("g");De.select("g"),Le.append("g").attr("class","nv-groups"),De.attr("transform","translate("+de.left+","+de.top+")");var Be=De.select(".nv-groups").selectAll(".nv-group").data(function(Te){return Te},function(Te){return Te.key});Be.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),Be.exit().watchTransition(Ce,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),Be.attr("class",function(Te,Oe){return"nv-group nv-series-"+Oe}).classed("hover",function(Te){return Te.hover}),Be.watchTransition(Ce,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var Pe=Be.selectAll("g.nv-bar").data(function(Te){return Te.values});Pe.exit().remove();var Ne=Pe.enter().append("g").attr("transform",function(Te,Oe){return"translate("+(ue(me(Te,Oe))+.05*ue.rangeBand())+", "+he(0)+")"}).on("mouseover",function(Te,Oe){d3.select(this).classed("hover",!0),ke.elementMouseover({data:Te,index:Oe,color:d3.select(this).style("fill")})}).on("mouseout",function(Te,Oe){d3.select(this).classed("hover",!1),ke.elementMouseout({data:Te,index:Oe,color:d3.select(this).style("fill")})}).on("mousemove",function(Te,Oe){ke.elementMousemove({data:Te,index:Oe,color:d3.select(this).style("fill")})}).on("click",function(Te,Oe){var ze=this;ke.elementClick({data:Te,index:Oe,color:d3.select(this).style("fill"),event:d3.event,element:ze}),d3.event.stopPropagation()}).on("dblclick",function(Te,Oe){ke.elementDblClick({data:Te,index:Oe,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});Ne.append("rect").attr("height",0).attr("width",.9*ue.rangeBand()/Se.length),be?(Ne.append("text").attr("text-anchor","middle"),Pe.select("text").text(function(Te,Oe){return ye(ve(Te,Oe))}).watchTransition(Ce,"discreteBar: bars text").attr("x",.9*ue.rangeBand()/2).attr("y",function(Te,Oe){return 0>ve(Te,Oe)?he(ve(Te,Oe))-he(0)+12:-4})):Pe.selectAll("text").remove(),Pe.attr("class",function(Te,Oe){return 0>ve(Te,Oe)?"nv-bar negative":"nv-bar positive"}).style("fill",function(Te,Oe){return Te.color||xe(Te,Oe)}).style("stroke",function(Te,Oe){return Te.color||xe(Te,Oe)}).select("rect").attr("class",we).watchTransition(Ce,"discreteBar: bars rect").attr("width",.9*ue.rangeBand()/Se.length),Pe.watchTransition(Ce,"discreteBar: bars").attr("transform",function(Te,Oe){var ze=ue(me(Te,Oe))+.05*ue.rangeBand(),Ie=0>ve(Te,Oe)?he(0):1>he(0)-he(ve(Te,Oe))?he(0)-1:he(ve(Te,Oe));return"translate("+ze+", "+Ie+")"}).select("rect").attr("height",function(Te,Oe){return Math.max(Math.abs(he(ve(Te,Oe))-he(0)),1)}),oe=ue.copy(),re=he.copy()}),Ce.renderEnd("discreteBar immediate"),te}var ae,se,ne,le,ie,oe,re,de={top:0,right:0,bottom:0,left:0},ce=960,pe=500,ge=Math.floor(1e4*Math.random()),ue=d3.scale.ordinal(),he=d3.scale.linear(),me=function(Me){return Me.x},ve=function(Me){return Me.y},fe=[0],xe=ee.utils.defaultColor(),be=!1,ye=d3.format(",.2f"),ke=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),we="discreteBar",Ae=250,Ce=ee.utils.renderWatch(ke,Ae);return te.dispatch=ke,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ce},set:function(Me){ce=Me}},height:{get:function(){return pe},set:function(Me){pe=Me}},forceY:{get:function(){return fe},set:function(Me){fe=Me}},showValues:{get:function(){return be},set:function(Me){be=Me}},x:{get:function(){return me},set:function(Me){me=Me}},y:{get:function(){return ve},set:function(Me){ve=Me}},xScale:{get:function(){return ue},set:function(Me){ue=Me}},yScale:{get:function(){return he},set:function(Me){he=Me}},xDomain:{get:function(){return se},set:function(Me){se=Me}},yDomain:{get:function(){return ne},set:function(Me){ne=Me}},xRange:{get:function(){return le},set:function(Me){le=Me}},yRange:{get:function(){return ie},set:function(Me){ie=Me}},valueFormat:{get:function(){return ye},set:function(Me){ye=Me}},id:{get:function(){return ge},set:function(Me){ge=Me}},rectClass:{get:function(){return we},set:function(Me){we=Me}},margin:{get:function(){return de},set:function(Me){de.top=void 0===Me.top?de.top:Me.top,de.right=void 0===Me.right?de.right:Me.right,de.bottom=void 0===Me.bottom?de.bottom:Me.bottom,de.left=void 0===Me.left?de.left:Me.left}},color:{get:function(){return xe},set:function(Me){xe=ee.utils.getColor(Me)}},duration:{get:function(){return Ae},set:function(Me){Ae=Me,Ce.reset(Ae)}}}),ee.utils.initOptions(te),te},ee.models.discreteBarChart=function(){"use strict";function te(Me){return Ce.reset(),Ce.models(ne),me&&Ce.models(le),ve&&Ce.models(ie),Me.each(function(Se){var Ee=d3.select(this);ee.utils.initSVG(Ee);var We=ee.utils.availableWidth(pe,Ee,de),Fe=ee.utils.availableHeight(ge,Ee,de);if(te.update=function(){we.beforeUpdate(),Ee.transition().duration(Ae).call(te)},te.container=this,!(Se&&Se.length&&Se.filter(function(Te){return Te.values.length}).length))return ee.utils.noData(te,Ee),te;Ee.selectAll(".nv-noData").remove(),ae=ne.xScale(),se=ne.yScale().clamp(!0);var De=Ee.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([Se]),_e=De.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),Le=_e.append("defs"),Be=De.select("g");_e.append("g").attr("class","nv-x nv-axis"),_e.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),_e.append("g").attr("class","nv-barsWrap"),_e.append("g").attr("class","nv-legendWrap"),Be.attr("transform","translate("+de.left+","+de.top+")"),he?(oe.width(We),Be.select(".nv-legendWrap").datum(Se).call(oe),ce||oe.height()===de.top||(de.top=oe.height(),Fe=ee.utils.availableHeight(ge,Ee,de)),De.select(".nv-legendWrap").attr("transform","translate(0,"+-de.top+")")):Be.select(".nv-legendWrap").selectAll("*").remove(),fe&&Be.select(".nv-y.nv-axis").attr("transform","translate("+We+",0)"),ne.width(We).height(Fe);var Pe=Be.select(".nv-barsWrap").datum(Se.filter(function(Te){return!Te.disabled}));if(Pe.transition().call(ne),Le.append("clipPath").attr("id","nv-x-label-clip-"+ne.id()).append("rect"),Be.select("#nv-x-label-clip-"+ne.id()+" rect").attr("width",ae.rangeBand()*(xe?2:1)).attr("height",16).attr("x",-ae.rangeBand()/(xe?1:2)),me){le.scale(ae)._ticks(ee.utils.calcTicksX(We/100,Se)).tickSize(-Fe,0),Be.select(".nv-x.nv-axis").attr("transform","translate(0,"+(se.range()[0]+(ne.showValues()&&0>se.domain()[0]?16:0))+")"),Be.select(".nv-x.nv-axis").call(le);var Ne=Be.select(".nv-x.nv-axis").selectAll("g");xe&&Ne.selectAll("text").attr("transform",function(Te,Oe,ze){return"translate(0,"+(0==ze%2?"5":"17")+")"}),ye&&Ne.selectAll(".tick text").attr("transform","rotate("+ye+" 0,0)").style("text-anchor",0<ye?"start":"end"),be&&Be.selectAll(".tick text").call(ee.utils.wrapTicks,te.xAxis.rangeBand())}ve&&(ie.scale(se)._ticks(ee.utils.calcTicksY(Fe/36,Se)).tickSize(-We,0),Be.select(".nv-y.nv-axis").call(ie)),Be.select(".nv-zeroLine line").attr("x1",0).attr("x2",fe?-We:We).attr("y1",se(0)).attr("y2",se(0))}),Ce.renderEnd("discreteBar chart immediate"),te}var ae,se,ne=ee.models.discreteBar(),le=ee.models.axis(),ie=ee.models.axis(),oe=ee.models.legend(),re=ee.models.tooltip(),de={top:15,right:10,bottom:50,left:60},ce=null,pe=null,ge=null,ue=ee.utils.getColor(),he=!1,me=!0,ve=!0,fe=!1,xe=!1,be=!1,ye=0,ke=null,we=d3.dispatch("beforeUpdate","renderEnd"),Ae=250;le.orient("bottom").showMaxMin(!1).tickFormat(function(Me){return Me}),ie.orient(fe?"right":"left").tickFormat(d3.format(",.1f")),re.duration(0).headerEnabled(!1).valueFormatter(function(Me,Se){return ie.tickFormat()(Me,Se)}).keyFormatter(function(Me,Se){return le.tickFormat()(Me,Se)});var Ce=ee.utils.renderWatch(we,Ae);return ne.dispatch.on("elementMouseover.tooltip",function(Me){Me.series={key:te.x()(Me.data),value:te.y()(Me.data),color:Me.color},re.data(Me).hidden(!1)}),ne.dispatch.on("elementMouseout.tooltip",function(){re.hidden(!0)}),ne.dispatch.on("elementMousemove.tooltip",function(){re()}),te.dispatch=we,te.discretebar=ne,te.legend=oe,te.xAxis=le,te.yAxis=ie,te.tooltip=re,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return pe},set:function(Me){pe=Me}},height:{get:function(){return ge},set:function(Me){ge=Me}},showLegend:{get:function(){return he},set:function(Me){he=Me}},staggerLabels:{get:function(){return xe},set:function(Me){xe=Me}},rotateLabels:{get:function(){return ye},set:function(Me){ye=Me}},wrapLabels:{get:function(){return be},set:function(Me){be=!!Me}},showXAxis:{get:function(){return me},set:function(Me){me=Me}},showYAxis:{get:function(){return ve},set:function(Me){ve=Me}},noData:{get:function(){return ke},set:function(Me){ke=Me}},margin:{get:function(){return de},set:function(Me){void 0!==Me.top&&(de.top=Me.top,ce=Me.top),de.right=void 0===Me.right?de.right:Me.right,de.bottom=void 0===Me.bottom?de.bottom:Me.bottom,de.left=void 0===Me.left?de.left:Me.left}},duration:{get:function(){return Ae},set:function(Me){Ae=Me,Ce.reset(Ae),ne.duration(Ae),le.duration(Ae),ie.duration(Ae)}},color:{get:function(){return ue},set:function(Me){ue=ee.utils.getColor(Me),ne.color(ue),oe.color(ue)}},rightAlignYAxis:{get:function(){return fe},set:function(Me){fe=Me,ie.orient(Me?"right":"left")}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.distribution=function(){"use strict";function te(ue){return ge.reset(),ue.each(function(he){var me=(ne-("x"===ie?se.left+se.right:se.top+se.bottom),"x"==ie?"y":"x"),ve=d3.select(this);ee.utils.initSVG(ve),ae=ae||de;var fe=ve.selectAll("g.nv-distribution").data([he]),xe=fe.enter().append("g").attr("class","nvd3 nv-distribution"),be=(xe.append("g"),fe.select("g"));fe.attr("transform","translate("+se.left+","+se.top+")");var ye=be.selectAll("g.nv-dist").data(function(we){return we},function(we){return we.key});ye.enter().append("g"),ye.attr("class",function(we,Ae){return"nv-dist nv-series-"+Ae}).style("stroke",function(we,Ae){return re(we,Ae)});var ke=ye.selectAll("line.nv-dist"+ie).data(function(we){return we.values});ke.enter().append("line").attr(ie+"1",function(we,Ae){return ae(oe(we,Ae))}).attr(ie+"2",function(we,Ae){return ae(oe(we,Ae))}),ge.transition(ye.exit().selectAll("line.nv-dist"+ie),"dist exit").attr(ie+"1",function(we,Ae){return de(oe(we,Ae))}).attr(ie+"2",function(we,Ae){return de(oe(we,Ae))}).style("stroke-opacity",0).remove(),ke.attr("class",function(we,Ae){return"nv-dist"+ie+" nv-dist"+ie+"-"+Ae}).attr(me+"1",0).attr(me+"2",le),ge.transition(ke,"dist").attr(ie+"1",function(we,Ae){return de(oe(we,Ae))}).attr(ie+"2",function(we,Ae){return de(oe(we,Ae))}),ae=de.copy()}),ge.renderEnd("distribution immediate"),te}var ae,se={top:0,right:0,bottom:0,left:0},ne=400,le=8,ie="x",oe=function(ue){return ue[ie]},re=ee.utils.defaultColor(),de=d3.scale.linear(),ce=250,pe=d3.dispatch("renderEnd"),ge=ee.utils.renderWatch(pe,ce);return te.options=ee.utils.optionsFunc.bind(te),te.dispatch=pe,te.margin=function(ue){return arguments.length?(se.top="undefined"==typeof ue.top?se.top:ue.top,se.right="undefined"==typeof ue.right?se.right:ue.right,se.bottom="undefined"==typeof ue.bottom?se.bottom:ue.bottom,se.left="undefined"==typeof ue.left?se.left:ue.left,te):se},te.width=function(ue){return arguments.length?(ne=ue,te):ne},te.axis=function(ue){return arguments.length?(ie=ue,te):ie},te.size=function(ue){return arguments.length?(le=ue,te):le},te.getData=function(ue){return arguments.length?(oe=d3.functor(ue),te):oe},te.scale=function(ue){return arguments.length?(de=ue,te):de},te.color=function(ue){return arguments.length?(re=ee.utils.getColor(ue),te):re},te.duration=function(ue){return arguments.length?(ce=ue,ge.reset(ce),te):ce},te},ee.models.focus=function(te){"use strict";function ae(ye){return be.reset(),be.models(te),ge&&be.models(le),ue&&be.models(ie),ye.each(function(ke){function Ae(){oe.empty()||oe.extent(me),Le.data([oe.empty()?se.domain():me]).each(function(Ne){var Oe=se(Ne[0])-se.range()[0],ze=Se-se(Ne[1]);d3.select(this).select(".left").attr("width",0>Oe?0:Oe),d3.select(this).select(".right").attr("x",se(Ne[1])).attr("width",0>ze?0:ze)})}function Ce(Ne){me=oe.empty()?null:oe.extent();var Te=oe.empty()?se.domain():oe.extent();fe.brush({extent:Te,brush:oe}),Ae(),Ne&&fe.onBrush(Te)}var Me=d3.select(this);ee.utils.initSVG(Me);var Se=ee.utils.availableWidth(ce,Me,re),Ee=pe-re.top-re.bottom;ae.update=function(){0===ve?Me.call(ae):Me.transition().duration(ve).call(ae)},ae.container=this,se=te.xScale(),ne=te.yScale();var We=Me.selectAll("g.nv-focus").data([ke]),Fe=We.enter().append("g").attr("class","nvd3 nv-focus").append("g"),De=We.select("g");We.attr("transform","translate("+re.left+","+re.top+")"),Fe.append("g").attr("class","nv-background").append("rect"),Fe.append("g").attr("class","nv-x nv-axis"),Fe.append("g").attr("class","nv-y nv-axis"),Fe.append("g").attr("class","nv-contentWrap"),Fe.append("g").attr("class","nv-brushBackground"),Fe.append("g").attr("class","nv-x nv-brush"),he&&De.select(".nv-y.nv-axis").attr("transform","translate("+Se+",0)"),De.select(".nv-background rect").attr("width",Se).attr("height",Ee),te.width(Se).height(Ee).color(ke.map(function(Ne,Te){return Ne.color||de(Ne,Te)}).filter(function(Ne,Te){return!ke[Te].disabled}));var _e=De.select(".nv-contentWrap").datum(ke.filter(function(Ne){return!Ne.disabled}));d3.transition(_e).call(te),oe.x(se).on("brush",function(){Ce(xe)}),oe.on("brushend",function(){xe||fe.onBrush(oe.empty()?se.domain():oe.extent())}),me&&oe.extent(me);var Le=De.select(".nv-brushBackground").selectAll("g").data([me||oe.extent()]),Be=Le.enter().append("g");Be.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Ee),Be.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Ee);var Pe=De.select(".nv-x.nv-brush").call(oe);Pe.selectAll("rect").attr("height",Ee),Pe.selectAll(".resize").append("path").attr("d",function(Ne){var Te=+("e"==Ne),Oe=Te?1:-1,ze=Ee/3;return"M"+.5*Oe+","+ze+"A6,6 0 0 "+Te+" "+6.5*Oe+","+(ze+6)+"V"+(2*ze-6)+"A6,6 0 0 "+Te+" "+.5*Oe+","+2*ze+"ZM"+2.5*Oe+","+(ze+8)+"V"+(2*ze-8)+"M"+4.5*Oe+","+(ze+8)+"V"+(2*ze-8)}),Ce(!0),De.select(".nv-background rect").attr("width",Se).attr("height",Ee),ge&&(le.scale(se)._ticks(ee.utils.calcTicksX(Se/100,ke)).tickSize(-Ee,0),De.select(".nv-x.nv-axis").attr("transform","translate(0,"+ne.range()[0]+")"),d3.transition(De.select(".nv-x.nv-axis")).call(le)),ue&&(ie.scale(ne)._ticks(ee.utils.calcTicksY(Ee/36,ke)).tickSize(-Se,0),d3.transition(De.select(".nv-y.nv-axis")).call(ie)),De.select(".nv-x.nv-axis").attr("transform","translate(0,"+ne.range()[0]+")")}),be.renderEnd("focus immediate"),ae}var se,ne,te=te||ee.models.line(),le=ee.models.axis(),ie=ee.models.axis(),oe=d3.svg.brush(),re={top:10,right:0,bottom:30,left:0},de=ee.utils.defaultColor(),ce=null,pe=70,ge=!0,ue=!1,he=!1,me=null,ve=250,fe=d3.dispatch("brush","onBrush","renderEnd"),xe=!0;te.interactive(!1),te.pointActive(function(){return!1});var be=ee.utils.renderWatch(fe,ve);return ae.dispatch=fe,ae.content=te,ae.brush=oe,ae.xAxis=le,ae.yAxis=ie,ae.options=ee.utils.optionsFunc.bind(ae),ae._options=Object.create({},{width:{get:function(){return ce},set:function(ye){ce=ye}},height:{get:function(){return pe},set:function(ye){pe=ye}},showXAxis:{get:function(){return ge},set:function(ye){ge=ye}},showYAxis:{get:function(){return ue},set:function(ye){ue=ye}},brushExtent:{get:function(){return me},set:function(ye){me=ye}},syncBrushing:{get:function(){return xe},set:function(ye){xe=ye}},margin:{get:function(){return re},set:function(ye){re.top=void 0===ye.top?re.top:ye.top,re.right=void 0===ye.right?re.right:ye.right,re.bottom=void 0===ye.bottom?re.bottom:ye.bottom,re.left=void 0===ye.left?re.left:ye.left}},duration:{get:function(){return ve},set:function(ye){ve=ye,be.reset(ve),te.duration(ve),le.duration(ve),ie.duration(ve)}},color:{get:function(){return de},set:function(ye){de=ee.utils.getColor(ye),te.color(de)}},interpolate:{get:function(){return te.interpolate()},set:function(ye){te.interpolate(ye)}},xTickFormat:{get:function(){return le.tickFormat()},set:function(ye){le.tickFormat(ye)}},yTickFormat:{get:function(){return ie.tickFormat()},set:function(ye){ie.tickFormat(ye)}},x:{get:function(){return te.x()},set:function(ye){te.x(ye)}},y:{get:function(){return te.y()},set:function(ye){te.y(ye)}},rightAlignYAxis:{get:function(){return he},set:function(ye){he=ye,ie.orient(he?"right":"left")}}}),ee.utils.inheritOptions(ae,te),ee.utils.initOptions(ae),ae},ee.models.forceDirectedGraph=function(){"use strict";function te(ke){return ye.reset(),ke.each(function(we){le=d3.select(this),ee.utils.initSVG(le);var Ae=ee.utils.availableWidth(se,le,ae),Ce=ee.utils.availableHeight(ne,le,ae);if(le.attr("width",Ae).attr("height",Ce),!(we&&we.links&&we.nodes))return ee.utils.noData(te,le),te;le.selectAll(".nv-noData").remove(),le.selectAll("*").remove();var Me=new Set;we.nodes.forEach(function(Fe){var De=Object.keys(Fe);De.forEach(function(_e){Me.add(_e)})});var Se=d3.layout.force().nodes(we.nodes).links(we.links).size([Ae,Ce]).linkStrength(ce).friction(pe).linkDistance(ge).charge(ue).gravity(he).theta(me).alpha(ve).start(),Ee=le.selectAll(".link").data(we.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(Fe){return Math.sqrt(Fe.value)}),We=le.selectAll(".node").data(we.nodes).enter().append("g").attr("class","nv-force-node").call(Se.drag);We.append("circle").attr("r",fe).style("fill",function(Fe){return oe(Fe)}).on("mouseover",function(Fe){le.select(".nv-series-"+Fe.seriesIndex+" .nv-distx-"+Fe.pointIndex).attr("y1",Fe.py),le.select(".nv-series-"+Fe.seriesIndex+" .nv-disty-"+Fe.pointIndex).attr("x2",Fe.px);var De=oe(Fe);Fe.series=[],Me.forEach(function(_e){Fe.series.push({color:De,key:_e,value:Fe[_e]})}),re.data(Fe).hidden(!1)}).on("mouseout",function(){re.hidden(!0)}),re.headerFormatter(function(){return"Node"}),be(Ee),xe(We),Se.on("tick",function(){Ee.attr("x1",function(Fe){return Fe.source.x}).attr("y1",function(Fe){return Fe.source.y}).attr("x2",function(Fe){return Fe.target.x}).attr("y2",function(Fe){return Fe.target.y}),We.attr("transform",function(Fe){return"translate("+Fe.x+", "+Fe.y+")"})})}),te}var ae={top:2,right:0,bottom:2,left:0},se=400,ne=32,le=null,ie=d3.dispatch("renderEnd"),oe=ee.utils.getColor(["#000"]),re=ee.models.tooltip(),de=null,ce=.1,pe=.9,ge=30,ue=-120,he=.1,me=.8,ve=.1,fe=5,xe=function(){},be=function(){},ye=ee.utils.renderWatch(ie);return te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return se},set:function(ke){se=ke}},height:{get:function(){return ne},set:function(ke){ne=ke}},linkStrength:{get:function(){return ce},set:function(ke){ce=ke}},friction:{get:function(){return pe},set:function(ke){pe=ke}},linkDist:{get:function(){return ge},set:function(ke){ge=ke}},charge:{get:function(){return ue},set:function(ke){ue=ke}},gravity:{get:function(){return he},set:function(ke){he=ke}},theta:{get:function(){return me},set:function(ke){me=ke}},alpha:{get:function(){return ve},set:function(ke){ve=ke}},radius:{get:function(){return fe},set:function(ke){fe=ke}},x:{get:function(){return getX},set:function(ke){getX=d3.functor(ke)}},y:{get:function(){return getY},set:function(ke){getY=d3.functor(ke)}},margin:{get:function(){return ae},set:function(ke){ae.top=void 0===ke.top?ae.top:ke.top,ae.right=void 0===ke.right?ae.right:ke.right,ae.bottom=void 0===ke.bottom?ae.bottom:ke.bottom,ae.left=void 0===ke.left?ae.left:ke.left}},color:{get:function(){return oe},set:function(ke){oe=ee.utils.getColor(ke)}},noData:{get:function(){return de},set:function(ke){de=ke}},nodeExtras:{get:function(){return xe},set:function(ke){xe=ke}},linkExtras:{get:function(){return be},set:function(ke){be=ke}}}),te.dispatch=ie,te.tooltip=re,ee.utils.initOptions(te),te},ee.models.furiousLegend=function(){"use strict";function te(fe){function xe(ye,ke){return"furious"==ve?he?ye.disengaged?oe(ye,ke):"#fff":he?void 0:ye.disabled?oe(ye,ke):"#fff":"#000"}function be(ye,ke){return he&&"furious"==ve?ye.disengaged?"#fff":oe(ye,ke):ye.disabled?"#fff":oe(ye,ke)}return fe.each(function(ye){var ke=se-ae.left-ae.right,we=d3.select(this);ee.utils.initSVG(we);var Ae=we.selectAll("g.nv-legend").data([ye]),Ce=(Ae.enter().append("g").attr("class","nvd3 nv-legend").append("g"),Ae.select("g"));Ae.attr("transform","translate("+ae.left+","+ae.top+")");var Me,Se=Ce.selectAll(".nv-series").data(function(Ye){return"furious"==ve?Ye.filter(function(Xe){return!!he||!Xe.disengaged}):Ye}),Ee=Se.enter().append("g").attr("class","nv-series");if("classic"==ve)Ee.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),Me=Se.select("circle");else if("furious"==ve){Ee.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),Me=Se.select("rect"),Ee.append("g").attr("class","nv-check-box").property("innerHTML","<path d=\"M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z\" class=\"nv-box\"></path><path d=\"M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511\" class=\"nv-check\"></path>").attr("transform","translate(-10,-8)scale(0.5)");var We=Se.select(".nv-check-box");We.each(function(Ye,Xe){d3.select(this).selectAll("path").attr("stroke",xe(Ye,Xe))})}Ee.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var Fe=Se.select("text.nv-legend-text");Se.on("mouseover",function(Ye,Xe){me.legendMouseover(Ye,Xe)}).on("mouseout",function(Ye,Xe){me.legendMouseout(Ye,Xe)}).on("click",function(Ye,Xe){me.legendClick(Ye,Xe);var Re=Se.data();if(ge){if("classic"==ve)ue?(Re.forEach(function(qe){qe.disabled=!0}),Ye.disabled=!1):(Ye.disabled=!Ye.disabled,Re.every(function(qe){return qe.disabled})&&Re.forEach(function(qe){qe.disabled=!1}));else if("furious"==ve)if(he)Ye.disengaged=!Ye.disengaged,Ye.userDisabled=void 0==Ye.userDisabled?!!Ye.disabled:Ye.userDisabled,Ye.disabled=Ye.disengaged||Ye.userDisabled;else if(!he){Ye.disabled=!Ye.disabled,Ye.userDisabled=Ye.disabled;var Ze=Re.filter(function(qe){return!qe.disengaged});Ze.every(function(qe){return qe.userDisabled})&&Re.forEach(function(qe){qe.disabled=qe.userDisabled=!1})}me.stateChange({disabled:Re.map(function(qe){return!!qe.disabled}),disengaged:Re.map(function(qe){return!!qe.disengaged})})}}).on("dblclick",function(Ye,Xe){if(("furious"!=ve||!he)&&(me.legendDblclick(Ye,Xe),ge)){var Re=Se.data();Re.forEach(function(Ze){Ze.disabled=!0,"furious"==ve&&(Ze.userDisabled=Ze.disabled)}),Ye.disabled=!1,"furious"==ve&&(Ye.userDisabled=Ye.disabled),me.stateChange({disabled:Re.map(function(Ze){return!!Ze.disabled})})}}),Se.classed("nv-disabled",function(Ye){return Ye.userDisabled}),Se.exit().remove(),Fe.attr("fill",xe).text(function(Ye){return ie(le(Ye))});var De;if("furious"===ve?De=23:"classic"===ve?De=20:void 0,de){var _e=[];Se.each(function(Ye){var Re;if(ie(le(Ye))&&ie(le(Ye)).length>re){var Ze=ie(le(Ye)).substring(0,re);Re=d3.select(this).select("text").text(Ze+"..."),d3.select(this).append("svg:title").text(ie(le(Ye)))}else Re=d3.select(this).select("text");var qe;try{if(qe=Re.node().getComputedTextLength(),0>=qe)throw Error()}catch(Ke){qe=ee.utils.calcApproxTextWidth(Re)}_e.push(qe+ce)});for(var Le=0,Be=0,Pe=[];ke>Be&&Le<_e.length;)Pe[Le]=_e[Le],Be+=_e[Le++];for(0===Le&&(Le=1);Be>ke&&1<Le;){Pe=[],Le--;for(var Ne=0;Ne<_e.length;Ne++)_e[Ne]>(Pe[Ne%Le]||0)&&(Pe[Ne%Le]=_e[Ne]);Be=Pe.reduce(function(Ye,Xe){return Ye+Xe})}for(var Te=[],Oe=0,ze=0;Le>Oe;Oe++)Te[Oe]=ze,ze+=Pe[Oe];Se.attr("transform",function(Ye,Xe){return"translate("+Te[Xe%Le]+","+(5+Math.floor(Xe/Le)*De)+")"}),pe?Ce.attr("transform","translate("+(se-ae.right-Be)+","+ae.top+")"):Ce.attr("transform","translate(0,"+ae.top+")"),ne=ae.top+ae.bottom+Math.ceil(_e.length/Le)*De}else{var Ie,Ve=5,He=5,Ge=0;Se.attr("transform",function(){var Re=d3.select(this).select("text").node().getComputedTextLength()+ce;return Ie=He,se<ae.left+ae.right+Ie+Re&&(He=Ie=5,Ve+=De),He+=Re,He>Ge&&(Ge=He),"translate("+Ie+","+Ve+")"}),Ce.attr("transform","translate("+(se-ae.right-Ge)+","+ae.top+")"),ne=ae.top+ae.bottom+Ve+15}"furious"==ve&&Me.attr("width",function(Ye,Xe){return Fe[0][Xe].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),Me.style("fill",be).style("stroke",function(Ye,Xe){return Ye.color||oe(Ye,Xe)})}),te}var ae={top:5,right:0,bottom:5,left:0},se=400,ne=20,le=function(fe){return fe.key},ie=function(fe){return fe},oe=ee.utils.getColor(),re=20,de=!0,ce=28,pe=!0,ge=!0,ue=!1,he=!1,me=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),ve="classic";return te.dispatch=me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return se},set:function(fe){se=fe}},height:{get:function(){return ne},set:function(fe){ne=fe}},key:{get:function(){return le},set:function(fe){le=fe}},keyFormatter:{get:function(){return ie},set:function(fe){ie=fe}},align:{get:function(){return de},set:function(fe){de=fe}},rightAlign:{get:function(){return pe},set:function(fe){pe=fe}},maxKeyLength:{get:function(){return re},set:function(fe){re=fe}},padding:{get:function(){return ce},set:function(fe){ce=fe}},updateState:{get:function(){return ge},set:function(fe){ge=fe}},radioButtonMode:{get:function(){return ue},set:function(fe){ue=fe}},expanded:{get:function(){return he},set:function(fe){he=fe}},vers:{get:function(){return ve},set:function(fe){ve=fe}},margin:{get:function(){return ae},set:function(fe){ae.top=void 0===fe.top?ae.top:fe.top,ae.right=void 0===fe.right?ae.right:fe.right,ae.bottom=void 0===fe.bottom?ae.bottom:fe.bottom,ae.left=void 0===fe.left?ae.left:fe.left}},color:{get:function(){return oe},set:function(fe){oe=ee.utils.getColor(fe)}}}),ee.utils.initOptions(te),te},ee.models.historicalBar=function(){"use strict";function te(Ae){return Ae.each(function(Ce){we.reset(),ce=d3.select(this);var Me=ee.utils.availableWidth(oe,ce,ie),Se=ee.utils.availableHeight(re,ce,ie);ee.utils.initSVG(ce),pe.domain(ae||d3.extent(Ce[0].values.map(ue).concat(me))),fe?pe.range(ne||[.5*Me/Ce[0].values.length,Me*(Ce[0].values.length-.5)/Ce[0].values.length]):pe.range(ne||[0,Me]),ge.domain(se||d3.extent(Ce[0].values.map(he).concat(ve))).range(le||[Se,0]),pe.domain()[0]===pe.domain()[1]&&(pe.domain()[0]?pe.domain([pe.domain()[0]-.01*pe.domain()[0],pe.domain()[1]+.01*pe.domain()[1]]):pe.domain([-1,1])),ge.domain()[0]===ge.domain()[1]&&(ge.domain()[0]?ge.domain([ge.domain()[0]+.01*ge.domain()[0],ge.domain()[1]-.01*ge.domain()[1]]):ge.domain([-1,1]));var Ee=ce.selectAll("g.nv-wrap.nv-historicalBar-"+de).data([Ce[0].values]),We=Ee.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+de),Fe=We.append("defs"),De=We.append("g"),_e=Ee.select("g");De.append("g").attr("class","nv-bars"),Ee.attr("transform","translate("+ie.left+","+ie.top+")"),ce.on("click",function(Be,Pe){ye.chartClick({data:Be,index:Pe,pos:d3.event,id:de})}),Fe.append("clipPath").attr("id","nv-chart-clip-path-"+de).append("rect"),Ee.select("#nv-chart-clip-path-"+de+" rect").attr("width",Me).attr("height",Se),_e.attr("clip-path",xe?"url(#nv-chart-clip-path-"+de+")":"");var Le=Ee.select(".nv-bars").selectAll(".nv-bar").data(function(Be){return Be},function(Be,Pe){return ue(Be,Pe)});Le.exit().remove(),Le.enter().append("rect").attr("x",0).attr("y",function(Be,Pe){return ee.utils.NaNtoZero(ge(Math.max(0,he(Be,Pe))))}).attr("height",function(Be,Pe){return ee.utils.NaNtoZero(Math.abs(ge(he(Be,Pe))-ge(0)))}).attr("transform",function(Be,Pe){return"translate("+(pe(ue(Be,Pe))-.45*(Me/Ce[0].values.length))+",0)"}).on("mouseover",function(Be,Pe){ke&&(d3.select(this).classed("hover",!0),ye.elementMouseover({data:Be,index:Pe,color:d3.select(this).style("fill")}))}).on("mouseout",function(Be,Pe){ke&&(d3.select(this).classed("hover",!1),ye.elementMouseout({data:Be,index:Pe,color:d3.select(this).style("fill")}))}).on("mousemove",function(Be,Pe){ke&&ye.elementMousemove({data:Be,index:Pe,color:d3.select(this).style("fill")})}).on("click",function(Be,Pe){if(ke){var Ne=this;ye.elementClick({data:Be,index:Pe,color:d3.select(this).style("fill"),event:d3.event,element:Ne}),d3.event.stopPropagation()}}).on("dblclick",function(Be,Pe){ke&&(ye.elementDblClick({data:Be,index:Pe,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),Le.attr("fill",function(Be,Pe){return be(Be,Pe)}).attr("class",function(Be,Pe,Ne){return(0>he(Be,Pe)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+Ne+"-"+Pe}).watchTransition(we,"bars").attr("transform",function(Be,Pe){return"translate("+(pe(ue(Be,Pe))-.45*(Me/Ce[0].values.length))+",0)"}).attr("width",.9*(Me/Ce[0].values.length)),Le.watchTransition(we,"bars").attr("y",function(Be,Pe){var Ne=0>he(Be,Pe)?ge(0):1>ge(0)-ge(he(Be,Pe))?ge(0)-1:ge(he(Be,Pe));return ee.utils.NaNtoZero(Ne)}).attr("height",function(Be,Pe){return ee.utils.NaNtoZero(Math.max(Math.abs(ge(he(Be,Pe))-ge(0)),1))})}),we.renderEnd("historicalBar immediate"),te}var ae,se,ne,le,ie={top:0,right:0,bottom:0,left:0},oe=null,re=null,de=Math.floor(1e4*Math.random()),ce=null,pe=d3.scale.linear(),ge=d3.scale.linear(),ue=function(Ae){return Ae.x},he=function(Ae){return Ae.y},me=[],ve=[0],fe=!1,xe=!0,be=ee.utils.defaultColor(),ye=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),ke=!0,we=ee.utils.renderWatch(ye,0);return te.highlightPoint=function(Ae,Ce){ce.select(".nv-bars .nv-bar-0-"+Ae).classed("hover",Ce)},te.clearHighlights=function(){ce.select(".nv-bars .nv-bar.hover").classed("hover",!1)},te.dispatch=ye,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return oe},set:function(Ae){oe=Ae}},height:{get:function(){return re},set:function(Ae){re=Ae}},forceX:{get:function(){return me},set:function(Ae){me=Ae}},forceY:{get:function(){return ve},set:function(Ae){ve=Ae}},padData:{get:function(){return fe},set:function(Ae){fe=Ae}},x:{get:function(){return ue},set:function(Ae){ue=Ae}},y:{get:function(){return he},set:function(Ae){he=Ae}},xScale:{get:function(){return pe},set:function(Ae){pe=Ae}},yScale:{get:function(){return ge},set:function(Ae){ge=Ae}},xDomain:{get:function(){return ae},set:function(Ae){ae=Ae}},yDomain:{get:function(){return se},set:function(Ae){se=Ae}},xRange:{get:function(){return ne},set:function(Ae){ne=Ae}},yRange:{get:function(){return le},set:function(Ae){le=Ae}},clipEdge:{get:function(){return xe},set:function(Ae){xe=Ae}},id:{get:function(){return de},set:function(Ae){de=Ae}},interactive:{get:function(){return ke},set:function(Ae){ke=Ae}},margin:{get:function(){return ie},set:function(Ae){ie.top=void 0===Ae.top?ie.top:Ae.top,ie.right=void 0===Ae.right?ie.right:Ae.right,ie.bottom=void 0===Ae.bottom?ie.bottom:Ae.bottom,ie.left=void 0===Ae.left?ie.left:Ae.left}},color:{get:function(){return be},set:function(Ae){be=ee.utils.getColor(Ae)}}}),ee.utils.initOptions(te),te},ee.models.historicalBarChart=function(te){"use strict";function ae(Ee){return Ee.each(function(We){Se.reset(),Se.models(le),fe&&Se.models(ie),xe&&Se.models(oe);var Fe=d3.select(this);ee.utils.initSVG(Fe);var De=ee.utils.availableWidth(he,Fe,pe),_e=ee.utils.availableHeight(me,Fe,pe);if(ae.update=function(){Fe.transition().duration(Me).call(ae)},ae.container=this,ke.disabled=We.map(function(Oe){return!!Oe.disabled}),!we){for(var Le in we={},ke)we[Le]=ke[Le]instanceof Array?ke[Le].slice(0):ke[Le]}if(!(We&&We.length&&We.filter(function(Oe){return Oe.values.length}).length))return ee.utils.noData(ae,Fe),ae;Fe.selectAll(".nv-noData").remove(),se=le.xScale(),ne=le.yScale();var Be=Fe.selectAll("g.nv-wrap.nv-historicalBarChart").data([We]),Pe=Be.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),Ne=Be.select("g");Pe.append("g").attr("class","nv-x nv-axis"),Pe.append("g").attr("class","nv-y nv-axis"),Pe.append("g").attr("class","nv-barsWrap"),Pe.append("g").attr("class","nv-legendWrap"),Pe.append("g").attr("class","nv-interactive"),ve?(re.width(De),Ne.select(".nv-legendWrap").datum(We).call(re),ge||re.height()===pe.top||(pe.top=re.height(),_e=ee.utils.availableHeight(me,Fe,pe)),Be.select(".nv-legendWrap").attr("transform","translate(0,"+-pe.top+")")):Ne.select(".nv-legendWrap").selectAll("*").remove(),Be.attr("transform","translate("+pe.left+","+pe.top+")"),be&&Ne.select(".nv-y.nv-axis").attr("transform","translate("+De+",0)"),ye&&(de.width(De).height(_e).margin({left:pe.left,top:pe.top}).svgContainer(Fe).xScale(se),Be.select(".nv-interactive").call(de)),le.width(De).height(_e).color(We.map(function(Oe,ze){return Oe.color||ue(Oe,ze)}).filter(function(Oe,ze){return!We[ze].disabled}));var Te=Ne.select(".nv-barsWrap").datum(We.filter(function(Oe){return!Oe.disabled}));Te.transition().call(le),fe&&(ie.scale(se)._ticks(ee.utils.calcTicksX(De/100,We)).tickSize(-_e,0),Ne.select(".nv-x.nv-axis").attr("transform","translate(0,"+ne.range()[0]+")"),Ne.select(".nv-x.nv-axis").transition().call(ie)),xe&&(oe.scale(ne)._ticks(ee.utils.calcTicksY(_e/36,We)).tickSize(-De,0),Ne.select(".nv-y.nv-axis").transition().call(oe)),de.dispatch.on("elementMousemove",function(Oe){le.clearHighlights();var ze,Ie,Ve,He=[];We.filter(function(Ye,Xe){return Ye.seriesIndex=Xe,!Ye.disabled}).forEach(function(Ye){Ie=ee.interactiveBisect(Ye.values,Oe.pointXValue,ae.x()),le.highlightPoint(Ie,!0);var Re=Ye.values[Ie];void 0!==Re&&(void 0===ze&&(ze=Re),void 0===Ve&&(Ve=ae.xScale()(ae.x()(Re,Ie))),He.push({key:Ye.key,value:ae.y()(Re,Ie),color:ue(Ye,Ye.seriesIndex),data:Ye.values[Ie]}))});var Ge=ie.tickFormat()(ae.x()(ze,Ie));de.tooltip.valueFormatter(function(Ye){return oe.tickFormat()(Ye)}).data({value:Ge,index:Ie,series:He})(),de.renderGuideLine(Ve)}),de.dispatch.on("elementMouseout",function(){Ce.tooltipHide(),le.clearHighlights()}),re.dispatch.on("legendClick",function(Oe){Oe.disabled=!Oe.disabled,We.filter(function(Ie){return!Ie.disabled}).length||We.map(function(Ie){return Ie.disabled=!1,Be.selectAll(".nv-series").classed("disabled",!1),Ie}),ke.disabled=We.map(function(Ie){return!!Ie.disabled}),Ce.stateChange(ke),Ee.transition().call(ae)}),re.dispatch.on("legendDblclick",function(Oe){We.forEach(function(ze){ze.disabled=!0}),Oe.disabled=!1,ke.disabled=We.map(function(ze){return!!ze.disabled}),Ce.stateChange(ke),ae.update()}),Ce.on("changeState",function(Oe){"undefined"!=typeof Oe.disabled&&(We.forEach(function(ze,Ie){ze.disabled=Oe.disabled[Ie]}),ke.disabled=Oe.disabled),ae.update()})}),Se.renderEnd("historicalBarChart immediate"),ae}var se,ne,le=te||ee.models.historicalBar(),ie=ee.models.axis(),oe=ee.models.axis(),re=ee.models.legend(),de=ee.interactiveGuideline(),ce=ee.models.tooltip(),pe={top:30,right:90,bottom:50,left:90},ge=null,ue=ee.utils.defaultColor(),he=null,me=null,ve=!1,fe=!0,xe=!0,be=!1,ye=!1,ke={},we=null,Ae=null,Ce=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),Me=250;ie.orient("bottom").tickPadding(7),oe.orient(be?"right":"left"),ce.duration(0).headerEnabled(!1).valueFormatter(function(Ee,We){return oe.tickFormat()(Ee,We)}).headerFormatter(function(Ee,We){return ie.tickFormat()(Ee,We)});var Se=ee.utils.renderWatch(Ce,0);return le.dispatch.on("elementMouseover.tooltip",function(Ee){Ee.series={key:ae.x()(Ee.data),value:ae.y()(Ee.data),color:Ee.color},ce.data(Ee).hidden(!1)}),le.dispatch.on("elementMouseout.tooltip",function(){ce.hidden(!0)}),le.dispatch.on("elementMousemove.tooltip",function(){ce()}),ae.dispatch=Ce,ae.bars=le,ae.legend=re,ae.xAxis=ie,ae.yAxis=oe,ae.interactiveLayer=de,ae.tooltip=ce,ae.options=ee.utils.optionsFunc.bind(ae),ae._options=Object.create({},{width:{get:function(){return he},set:function(Ee){he=Ee}},height:{get:function(){return me},set:function(Ee){me=Ee}},showLegend:{get:function(){return ve},set:function(Ee){ve=Ee}},showXAxis:{get:function(){return fe},set:function(Ee){fe=Ee}},showYAxis:{get:function(){return xe},set:function(Ee){xe=Ee}},defaultState:{get:function(){return we},set:function(Ee){we=Ee}},noData:{get:function(){return Ae},set:function(Ee){Ae=Ee}},margin:{get:function(){return pe},set:function(Ee){void 0!==Ee.top&&(pe.top=Ee.top,ge=Ee.top),pe.right=void 0===Ee.right?pe.right:Ee.right,pe.bottom=void 0===Ee.bottom?pe.bottom:Ee.bottom,pe.left=void 0===Ee.left?pe.left:Ee.left}},color:{get:function(){return ue},set:function(Ee){ue=ee.utils.getColor(Ee),re.color(ue),le.color(ue)}},duration:{get:function(){return Me},set:function(Ee){Me=Ee,Se.reset(Me),oe.duration(Me),ie.duration(Me)}},rightAlignYAxis:{get:function(){return be},set:function(Ee){be=Ee,oe.orient(Ee?"right":"left")}},useInteractiveGuideline:{get:function(){return ye},set:function(Ee){ye=Ee,!0===Ee&&ae.interactive(!1)}}}),ee.utils.inheritOptions(ae,le),ee.utils.initOptions(ae),ae},ee.models.ohlcBarChart=function(){var te=ee.models.historicalBarChart(ee.models.ohlcBar());return te.useInteractiveGuideline(!0),te.interactiveLayer.tooltip.contentGenerator(function(ae){var se=ae.series[0].data,ne=se.open<se.close?"2ca02c":"d62728";return"<h3 style=\"color: #"+ne+"\">"+ae.value+"</h3><table><tr><td>open:</td><td>"+te.yAxis.tickFormat()(se.open)+"</td></tr><tr><td>close:</td><td>"+te.yAxis.tickFormat()(se.close)+"</td></tr><tr><td>high</td><td>"+te.yAxis.tickFormat()(se.high)+"</td></tr><tr><td>low:</td><td>"+te.yAxis.tickFormat()(se.low)+"</td></tr></table>"}),te},ee.models.candlestickBarChart=function(){var te=ee.models.historicalBarChart(ee.models.candlestickBar());return te.useInteractiveGuideline(!0),te.interactiveLayer.tooltip.contentGenerator(function(ae){var se=ae.series[0].data,ne=se.open<se.close?"2ca02c":"d62728";return"<h3 style=\"color: #"+ne+"\">"+ae.value+"</h3><table><tr><td>open:</td><td>"+te.yAxis.tickFormat()(se.open)+"</td></tr><tr><td>close:</td><td>"+te.yAxis.tickFormat()(se.close)+"</td></tr><tr><td>high</td><td>"+te.yAxis.tickFormat()(se.high)+"</td></tr><tr><td>low:</td><td>"+te.yAxis.tickFormat()(se.low)+"</td></tr></table>"}),te},ee.models.legend=function(){"use strict";function te(fe){function xe(ke,we){return"furious"==ve?he?ke.disengaged?"#000":"#fff":he?void 0:(ke.color||(ke.color=oe(ke,we)),ke.disabled?ke.color:"#fff"):"#000"}function be(ke,we){return he&&"furious"==ve&&ke.disengaged?"#eee":ke.color||oe(ke,we)}function ye(ke){return he&&"furious"==ve?1:ke.disabled?0:1}return fe.each(function(ke){var we=se-ae.left-ae.right,Ae=d3.select(this);ee.utils.initSVG(Ae);var Ce=Ae.selectAll("g.nv-legend").data([ke]),Me=Ce.enter().append("g").attr("class","nvd3 nv-legend").append("g"),Se=Ce.select("g");pe?Ce.attr("transform","translate("+-ae.right+","+ae.top+")"):Ce.attr("transform","translate("+ae.left+","+ae.top+")");var Ee,We,Fe=Se.selectAll(".nv-series").data(function(Ze){return"furious"==ve?Ze.filter(function(qe){return!!he||!qe.disengaged}):Ze}),De=Fe.enter().append("g").attr("class","nv-series");if("furious"===ve?We=23:"classic"===ve?We=20:void 0,"classic"==ve)De.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),Ee=Fe.select(".nv-legend-symbol");else if("furious"==ve){De.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),Ee=Fe.select(".nv-legend-symbol"),De.append("g").attr("class","nv-check-box").property("innerHTML","<path d=\"M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z\" class=\"nv-box\"></path><path d=\"M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511\" class=\"nv-check\"></path>").attr("transform","translate(-10,-8)scale(0.5)");var _e=Fe.select(".nv-check-box");_e.each(function(Ze,qe){d3.select(this).selectAll("path").attr("stroke",xe(Ze,qe))})}De.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var Le=Fe.select("text.nv-legend-text");Fe.on("mouseover",function(Ze,qe){me.legendMouseover(Ze,qe)}).on("mouseout",function(Ze,qe){me.legendMouseout(Ze,qe)}).on("click",function(Ze,qe){me.legendClick(Ze,qe);var Ke=Fe.data();if(ge){if("classic"==ve)ue?(Ke.forEach(function(Ue){Ue.disabled=!0}),Ze.disabled=!1):(Ze.disabled=!Ze.disabled,Ke.every(function(Ue){return Ue.disabled})&&Ke.forEach(function(Ue){Ue.disabled=!1}));else if("furious"==ve)if(he)Ze.disengaged=!Ze.disengaged,Ze.userDisabled=void 0==Ze.userDisabled?!!Ze.disabled:Ze.userDisabled,Ze.disabled=Ze.disengaged||Ze.userDisabled;else if(!he){Ze.disabled=!Ze.disabled,Ze.userDisabled=Ze.disabled;var je=Ke.filter(function(Ue){return!Ue.disengaged});je.every(function(Ue){return Ue.userDisabled})&&Ke.forEach(function(Ue){Ue.disabled=Ue.userDisabled=!1})}me.stateChange({disabled:Ke.map(function(Ue){return!!Ue.disabled}),disengaged:Ke.map(function(Ue){return!!Ue.disengaged})})}}).on("dblclick",function(Ze,qe){if(("furious"!=ve||!he)&&(me.legendDblclick(Ze,qe),ge)){var Ke=Fe.data();Ke.forEach(function(je){je.disabled=!0,"furious"==ve&&(je.userDisabled=je.disabled)}),Ze.disabled=!1,"furious"==ve&&(Ze.userDisabled=Ze.disabled),me.stateChange({disabled:Ke.map(function(je){return!!je.disabled})})}}),Fe.classed("nv-disabled",function(Ze){return Ze.userDisabled}),Fe.exit().remove(),Le.attr("fill",xe).text(function(Ze){return ie(le(Ze))});var Be=0;if(de){var Pe=[];Fe.each(function(Ze){var Ke;if(ie(le(Ze))&&ie(le(Ze)).length>re){var je=ie(le(Ze)).substring(0,re);Ke=d3.select(this).select("text").text(je+"..."),d3.select(this).append("svg:title").text(ie(le(Ze)))}else Ke=d3.select(this).select("text");var Ue;try{if(Ue=Ke.node().getComputedTextLength(),0>=Ue)throw Error()}catch(Qe){Ue=ee.utils.calcApproxTextWidth(Ke)}Pe.push(Ue+ce)});var Ne=0,Te=[];for(Be=0;we>Be&&Ne<Pe.length;)Te[Ne]=Pe[Ne],Be+=Pe[Ne++];for(0===Ne&&(Ne=1);Be>we&&1<Ne;){Te=[],Ne--;for(var Oe=0;Oe<Pe.length;Oe++)Pe[Oe]>(Te[Oe%Ne]||0)&&(Te[Oe%Ne]=Pe[Oe]);Be=Te.reduce(function(Ze,qe){return Ze+qe})}for(var ze=[],Ie=0,Ve=0;Ne>Ie;Ie++)ze[Ie]=Ve,Ve+=Te[Ie];Fe.attr("transform",function(Ze,qe){return"translate("+ze[qe%Ne]+","+(5+Math.floor(qe/Ne)*We)+")"}),pe?Se.attr("transform","translate("+(se-ae.right-Be)+","+ae.top+")"):Se.attr("transform","translate(0,"+ae.top+")"),ne=ae.top+ae.bottom+Math.ceil(Pe.length/Ne)*We}else{var He,Ge=5,Ye=5,Xe=0;Fe.attr("transform",function(){var Ke=d3.select(this).select("text").node().getComputedTextLength()+ce;return He=Ye,se<ae.left+ae.right+He+Ke&&(Ye=He=5,Ge+=We),Ye+=Ke,Ye>Xe&&(Xe=Ye),He+Xe>Be&&(Be=He+Xe),"translate("+He+","+Ge+")"}),Se.attr("transform","translate("+(se-ae.right-Xe)+","+ae.top+")"),ne=ae.top+ae.bottom+Ge+15}if("furious"==ve){Ee.attr("width",function(Ze,qe){return Le[0][qe].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),Me.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var Re=Se.select(".nv-legend-bg");Re.transition().duration(300).attr("x",-We).attr("width",Be+We-12).attr("height",ne+10).attr("y",-ae.top-10).attr("opacity",he?1:0)}Ee.style("fill",be).style("fill-opacity",ye).style("stroke",be)}),te}var ae={top:5,right:0,bottom:5,left:0},se=400,ne=20,le=function(fe){return fe.key},ie=function(fe){return fe},oe=ee.utils.getColor(),re=20,de=!0,ce=32,pe=!0,ge=!0,ue=!1,he=!1,me=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),ve="classic";return te.dispatch=me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return se},set:function(fe){se=fe}},height:{get:function(){return ne},set:function(fe){ne=fe}},key:{get:function(){return le},set:function(fe){le=fe}},keyFormatter:{get:function(){return ie},set:function(fe){ie=fe}},align:{get:function(){return de},set:function(fe){de=fe}},maxKeyLength:{get:function(){return re},set:function(fe){re=fe}},rightAlign:{get:function(){return pe},set:function(fe){pe=fe}},padding:{get:function(){return ce},set:function(fe){ce=fe}},updateState:{get:function(){return ge},set:function(fe){ge=fe}},radioButtonMode:{get:function(){return ue},set:function(fe){ue=fe}},expanded:{get:function(){return he},set:function(fe){he=fe}},vers:{get:function(){return ve},set:function(fe){ve=fe}},margin:{get:function(){return ae},set:function(fe){ae.top=void 0===fe.top?ae.top:fe.top,ae.right=void 0===fe.right?ae.right:fe.right,ae.bottom=void 0===fe.bottom?ae.bottom:fe.bottom,ae.left=void 0===fe.left?ae.left:fe.left}},color:{get:function(){return oe},set:function(fe){oe=ee.utils.getColor(fe)}}}),ee.utils.initOptions(te),te},ee.models.line=function(){"use strict";function te(we){return ke.reset(),ke.models(ne),we.each(function(Ae){re=d3.select(this);var Ce=ee.utils.availableWidth(ie,re,le),Me=ee.utils.availableHeight(oe,re,le);ee.utils.initSVG(re),ae=ne.xScale(),se=ne.yScale(),be=be||ae,ye=ye||se;var Se=re.selectAll("g.nv-wrap.nv-line").data([Ae]),Ee=Se.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),We=Ee.append("defs"),Fe=Ee.append("g"),De=Se.select("g");Fe.append("g").attr("class","nv-groups"),Fe.append("g").attr("class","nv-scatterWrap"),Se.attr("transform","translate("+le.left+","+le.top+")"),ne.width(Ce).height(Me);var _e=Se.select(".nv-scatterWrap");_e.call(ne),We.append("clipPath").attr("id","nv-edge-clip-"+ne.id()).append("rect"),Se.select("#nv-edge-clip-"+ne.id()+" rect").attr("width",Ce).attr("height",0<Me?Me:0),De.attr("clip-path",me?"url(#nv-edge-clip-"+ne.id()+")":""),_e.attr("clip-path",me?"url(#nv-edge-clip-"+ne.id()+")":"");var Le=Se.select(".nv-groups").selectAll(".nv-group").data(function(Ne){return Ne},function(Ne){return Ne.key});Le.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(Ne){return Ne.strokeWidth||de}).style("fill-opacity",1e-6),Le.exit().remove(),Le.attr("class",function(Ne,Te){return(Ne.classed||"")+" nv-group nv-series-"+Te}).classed("hover",function(Ne){return Ne.hover}).style("fill",function(Ne,Te){return ce(Ne,Te)}).style("stroke",function(Ne,Te){return ce(Ne,Te)}),Le.watchTransition(ke,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(Ne){return Ne.fillOpacity||.5});var Be=Le.selectAll("path.nv-area").data(function(Ne){return he(Ne)?[Ne]:[]});Be.enter().append("path").attr("class","nv-area").attr("d",function(Ne){return d3.svg.area().interpolate(ve).defined(ue).x(function(Te,Oe){return ee.utils.NaNtoZero(be(pe(Te,Oe)))}).y0(function(Te,Oe){return ee.utils.NaNtoZero(ye(ge(Te,Oe)))}).y1(function(){return ye(0>=se.domain()[0]?0<=se.domain()[1]?0:se.domain()[1]:se.domain()[0])}).apply(this,[Ne.values])}),Le.exit().selectAll("path.nv-area").remove(),Be.watchTransition(ke,"line: areaPaths").attr("d",function(Ne){return d3.svg.area().interpolate(ve).defined(ue).x(function(Te,Oe){return ee.utils.NaNtoZero(ae(pe(Te,Oe)))}).y0(function(Te,Oe){return ee.utils.NaNtoZero(se(ge(Te,Oe)))}).y1(function(){return se(0>=se.domain()[0]?0<=se.domain()[1]?0:se.domain()[1]:se.domain()[0])}).apply(this,[Ne.values])});var Pe=Le.selectAll("path.nv-line").data(function(Ne){return[Ne.values]});Pe.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(ve).defined(ue).x(function(Ne,Te){return ee.utils.NaNtoZero(be(pe(Ne,Te)))}).y(function(Ne,Te){return ee.utils.NaNtoZero(ye(ge(Ne,Te)))})),Pe.watchTransition(ke,"line: linePaths").attr("d",d3.svg.line().interpolate(ve).defined(ue).x(function(Ne,Te){return ee.utils.NaNtoZero(ae(pe(Ne,Te)))}).y(function(Ne,Te){return ee.utils.NaNtoZero(se(ge(Ne,Te)))})),be=ae.copy(),ye=se.copy()}),ke.renderEnd("line immediate"),te}var ae,se,ne=ee.models.scatter(),le={top:0,right:0,bottom:0,left:0},ie=960,oe=500,re=null,de=1.5,ce=ee.utils.defaultColor(),pe=function(we){return we.x},ge=function(we){return we.y},ue=function(we,Ae){return!isNaN(ge(we,Ae))&&null!==ge(we,Ae)},he=function(we){return we.area},me=!1,ve="linear",fe=250,xe=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");ne.pointSize(16).pointDomain([16,256]);var be,ye,ke=ee.utils.renderWatch(xe,fe);return te.dispatch=xe,te.scatter=ne,ne.dispatch.on("elementClick",function(){xe.elementClick.apply(this,arguments)}),ne.dispatch.on("elementMouseover",function(){xe.elementMouseover.apply(this,arguments)}),ne.dispatch.on("elementMouseout",function(){xe.elementMouseout.apply(this,arguments)}),te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ie},set:function(we){ie=we}},height:{get:function(){return oe},set:function(we){oe=we}},defined:{get:function(){return ue},set:function(we){ue=we}},interpolate:{get:function(){return ve},set:function(we){ve=we}},clipEdge:{get:function(){return me},set:function(we){me=we}},margin:{get:function(){return le},set:function(we){le.top=void 0===we.top?le.top:we.top,le.right=void 0===we.right?le.right:we.right,le.bottom=void 0===we.bottom?le.bottom:we.bottom,le.left=void 0===we.left?le.left:we.left}},duration:{get:function(){return fe},set:function(we){fe=we,ke.reset(fe),ne.duration(fe)}},isArea:{get:function(){return he},set:function(we){he=d3.functor(we)}},x:{get:function(){return pe},set:function(we){pe=we,ne.x(we)}},y:{get:function(){return ge},set:function(we){ge=we,ne.y(we)}},color:{get:function(){return ce},set:function(we){ce=ee.utils.getColor(we),ne.color(ce)}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.lineChart=function(){"use strict";function te(_e){return We.reset(),We.models(ne),xe&&We.models(le),be&&We.models(ie),_e.each(function(Le){function Be(){xe&&Ge.select(".nv-focus .nv-x.nv-axis").transition().duration(Ee).call(le)}function Pe(){be&&Ge.select(".nv-focus .nv-y.nv-axis").transition().duration(Ee).call(ie)}function Ne(Ze){var qe=Ge.select(".nv-focus .nv-linesWrap").datum(Le.filter(function(Ke){return!Ke.disabled}).map(function(Ke){return{key:Ke.key,area:Ke.area,classed:Ke.classed,values:Ke.values.filter(function(Ue,Qe){return ne.x()(Ue,Qe)>=Ze[0]&&ne.x()(Ue,Qe)<=Ze[1]}),disableTooltip:Ke.disableTooltip}}));qe.transition().duration(Ee).call(ne),Be(),Pe()}var Te=d3.select(this);ee.utils.initSVG(Te);var Oe=ee.utils.availableWidth(he,Te,pe),ze=ee.utils.availableHeight(me,Te,pe)-(we?ce.height():0);if(te.update=function(){0===Ee?Te.call(te):Te.transition().duration(Ee).call(te)},te.container=this,Ae.setter(De(Le),te.update).getter(Fe(Le)).update(),Ae.disabled=Le.map(function(Ze){return!!Ze.disabled}),!Ce){for(var Ie in Ce={},Ae)Ce[Ie]=Ae[Ie]instanceof Array?Ae[Ie].slice(0):Ae[Ie]}if(!(Le&&Le.length&&Le.filter(function(Ze){return Ze.values.length}).length))return ee.utils.noData(te,Te),te;Te.selectAll(".nv-noData").remove(),ce.dispatch.on("onBrush",function(Ze){Ne(Ze)}),ae=ne.xScale(),se=ne.yScale();var Ve=Te.selectAll("g.nv-wrap.nv-lineChart").data([Le]),He=Ve.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),Ge=Ve.select("g");He.append("g").attr("class","nv-legendWrap");var Ye=He.append("g").attr("class","nv-focus");Ye.append("g").attr("class","nv-background").append("rect"),Ye.append("g").attr("class","nv-x nv-axis"),Ye.append("g").attr("class","nv-y nv-axis"),Ye.append("g").attr("class","nv-linesWrap"),Ye.append("g").attr("class","nv-interactive"),He.append("g").attr("class","nv-focusWrap"),ve?(oe.width(Oe),Ge.select(".nv-legendWrap").datum(Le).call(oe),"bottom"===fe?Ve.select(".nv-legendWrap").attr("transform","translate(0,"+ze+")"):"top"===fe&&(ge||oe.height()===pe.top||(pe.top=oe.height(),ze=ee.utils.availableHeight(me,Te,pe)-(we?ce.height():0)),Ve.select(".nv-legendWrap").attr("transform","translate(0,"+-pe.top+")"))):Ge.select(".nv-legendWrap").selectAll("*").remove(),Ve.attr("transform","translate("+pe.left+","+pe.top+")"),ye&&Ge.select(".nv-y.nv-axis").attr("transform","translate("+Oe+",0)"),ke&&(re.width(Oe).height(ze).margin({left:pe.left,top:pe.top}).svgContainer(Te).xScale(ae),Ve.select(".nv-interactive").call(re)),Ge.select(".nv-focus .nv-background rect").attr("width",Oe).attr("height",ze),ne.width(Oe).height(ze).color(Le.map(function(Ze,qe){return Ze.color||ue(Ze,qe)}).filter(function(Ze,qe){return!Le[qe].disabled}));var Xe=Ge.select(".nv-linesWrap").datum(Le.filter(function(Ze){return!Ze.disabled}));if(xe&&le.scale(ae)._ticks(ee.utils.calcTicksX(Oe/100,Le)).tickSize(-ze,0),be&&ie.scale(se)._ticks(ee.utils.calcTicksY(ze/36,Le)).tickSize(-Oe,0),Ge.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+ze+")"),we){ce.width(Oe),Ge.select(".nv-focusWrap").attr("transform","translate(0,"+(ze+pe.bottom+ce.margin().top)+")").datum(Le.filter(function(Ze){return!Ze.disabled})).call(ce);var Re=ce.brush.empty()?ce.xDomain():ce.brush.extent();null!==Re&&Ne(Re)}else Xe.call(ne),Be(),Pe();oe.dispatch.on("stateChange",function(Ze){for(var qe in Ze)Ae[qe]=Ze[qe];Se.stateChange(Ae),te.update()}),re.dispatch.on("elementMousemove",function(Ze){ne.clearHighlights();var qe,Ke,je,Ue=[];if(Le.filter(function(at,st){return at.seriesIndex=st,!at.disabled&&!at.disableTooltip}).forEach(function(at,st){var nt=we?ce.brush.empty()?ce.xScale().domain():ce.brush.extent():ae.domain(),lt=at.values.filter(function(rt,dt){return nt[0]<=nt[1]?ne.x()(rt,dt)>=nt[0]&&ne.x()(rt,dt)<=nt[1]:ne.x()(rt,dt)>=nt[1]&&ne.x()(rt,dt)<=nt[0]});Ke=ee.interactiveBisect(lt,Ze.pointXValue,ne.x());var it=lt[Ke],ot=te.y()(it,Ke);null!==ot&&ne.highlightPoint(st,Ke,!0),void 0!==it&&(void 0===qe&&(qe=it),void 0===je&&(je=te.xScale()(te.x()(it,Ke))),Ue.push({key:at.key,value:ot,color:ue(at,at.seriesIndex),data:it}))}),2<Ue.length){var Qe=te.yScale().invert(Ze.mouseY),Je=Math.abs(te.yScale().domain()[0]-te.yScale().domain()[1]),et=ee.nearestValueIndex(Ue.map(function(at){return at.value}),Qe,.03*Je);null!==et&&(Ue[et].highlight=!0)}re.tooltip.valueFormatter(re.tooltip.valueFormatter()||function(at){return null==at?"N/A":ie.tickFormat()(at)}).data({value:te.x()(qe,Ke),index:Ke,series:Ue})(),re.renderGuideLine(je)}),re.dispatch.on("elementClick",function(Ze){var qe,Ke=[];Le.filter(function(je,Ue){return je.seriesIndex=Ue,!je.disabled}).forEach(function(je){var Ue=ee.interactiveBisect(je.values,Ze.pointXValue,te.x()),Qe=je.values[Ue];if("undefined"!=typeof Qe){"undefined"==typeof qe&&(qe=te.xScale()(te.x()(Qe,Ue)));var Je=te.yScale()(te.y()(Qe,Ue));Ke.push({point:Qe,pointIndex:Ue,pos:[qe,Je],seriesIndex:je.seriesIndex,series:je})}}),ne.dispatch.elementClick(Ke)}),re.dispatch.on("elementMouseout",function(){ne.clearHighlights()}),Se.on("changeState",function(Ze){"undefined"!=typeof Ze.disabled&&Le.length===Ze.disabled.length&&(Le.forEach(function(qe,Ke){qe.disabled=Ze.disabled[Ke]}),Ae.disabled=Ze.disabled),te.update()})}),We.renderEnd("lineChart immediate"),te}var ae,se,ne=ee.models.line(),le=ee.models.axis(),ie=ee.models.axis(),oe=ee.models.legend(),re=ee.interactiveGuideline(),de=ee.models.tooltip(),ce=ee.models.focus(ee.models.line()),pe={top:30,right:20,bottom:50,left:60},ge=null,ue=ee.utils.defaultColor(),he=null,me=null,ve=!0,fe="top",xe=!0,be=!0,ye=!1,ke=!1,we=!1,Ae=ee.utils.state(),Ce=null,Me=null,Se=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),Ee=250;le.orient("bottom").tickPadding(7),ie.orient(ye?"right":"left"),ne.clipEdge(!0).duration(0),de.valueFormatter(function(_e,Le){return ie.tickFormat()(_e,Le)}).headerFormatter(function(_e,Le){return le.tickFormat()(_e,Le)}),re.tooltip.valueFormatter(function(_e,Le){return ie.tickFormat()(_e,Le)}).headerFormatter(function(_e,Le){return le.tickFormat()(_e,Le)});var We=ee.utils.renderWatch(Se,Ee),Fe=function(_e){return function(){return{active:_e.map(function(Le){return!Le.disabled})}}},De=function(_e){return function(Le){void 0!==Le.active&&_e.forEach(function(Be,Pe){Be.disabled=!Le.active[Pe]})}};return ne.dispatch.on("elementMouseover.tooltip",function(_e){_e.series.disableTooltip||de.data(_e).hidden(!1)}),ne.dispatch.on("elementMouseout.tooltip",function(){de.hidden(!0)}),te.dispatch=Se,te.lines=ne,te.legend=oe,te.focus=ce,te.xAxis=le,te.x2Axis=ce.xAxis,te.yAxis=ie,te.y2Axis=ce.yAxis,te.interactiveLayer=re,te.tooltip=de,te.state=Ae,te.dispatch=Se,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return he},set:function(_e){he=_e}},height:{get:function(){return me},set:function(_e){me=_e}},showLegend:{get:function(){return ve},set:function(_e){ve=_e}},legendPosition:{get:function(){return fe},set:function(_e){fe=_e}},showXAxis:{get:function(){return xe},set:function(_e){xe=_e}},showYAxis:{get:function(){return be},set:function(_e){be=_e}},defaultState:{get:function(){return Ce},set:function(_e){Ce=_e}},noData:{get:function(){return Me},set:function(_e){Me=_e}},focusEnable:{get:function(){return we},set:function(_e){we=_e}},focusHeight:{get:function(){return ce.height()},set:function(_e){ce.height(_e)}},focusShowAxisX:{get:function(){return ce.showXAxis()},set:function(_e){ce.showXAxis(_e)}},focusShowAxisY:{get:function(){return ce.showYAxis()},set:function(_e){ce.showYAxis(_e)}},brushExtent:{get:function(){return ce.brushExtent()},set:function(_e){ce.brushExtent(_e)}},focusMargin:{get:function(){return ce.margin},set:function(_e){void 0!==_e.top&&(pe.top=_e.top,ge=_e.top),ce.margin.right=void 0===_e.right?ce.margin.right:_e.right,ce.margin.bottom=void 0===_e.bottom?ce.margin.bottom:_e.bottom,ce.margin.left=void 0===_e.left?ce.margin.left:_e.left}},margin:{get:function(){return pe},set:function(_e){pe.top=void 0===_e.top?pe.top:_e.top,pe.right=void 0===_e.right?pe.right:_e.right,pe.bottom=void 0===_e.bottom?pe.bottom:_e.bottom,pe.left=void 0===_e.left?pe.left:_e.left}},duration:{get:function(){return Ee},set:function(_e){Ee=_e,We.reset(Ee),ne.duration(Ee),ce.duration(Ee),le.duration(Ee),ie.duration(Ee)}},color:{get:function(){return ue},set:function(_e){ue=ee.utils.getColor(_e),oe.color(ue),ne.color(ue),ce.color(ue)}},interpolate:{get:function(){return ne.interpolate()},set:function(_e){ne.interpolate(_e),ce.interpolate(_e)}},xTickFormat:{get:function(){return le.tickFormat()},set:function(_e){le.tickFormat(_e),ce.xTickFormat(_e)}},yTickFormat:{get:function(){return ie.tickFormat()},set:function(_e){ie.tickFormat(_e),ce.yTickFormat(_e)}},x:{get:function(){return ne.x()},set:function(_e){ne.x(_e),ce.x(_e)}},y:{get:function(){return ne.y()},set:function(_e){ne.y(_e),ce.y(_e)}},rightAlignYAxis:{get:function(){return ye},set:function(_e){ye=_e,ie.orient(ye?"right":"left")}},useInteractiveGuideline:{get:function(){return ke},set:function(_e){ke=_e,ke&&(ne.interactive(!1),ne.useVoronoi(!1))}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.lineWithFocusChart=function(){return ee.models.lineChart().margin({bottom:30}).focusEnable(!0)},ee.models.linePlusBarChart=function(){"use strict";function te(je){return je.each(function(Ue){function Je(){ye.empty()||ye.extent(Ne),xt.data([ye.empty()?ne.domain():Ne]).each(function(kt){var At=ne(kt[0])-ne.range()[0],Ct=ne.range()[1]-ne(kt[1]);d3.select(this).select(".left").attr("width",0>At?0:At),d3.select(this).select(".right").attr("x",ne(kt[1])).attr("width",0>Ct?0:Ct)})}function $e(){Ne=ye.empty()?null:ye.extent(),ae=ye.empty()?ne.domain():ye.extent(),Oe.brush({extent:ae,brush:ye}),Je(),pe.width(tt).height(at).color(Ue.map(function(Et,Wt){return Et.color||Fe(Et,Wt)}).filter(function(Et,Wt){return!Ue[Wt].disabled&&Ue[Wt].bar})),de.width(tt).height(at).color(Ue.map(function(Et,Wt){return Et.color||Fe(Et,Wt)}).filter(function(Et,Wt){return!Ue[Wt].disabled&&!Ue[Wt].bar}));var kt=pt.select(".nv-focus .nv-barsWrap").datum(lt.length?lt.map(function(Et){return{key:Et.key,values:Et.values.filter(function(Ft,Dt){return pe.x()(Ft,Dt)>=ae[0]&&pe.x()(Ft,Dt)<=ae[1]})}}):[{values:[]}]),wt=pt.select(".nv-focus .nv-linesWrap").datum(Ke(it)?[{values:[]}]:it.filter(function(Et){return!Et.disabled}).map(function(Et){return{area:Et.area,fillOpacity:Et.fillOpacity,strokeWidth:Et.strokeWidth,key:Et.key,values:Et.values.filter(function(Ft,Dt){return de.x()(Ft,Dt)>=ae[0]&&de.x()(Ft,Dt)<=ae[1]})}}));se=lt.length&&!Ye?pe.xScale():de.xScale(),ue.scale(se)._ticks(ee.utils.calcTicksX(tt/100,Ue)).tickSize(-at,0),ue.domain([Math.ceil(ae[0]),Math.floor(ae[1])]),pt.select(".nv-x.nv-axis").transition().duration(ze).call(ue),kt.transition().duration(ze).call(pe),wt.transition().duration(ze).call(de),pt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+le.range()[0]+")"),me.scale(le)._ticks(ee.utils.calcTicksY(at/36,Ue)).tickSize(-tt,0),ve.scale(ie)._ticks(ee.utils.calcTicksY(at/36,Ue)),Ye?ve.tickSize(it.length?0:-tt,0):ve.tickSize(lt.length?0:-tt,0);var At=lt.length?1:0,Ct=it.length&&!Ke(it)?1:0,Mt=Ye?Ct:At,St=Ye?At:Ct;pt.select(".nv-focus .nv-y1.nv-axis").style("opacity",Mt),pt.select(".nv-focus .nv-y2.nv-axis").style("opacity",St).attr("transform","translate("+se.range()[1]+",0)"),pt.select(".nv-focus .nv-y1.nv-axis").transition().duration(ze).call(me),pt.select(".nv-focus .nv-y2.nv-axis").transition().duration(ze).call(ve)}var et=d3.select(this);ee.utils.initSVG(et);var tt=ee.utils.availableWidth(Me,et,we),at=ee.utils.availableHeight(Se,et,we)-(_e?Pe:0),st=Pe-Ce.top-Ce.bottom;if(te.update=function(){et.transition().duration(ze).call(te)},te.container=this,Ie.setter(qe(Ue),te.update).getter(Ze(Ue)).update(),Ie.disabled=Ue.map(function(kt){return!!kt.disabled}),!Ve){for(var nt in Ve={},Ie)Ve[nt]=Ie[nt]instanceof Array?Ie[nt].slice(0):Ie[nt]}if(!(Ue&&Ue.length&&Ue.filter(function(kt){return kt.values.length}).length))return ee.utils.noData(te,et),te;et.selectAll(".nv-noData").remove();var lt=Ue.filter(function(kt){return!kt.disabled&&kt.bar}),it=Ue.filter(function(kt){return!kt.bar});se=lt.length&&!Ye?pe.xScale():de.xScale(),ne=he.scale(),le=Ye?de.yScale():pe.yScale(),ie=Ye?pe.yScale():de.yScale(),oe=Ye?ce.yScale():ge.yScale(),re=Ye?ge.yScale():ce.yScale();var ot=Ue.filter(function(kt){return!kt.disabled&&(Ye?!kt.bar:kt.bar)}).map(function(kt){return kt.values.map(function(wt,At){return{x:Ee(wt,At),y:We(wt,At)}})}),rt=Ue.filter(function(kt){return!kt.disabled&&(Ye?kt.bar:!kt.bar)}).map(function(kt){return kt.values.map(function(wt,At){return{x:Ee(wt,At),y:We(wt,At)}})});se.range([0,tt]),ne.domain(d3.extent(d3.merge(ot.concat(rt)),function(kt){return kt.x})).range([0,tt]);var dt=et.selectAll("g.nv-wrap.nv-linePlusBar").data([Ue]),ct=dt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),pt=dt.select("g");ct.append("g").attr("class","nv-legendWrap");var gt=ct.append("g").attr("class","nv-focus");gt.append("g").attr("class","nv-x nv-axis"),gt.append("g").attr("class","nv-y1 nv-axis"),gt.append("g").attr("class","nv-y2 nv-axis"),gt.append("g").attr("class","nv-barsWrap"),gt.append("g").attr("class","nv-linesWrap");var ut=ct.append("g").attr("class","nv-context");if(ut.append("g").attr("class","nv-x nv-axis"),ut.append("g").attr("class","nv-y1 nv-axis"),ut.append("g").attr("class","nv-y2 nv-axis"),ut.append("g").attr("class","nv-barsWrap"),ut.append("g").attr("class","nv-linesWrap"),ut.append("g").attr("class","nv-brushBackground"),ut.append("g").attr("class","nv-x nv-brush"),De){var ht=be.align()?tt/2:tt,mt=be.align()?ht:0;be.width(ht),pt.select(".nv-legendWrap").datum(Ue.map(function(kt){return kt.originalKey=void 0===kt.originalKey?kt.key:kt.originalKey,kt.key=Ye?kt.originalKey+(kt.bar?Ge:He):kt.originalKey+(kt.bar?He:Ge),kt})).call(be),Ae||be.height()===we.top||(we.top=be.height(),at=ee.utils.availableHeight(Se,et,we)-Pe),pt.select(".nv-legendWrap").attr("transform","translate("+mt+","+-we.top+")")}else pt.select(".nv-legendWrap").selectAll("*").remove();dt.attr("transform","translate("+we.left+","+we.top+")"),pt.select(".nv-context").style("display",_e?"initial":"none"),ge.width(tt).height(st).color(Ue.map(function(kt,wt){return kt.color||Fe(kt,wt)}).filter(function(kt,wt){return!Ue[wt].disabled&&Ue[wt].bar})),ce.width(tt).height(st).color(Ue.map(function(kt,wt){return kt.color||Fe(kt,wt)}).filter(function(kt,wt){return!Ue[wt].disabled&&!Ue[wt].bar}));var vt=pt.select(".nv-context .nv-barsWrap").datum(lt.length?lt:[{values:[]}]),ft=pt.select(".nv-context .nv-linesWrap").datum(Ke(it)?[{values:[]}]:it.filter(function(kt){return!kt.disabled}));pt.select(".nv-context").attr("transform","translate(0,"+(at+we.bottom+Ce.top)+")"),vt.transition().call(ge),ft.transition().call(ce),Be&&(he._ticks(ee.utils.calcTicksX(tt/100,Ue)).tickSize(-st,0),pt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+oe.range()[0]+")"),pt.select(".nv-context .nv-x.nv-axis").transition().call(he)),Le&&(fe.scale(oe)._ticks(st/36).tickSize(-tt,0),xe.scale(re)._ticks(st/36).tickSize(lt.length?0:-tt,0),pt.select(".nv-context .nv-y3.nv-axis").style("opacity",lt.length?1:0).attr("transform","translate(0,"+ne.range()[0]+")"),pt.select(".nv-context .nv-y2.nv-axis").style("opacity",it.length?1:0).attr("transform","translate("+ne.range()[1]+",0)"),pt.select(".nv-context .nv-y1.nv-axis").transition().call(fe),pt.select(".nv-context .nv-y2.nv-axis").transition().call(xe)),ye.x(ne).on("brush",$e),Ne&&ye.extent(Ne);var xt=pt.select(".nv-brushBackground").selectAll("g").data([Ne||ye.extent()]),bt=xt.enter().append("g");bt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",st),bt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",st);var yt=pt.select(".nv-x.nv-brush").call(ye);yt.selectAll("rect").attr("height",st),yt.selectAll(".resize").append("path").attr("d",function(kt){var wt=+("e"==kt),At=wt?1:-1,Ct=st/3;return"M"+.5*At+","+Ct+"A6,6 0 0 "+wt+" "+6.5*At+","+(Ct+6)+"V"+(2*Ct-6)+"A6,6 0 0 "+wt+" "+.5*At+","+2*Ct+"ZM"+2.5*At+","+(Ct+8)+"V"+(2*Ct-8)+"M"+4.5*At+","+(Ct+8)+"V"+(2*Ct-8)}),be.dispatch.on("stateChange",function(kt){for(var wt in kt)Ie[wt]=kt[wt];Oe.stateChange(Ie),te.update()}),Oe.on("changeState",function(kt){"undefined"!=typeof kt.disabled&&(Ue.forEach(function(wt,At){wt.disabled=kt.disabled[At]}),Ie.disabled=kt.disabled),te.update()}),$e()}),te}var ae,se,ne,le,ie,oe,re,de=ee.models.line(),ce=ee.models.line(),pe=ee.models.historicalBar(),ge=ee.models.historicalBar(),ue=ee.models.axis(),he=ee.models.axis(),me=ee.models.axis(),ve=ee.models.axis(),fe=ee.models.axis(),xe=ee.models.axis(),be=ee.models.legend(),ye=d3.svg.brush(),ke=ee.models.tooltip(),we={top:30,right:30,bottom:30,left:60},Ae=null,Ce={top:0,right:30,bottom:20,left:60},Me=null,Se=null,Ee=function(je){return je.x},We=function(je){return je.y},Fe=ee.utils.defaultColor(),De=!0,_e=!0,Le=!1,Be=!0,Pe=50,Ne=null,Te=null,Oe=d3.dispatch("brush","stateChange","changeState"),ze=0,Ie=ee.utils.state(),Ve=null,He=" (left axis)",Ge=" (right axis)",Ye=!1;de.clipEdge(!0),ce.interactive(!1),ce.pointActive(function(){return!1}),ue.orient("bottom").tickPadding(5),me.orient("left"),ve.orient("right"),he.orient("bottom").tickPadding(5),fe.orient("left"),xe.orient("right"),ke.headerEnabled(!0).headerFormatter(function(je,Ue){return ue.tickFormat()(je,Ue)});var Xe=function(){return Ye?{main:ve,focus:xe}:{main:me,focus:fe}},Re=function(){return Ye?{main:me,focus:fe}:{main:ve,focus:xe}},Ze=function(je){return function(){return{active:je.map(function(Ue){return!Ue.disabled})}}},qe=function(je){return function(Ue){void 0!==Ue.active&&je.forEach(function(Qe,Je){Qe.disabled=!Ue.active[Je]})}},Ke=function(je){return je.every(function(Ue){return Ue.disabled})};return de.dispatch.on("elementMouseover.tooltip",function(je){ke.duration(100).valueFormatter(function(Ue,Qe){return Re().main.tickFormat()(Ue,Qe)}).data(je).hidden(!1)}),de.dispatch.on("elementMouseout.tooltip",function(){ke.hidden(!0)}),pe.dispatch.on("elementMouseover.tooltip",function(je){je.value=te.x()(je.data),je.series={value:te.y()(je.data),color:je.color},ke.duration(0).valueFormatter(function(Ue,Qe){return Xe().main.tickFormat()(Ue,Qe)}).data(je).hidden(!1)}),pe.dispatch.on("elementMouseout.tooltip",function(){ke.hidden(!0)}),pe.dispatch.on("elementMousemove.tooltip",function(){ke()}),te.dispatch=Oe,te.legend=be,te.lines=de,te.lines2=ce,te.bars=pe,te.bars2=ge,te.xAxis=ue,te.x2Axis=he,te.y1Axis=me,te.y2Axis=ve,te.y3Axis=fe,te.y4Axis=xe,te.tooltip=ke,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return Me},set:function(je){Me=je}},height:{get:function(){return Se},set:function(je){Se=je}},showLegend:{get:function(){return De},set:function(je){De=je}},brushExtent:{get:function(){return Ne},set:function(je){Ne=je}},noData:{get:function(){return Te},set:function(je){Te=je}},focusEnable:{get:function(){return _e},set:function(je){_e=je}},focusHeight:{get:function(){return Pe},set:function(je){Pe=je}},focusShowAxisX:{get:function(){return Be},set:function(je){Be=je}},focusShowAxisY:{get:function(){return Le},set:function(je){Le=je}},legendLeftAxisHint:{get:function(){return He},set:function(je){He=je}},legendRightAxisHint:{get:function(){return Ge},set:function(je){Ge=je}},margin:{get:function(){return we},set:function(je){void 0!==je.top&&(we.top=je.top,Ae=je.top),we.right=void 0===je.right?we.right:je.right,we.bottom=void 0===je.bottom?we.bottom:je.bottom,we.left=void 0===je.left?we.left:je.left}},focusMargin:{get:function(){return Ce},set:function(je){Ce.top=void 0===je.top?Ce.top:je.top,Ce.right=void 0===je.right?Ce.right:je.right,Ce.bottom=void 0===je.bottom?Ce.bottom:je.bottom,Ce.left=void 0===je.left?Ce.left:je.left}},duration:{get:function(){return ze},set:function(je){ze=je}},color:{get:function(){return Fe},set:function(je){Fe=ee.utils.getColor(je),be.color(Fe)}},x:{get:function(){return Ee},set:function(je){Ee=je,de.x(je),ce.x(je),pe.x(je),ge.x(je)}},y:{get:function(){return We},set:function(je){We=je,de.y(je),ce.y(je),pe.y(je),ge.y(je)}},switchYAxisOrder:{get:function(){return Ye},set:function(je){if(Ye!==je){var Ue=me;me=ve,ve=Ue;var Qe=fe;fe=xe,xe=Qe}Ye=je,me.orient("left"),ve.orient("right"),fe.orient("left"),xe.orient("right")}}}),ee.utils.inheritOptions(te,de),ee.utils.initOptions(te),te},ee.models.multiBar=function(){"use strict";function te(_e){return Fe.reset(),_e.each(function(Le){var Be=ce-de.left-de.right,Pe=pe-de.top-de.bottom;me=d3.select(this),ee.utils.initSVG(me);var Ne=0;if(Ae&&Le.length&&(Ae=[{values:Le[0].values.map(function(qe){return{x:qe.x,y:0,series:qe.series,size:.01}})}]),ye){var Te=d3.layout.stack().offset(ke).values(function(qe){return qe.values}).y(fe)(!Le.length&&Ae?Ae:Le);Te.forEach(function(qe,Ke){qe.nonStackable?(Le[Ke].nonStackableSeries=Ne++,Te[Ke]=Le[Ke]):0<Ke&&Te[Ke-1].nonStackable&&Te[Ke].values.map(function(je,Ue){je.y0-=Te[Ke-1].values[Ue].y,je.y1=je.y0+je.y})}),Le=Te}Le.forEach(function(qe,Ke){qe.values.forEach(function(je){je.series=Ke,je.key=qe.key})}),ye&&0<Le.length&&Le[0].values.map(function(qe,Ke){var je=0,Ue=0;Le.map(function(Qe,Je){if(!Le[Je].nonStackable){var $e=Qe.values[Ke];$e.size=Math.abs($e.y),0>$e.y?($e.y1=Ue,Ue-=$e.size):($e.y1=$e.size+je,je+=$e.size)}})});var Oe=se&&ne?[]:Le.map(function(qe,Ke){return qe.values.map(function(je,Ue){return{x:ve(je,Ue),y:fe(je,Ue),y0:je.y0,y1:je.y1,idx:Ke}})});ge.domain(se||d3.merge(Oe).map(function(qe){return qe.x})).rangeBands(le||[0,Be],Se),ue.domain(ne||d3.extent(d3.merge(Oe).map(function(qe){var Ke=qe.y;return ye&&!Le[qe.idx].nonStackable&&(Ke=0<qe.y?qe.y1:qe.y1+qe.y),Ke}).concat(xe))).range(ie||[Pe,0]),ge.domain()[0]===ge.domain()[1]&&(ge.domain()[0]?ge.domain([ge.domain()[0]-.01*ge.domain()[0],ge.domain()[1]+.01*ge.domain()[1]]):ge.domain([-1,1])),ue.domain()[0]===ue.domain()[1]&&(ue.domain()[0]?ue.domain([ue.domain()[0]+.01*ue.domain()[0],ue.domain()[1]-.01*ue.domain()[1]]):ue.domain([-1,1])),oe=oe||ge,re=re||ue;var ze=me.selectAll("g.nv-wrap.nv-multibar").data([Le]),Ie=ze.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),Ve=Ie.append("defs"),He=Ie.append("g"),Ge=ze.select("g");He.append("g").attr("class","nv-groups"),ze.attr("transform","translate("+de.left+","+de.top+")"),Ve.append("clipPath").attr("id","nv-edge-clip-"+he).append("rect"),ze.select("#nv-edge-clip-"+he+" rect").attr("width",Be).attr("height",Pe),Ge.attr("clip-path",be?"url(#nv-edge-clip-"+he+")":"");var Ye=ze.select(".nv-groups").selectAll(".nv-group").data(function(qe){return qe},function(qe,Ke){return Ke});Ye.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var Xe=Fe.transition(Ye.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,Me)).attr("y",function(qe){var Ue=re(0)||0;return ye&&Le[qe.series]&&!Le[qe.series].nonStackable&&(Ue=re(qe.y0)),Ue}).attr("height",0).remove();Xe.delay&&Xe.delay(function(qe,Ke){var je=Ke*(Me/(De+1))-Ke;return je}),Ye.attr("class",function(qe,Ke){return"nv-group nv-series-"+Ke}).classed("hover",function(qe){return qe.hover}).style("fill",function(qe,Ke){return we(qe,Ke)}).style("stroke",function(qe,Ke){return we(qe,Ke)}),Ye.style("stroke-opacity",1).style("fill-opacity",Ee);var Re=Ye.selectAll("rect.nv-bar").data(function(qe){return Ae&&!Le.length?Ae.values:qe.values});Re.exit().remove(),Re.enter().append("rect").attr("class",function(qe,Ke){return 0>fe(qe,Ke)?"nv-bar negative":"nv-bar positive"}).attr("x",function(qe,Ke,je){return ye&&!Le[je].nonStackable?0:je*ge.rangeBand()/Le.length}).attr("y",function(qe,Ke,je){return re(ye&&!Le[je].nonStackable?qe.y0:0)||0}).attr("height",0).attr("width",function(qe,Ke,je){return ge.rangeBand()/(ye&&!Le[je].nonStackable?1:Le.length)}).attr("transform",function(qe,Ke){return"translate("+ge(ve(qe,Ke))+",0)"}),Re.style("fill",function(qe,Ke,je){return we(qe,je,Ke)}).style("stroke",function(qe,Ke,je){return we(qe,je,Ke)}).on("mouseover",function(qe,Ke){d3.select(this).classed("hover",!0),We.elementMouseover({data:qe,index:Ke,color:d3.select(this).style("fill")})}).on("mouseout",function(qe,Ke){d3.select(this).classed("hover",!1),We.elementMouseout({data:qe,index:Ke,color:d3.select(this).style("fill")})}).on("mousemove",function(qe,Ke){We.elementMousemove({data:qe,index:Ke,color:d3.select(this).style("fill")})}).on("click",function(qe,Ke){var je=this;We.elementClick({data:qe,index:Ke,color:d3.select(this).style("fill"),event:d3.event,element:je}),d3.event.stopPropagation()}).on("dblclick",function(qe,Ke){We.elementDblClick({data:qe,index:Ke,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),Re.attr("class",function(qe,Ke){return 0>fe(qe,Ke)?"nv-bar negative":"nv-bar positive"}).attr("transform",function(qe,Ke){return"translate("+ge(ve(qe,Ke))+",0)"}),Ce&&(ae||(ae=Le.map(function(){return!0})),Re.style("fill",function(qe,Ke,je){return d3.rgb(Ce(qe,Ke)).darker(ae.map(function(Ue,Qe){return Qe}).filter(function(Ue,Qe){return!ae[Qe]})[je]).toString()}).style("stroke",function(qe,Ke,je){return d3.rgb(Ce(qe,Ke)).darker(ae.map(function(Ue,Qe){return Qe}).filter(function(Ue,Qe){return!ae[Qe]})[je]).toString()}));var Ze=Re.watchTransition(Fe,"multibar",Math.min(250,Me)).delay(function(qe,Ke){return Ke*Me/Le[0].values.length});ye?Ze.attr("y",function(qe,Ke,je){var Ue=0;return Ue=Le[je].nonStackable?0>fe(qe,Ke)?ue(0):-1>ue(0)-ue(fe(qe,Ke))?ue(0)-1:ue(fe(qe,Ke))||0:ue(qe.y1)}).attr("height",function(qe,Ke,je){return Le[je].nonStackable?Math.max(Math.abs(ue(fe(qe,Ke))-ue(0)),0)||0:Math.max(Math.abs(ue(qe.y+qe.y0)-ue(qe.y0)),0)}).attr("x",function(qe,Ke,je){var Ue=0;return Le[je].nonStackable&&(Ue=qe.series*ge.rangeBand()/Le.length,Le.length!==Ne&&(Ue=Le[je].nonStackableSeries*ge.rangeBand()/(2*Ne))),Ue}).attr("width",function(qe,Ke,je){if(Le[je].nonStackable){var Ue=ge.rangeBand()/Ne;return Le.length!==Ne&&(Ue=ge.rangeBand()/(2*Ne)),Ue}return ge.rangeBand()}):Ze.attr("x",function(qe){return qe.series*ge.rangeBand()/Le.length}).attr("width",ge.rangeBand()/Le.length).attr("y",function(qe,Ke){return 0>fe(qe,Ke)?ue(0):1>ue(0)-ue(fe(qe,Ke))?ue(0)-1:ue(fe(qe,Ke))||0}).attr("height",function(qe,Ke){return Math.max(Math.abs(ue(fe(qe,Ke))-ue(0)),1)||0}),oe=ge.copy(),re=ue.copy(),Le[0]&&Le[0].values&&(De=Le[0].values.length)}),Fe.renderEnd("multibar immediate"),te}var ae,se,ne,le,ie,oe,re,de={top:0,right:0,bottom:0,left:0},ce=960,pe=500,ge=d3.scale.ordinal(),ue=d3.scale.linear(),he=Math.floor(1e4*Math.random()),me=null,ve=function(_e){return _e.x},fe=function(_e){return _e.y},xe=[0],be=!0,ye=!1,ke="zero",we=ee.utils.defaultColor(),Ae=!1,Ce=null,Me=500,Se=.1,Ee=.75,We=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),Fe=ee.utils.renderWatch(We,Me),De=0;return te.dispatch=We,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ce},set:function(_e){ce=_e}},height:{get:function(){return pe},set:function(_e){pe=_e}},x:{get:function(){return ve},set:function(_e){ve=_e}},y:{get:function(){return fe},set:function(_e){fe=_e}},xScale:{get:function(){return ge},set:function(_e){ge=_e}},yScale:{get:function(){return ue},set:function(_e){ue=_e}},xDomain:{get:function(){return se},set:function(_e){se=_e}},yDomain:{get:function(){return ne},set:function(_e){ne=_e}},xRange:{get:function(){return le},set:function(_e){le=_e}},yRange:{get:function(){return ie},set:function(_e){ie=_e}},forceY:{get:function(){return xe},set:function(_e){xe=_e}},stacked:{get:function(){return ye},set:function(_e){ye=_e}},stackOffset:{get:function(){return ke},set:function(_e){ke=_e}},clipEdge:{get:function(){return be},set:function(_e){be=_e}},disabled:{get:function(){return ae},set:function(_e){ae=_e}},id:{get:function(){return he},set:function(_e){he=_e}},hideable:{get:function(){return Ae},set:function(_e){Ae=_e}},groupSpacing:{get:function(){return Se},set:function(_e){Se=_e}},fillOpacity:{get:function(){return Ee},set:function(_e){Ee=_e}},margin:{get:function(){return de},set:function(_e){de.top=void 0===_e.top?de.top:_e.top,de.right=void 0===_e.right?de.right:_e.right,de.bottom=void 0===_e.bottom?de.bottom:_e.bottom,de.left=void 0===_e.left?de.left:_e.left}},duration:{get:function(){return Me},set:function(_e){Me=_e,Fe.reset(Me)}},color:{get:function(){return we},set:function(_e){we=ee.utils.getColor(_e)}},barColor:{get:function(){return Ce},set:function(_e){Ce=_e?ee.utils.getColor(_e):null}}}),ee.utils.initOptions(te),te},ee.models.multiBarChart=function(){"use strict";function te(Oe){return Be.reset(),Be.models(ne),be&&Be.models(le),ye&&Be.models(ie),Oe.each(function(ze){var Ie=d3.select(this);ee.utils.initSVG(Ie);var Ve=ee.utils.availableWidth(ue,Ie,pe),He=ee.utils.availableHeight(he,Ie,pe);if(te.update=function(){0===_e?Ie.call(te):Ie.transition().duration(_e).call(te)},te.container=this,Se.setter(Te(ze),te.update).getter(Ne(ze)).update(),Se.disabled=ze.map(function($e){return!!$e.disabled}),!Ee){for(var Ge in Ee={},Se)Ee[Ge]=Se[Ge]instanceof Array?Se[Ge].slice(0):Se[Ge]}if(!(ze&&ze.length&&ze.filter(function($e){return $e.values.length}).length))return ee.utils.noData(te,Ie),te;Ie.selectAll(".nv-noData").remove(),ae=ne.xScale(),se=ne.yScale();var Ye=Ie.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([ze]),Xe=Ye.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Re=Ye.select("g");if(Xe.append("g").attr("class","nv-x nv-axis"),Xe.append("g").attr("class","nv-y nv-axis"),Xe.append("g").attr("class","nv-barsWrap"),Xe.append("g").attr("class","nv-legendWrap"),Xe.append("g").attr("class","nv-controlsWrap"),Xe.append("g").attr("class","nv-interactive"),xe?(re.width(Ve-De()),Re.select(".nv-legendWrap").datum(ze).call(re),ge||re.height()===pe.top||(pe.top=re.height(),He=ee.utils.availableHeight(he,Ie,pe)),Re.select(".nv-legendWrap").attr("transform","translate("+De()+","+-pe.top+")")):Re.select(".nv-legendWrap").selectAll("*").remove(),ve){var Ze=[{key:fe.grouped||"Grouped",disabled:ne.stacked()},{key:fe.stacked||"Stacked",disabled:!ne.stacked()}];de.width(De()).color(["#444","#444","#444"]),Re.select(".nv-controlsWrap").datum(Ze).attr("transform","translate(0,"+-pe.top+")").call(de)}else Re.select(".nv-controlsWrap").selectAll("*").remove();Ye.attr("transform","translate("+pe.left+","+pe.top+")"),ke&&Re.select(".nv-y.nv-axis").attr("transform","translate("+Ve+",0)"),ne.disabled(ze.map(function($e){return $e.disabled})).width(Ve).height(He).color(ze.map(function($e,et){return $e.color||me($e,et)}).filter(function($e,et){return!ze[et].disabled}));var qe=Re.select(".nv-barsWrap").datum(ze.filter(function($e){return!$e.disabled}));if(qe.call(ne),be){le.scale(ae)._ticks(ee.utils.calcTicksX(Ve/100,ze)).tickSize(-He,0),Re.select(".nv-x.nv-axis").attr("transform","translate(0,"+se.range()[0]+")"),Re.select(".nv-x.nv-axis").call(le);var Ke=Re.select(".nv-x.nv-axis > g").selectAll("g");if(Ke.selectAll("line, text").style("opacity",1),Ae){var je=function($e,et){return"translate("+$e+","+et+")"},Ue=5,Qe=17;Ke.selectAll("text").attr("transform",function($e,et,tt){return je(0,0==tt%2?Ue:Qe)});var Je=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Re.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function($e,et){return je(0,0===et||0!==Je%2?Qe:Ue)})}Ce&&Re.selectAll(".tick text").call(ee.utils.wrapTicks,te.xAxis.rangeBand()),we&&Ke.filter(function($e,et){return 0!==et%Math.ceil(ze[0].values.length/(Ve/100))}).selectAll("text, line").style("opacity",0),Me&&Ke.selectAll(".tick text").attr("transform","rotate("+Me+" 0,0)").style("text-anchor",0<Me?"start":"end"),Re.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}ye&&(ie.scale(se)._ticks(ee.utils.calcTicksY(He/36,ze)).tickSize(-Ve,0),Re.select(".nv-y.nv-axis").call(ie)),Le&&(oe.width(Ve).height(He).margin({left:pe.left,top:pe.top}).svgContainer(Ie).xScale(ae),Ye.select(".nv-interactive").call(oe)),re.dispatch.on("stateChange",function($e){for(var et in $e)Se[et]=$e[et];Fe.stateChange(Se),te.update()}),de.dispatch.on("legendClick",function($e){if($e.disabled){switch(Ze=Ze.map(function(tt){return tt.disabled=!0,tt}),$e.disabled=!1,$e.key){case"Grouped":case fe.grouped:ne.stacked(!1);break;case"Stacked":case fe.stacked:ne.stacked(!0);}Se.stacked=ne.stacked(),Fe.stateChange(Se),te.update()}}),Fe.on("changeState",function($e){"undefined"!=typeof $e.disabled&&(ze.forEach(function(et,tt){et.disabled=$e.disabled[tt]}),Se.disabled=$e.disabled),"undefined"!=typeof $e.stacked&&(ne.stacked($e.stacked),Se.stacked=$e.stacked,Pe=$e.stacked),te.update()}),Le?(oe.dispatch.on("elementMousemove",function($e){if(void 0!=$e.pointXValue){var et,tt,at,st,nt=[];ze.filter(function(lt,it){return lt.seriesIndex=it,!lt.disabled}).forEach(function(lt){tt=ae.domain().indexOf($e.pointXValue);var ot=lt.values[tt];void 0!==ot&&(st=ot.x,void 0===et&&(et=ot),void 0===at&&(at=$e.mouseX),nt.push({key:lt.key,value:te.y()(ot,tt),color:me(lt,lt.seriesIndex),data:lt.values[tt]}))}),oe.tooltip.data({value:st,index:tt,series:nt})(),oe.renderGuideLine(at)}}),oe.dispatch.on("elementMouseout",function(){oe.tooltip.hidden(!0)})):(ne.dispatch.on("elementMouseover.tooltip",function($e){$e.value=te.x()($e.data),$e.series={key:$e.data.key,value:te.y()($e.data),color:$e.color},ce.data($e).hidden(!1)}),ne.dispatch.on("elementMouseout.tooltip",function(){ce.hidden(!0)}),ne.dispatch.on("elementMousemove.tooltip",function(){ce()}))}),Be.renderEnd("multibarchart immediate"),te}var ae,se,ne=ee.models.multiBar(),le=ee.models.axis(),ie=ee.models.axis(),oe=ee.interactiveGuideline(),re=ee.models.legend(),de=ee.models.legend(),ce=ee.models.tooltip(),pe={top:30,right:20,bottom:50,left:60},ge=null,ue=null,he=null,me=ee.utils.defaultColor(),ve=!0,fe={},xe=!0,be=!0,ye=!0,ke=!1,we=!0,Ae=!1,Ce=!1,Me=0,Se=ee.utils.state(),Ee=null,We=null,Fe=d3.dispatch("stateChange","changeState","renderEnd"),De=function(){return ve?180:0},_e=250,Le=!1;Se.stacked=!1,ne.stacked(!1),le.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(Oe){return Oe}),ie.orient(ke?"right":"left").tickFormat(d3.format(",.1f")),ce.duration(0).valueFormatter(function(Oe,ze){return ie.tickFormat()(Oe,ze)}).headerFormatter(function(Oe,ze){return le.tickFormat()(Oe,ze)}),oe.tooltip.valueFormatter(function(Oe,ze){return null==Oe?"N/A":ie.tickFormat()(Oe,ze)}).headerFormatter(function(Oe,ze){return le.tickFormat()(Oe,ze)}),oe.tooltip.valueFormatter(function(Oe,ze){return null==Oe?"N/A":ie.tickFormat()(Oe,ze)}).headerFormatter(function(Oe,ze){return le.tickFormat()(Oe,ze)}),oe.tooltip.duration(0).valueFormatter(function(Oe,ze){return ie.tickFormat()(Oe,ze)}).headerFormatter(function(Oe,ze){return le.tickFormat()(Oe,ze)}),de.updateState(!1);var Be=ee.utils.renderWatch(Fe),Pe=!1,Ne=function(Oe){return function(){return{active:Oe.map(function(ze){return!ze.disabled}),stacked:Pe}}},Te=function(Oe){return function(ze){void 0!==ze.stacked&&(Pe=ze.stacked),void 0!==ze.active&&Oe.forEach(function(Ie,Ve){Ie.disabled=!ze.active[Ve]})}};return te.dispatch=Fe,te.multibar=ne,te.legend=re,te.controls=de,te.xAxis=le,te.yAxis=ie,te.state=Se,te.tooltip=ce,te.interactiveLayer=oe,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ue},set:function(Oe){ue=Oe}},height:{get:function(){return he},set:function(Oe){he=Oe}},showLegend:{get:function(){return xe},set:function(Oe){xe=Oe}},showControls:{get:function(){return ve},set:function(Oe){ve=Oe}},controlLabels:{get:function(){return fe},set:function(Oe){fe=Oe}},showXAxis:{get:function(){return be},set:function(Oe){be=Oe}},showYAxis:{get:function(){return ye},set:function(Oe){ye=Oe}},defaultState:{get:function(){return Ee},set:function(Oe){Ee=Oe}},noData:{get:function(){return We},set:function(Oe){We=Oe}},reduceXTicks:{get:function(){return we},set:function(Oe){we=Oe}},rotateLabels:{get:function(){return Me},set:function(Oe){Me=Oe}},staggerLabels:{get:function(){return Ae},set:function(Oe){Ae=Oe}},wrapLabels:{get:function(){return Ce},set:function(Oe){Ce=!!Oe}},margin:{get:function(){return pe},set:function(Oe){void 0!==Oe.top&&(pe.top=Oe.top,ge=Oe.top),pe.right=void 0===Oe.right?pe.right:Oe.right,pe.bottom=void 0===Oe.bottom?pe.bottom:Oe.bottom,pe.left=void 0===Oe.left?pe.left:Oe.left}},duration:{get:function(){return _e},set:function(Oe){_e=Oe,ne.duration(_e),le.duration(_e),ie.duration(_e),Be.reset(_e)}},color:{get:function(){return me},set:function(Oe){me=ee.utils.getColor(Oe),re.color(me)}},rightAlignYAxis:{get:function(){return ke},set:function(Oe){ke=Oe,ie.orient(ke?"right":"left")}},useInteractiveGuideline:{get:function(){return Le},set:function(Oe){Le=Oe}},barColor:{get:function(){return ne.barColor},set:function(Oe){ne.barColor(Oe),re.color(function(ze,Ie){return d3.rgb("#ccc").darker(1.5*Ie).toString()})}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.multiBarHorizontal=function(){"use strict";function te(Le){return _e.reset(),Le.each(function(Be){var Pe=ce-de.left-de.right,Ne=pe-de.top-de.bottom;ue=d3.select(this),ee.utils.initSVG(ue),we&&(Be=d3.layout.stack().offset("zero").values(function(Ye){return Ye.values}).y(fe)(Be)),Be.forEach(function(Ye,Xe){Ye.values.forEach(function(Re){Re.series=Xe,Re.key=Ye.key})}),we&&Be[0].values.map(function(Ye,Xe){var Re=0,Ze=0;Be.map(function(qe){var Ke=qe.values[Xe];Ke.size=Math.abs(Ke.y),0>Ke.y?(Ke.y1=Ze-Ke.size,Ze-=Ke.size):(Ke.y1=Re,Re+=Ke.size)})});var Te=se&&ne?[]:Be.map(function(Ye){return Ye.values.map(function(Xe,Re){return{x:ve(Xe,Re),y:fe(Xe,Re),y0:Xe.y0,y1:Xe.y1}})});he.domain(se||d3.merge(Te).map(function(Ye){return Ye.x})).rangeBands(le||[0,Ne],Se),me.domain(ne||d3.extent(d3.merge(Te).map(function(Ye){return we?0<Ye.y?Ye.y1+Ye.y:Ye.y1:Ye.y}).concat(be))),Ae&&!we?me.range(ie||[0>me.domain()[0]?Me:0,Pe-(0<me.domain()[1]?Me:0)]):me.range(ie||[0,Pe]),oe=oe||he,re=re||d3.scale.linear().domain(me.domain()).range([me(0),me(0)]);var Oe=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([Be]),ze=Oe.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),Ie=(ze.append("defs"),ze.append("g"));Oe.select("g"),Ie.append("g").attr("class","nv-groups"),Oe.attr("transform","translate("+de.left+","+de.top+")");var Ve=Oe.select(".nv-groups").selectAll(".nv-group").data(function(Ye){return Ye},function(Ye,Xe){return Xe});Ve.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),Ve.exit().watchTransition(_e,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),Ve.attr("class",function(Ye,Xe){return"nv-group nv-series-"+Xe}).classed("hover",function(Ye){return Ye.hover}).style("fill",function(Ye,Xe){return ye(Ye,Xe)}).style("stroke",function(Ye,Xe){return ye(Ye,Xe)}),Ve.watchTransition(_e,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",Ee);var He=Ve.selectAll("g.nv-bar").data(function(Ye){return Ye.values});He.exit().remove();var Ge=He.enter().append("g").attr("transform",function(Ye,Xe,Re){return"translate("+re(we?Ye.y0:0)+","+(we?0:Re*he.rangeBand()/Be.length+he(ve(Ye,Xe)))+")"});Ge.append("rect").attr("width",0).attr("height",he.rangeBand()/(we?1:Be.length)),He.on("mouseover",function(Ye,Xe){d3.select(this).classed("hover",!0),De.elementMouseover({data:Ye,index:Xe,color:d3.select(this).style("fill")})}).on("mouseout",function(Ye,Xe){d3.select(this).classed("hover",!1),De.elementMouseout({data:Ye,index:Xe,color:d3.select(this).style("fill")})}).on("mouseout",function(Ye,Xe){De.elementMouseout({data:Ye,index:Xe,color:d3.select(this).style("fill")})}).on("mousemove",function(Ye,Xe){De.elementMousemove({data:Ye,index:Xe,color:d3.select(this).style("fill")})}).on("click",function(Ye,Xe){var Re=this;De.elementClick({data:Ye,index:Xe,color:d3.select(this).style("fill"),event:d3.event,element:Re}),d3.event.stopPropagation()}).on("dblclick",function(Ye,Xe){De.elementDblClick({data:Ye,index:Xe,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),xe(Be[0],0)&&(Ge.append("polyline"),He.select("polyline").attr("fill","none").attr("points",function(Ye,Xe){var Re=xe(Ye,Xe),Ze=.8*he.rangeBand()/(2*(we?1:Be.length));Re=Re.length?Re:[-Math.abs(Re),Math.abs(Re)],Re=Re.map(function(Ke){return me(Ke)-me(0)});var qe=[[Re[0],-Ze],[Re[0],Ze],[Re[0],0],[Re[1],0],[Re[1],-Ze],[Re[1],Ze]];return qe.map(function(Ke){return Ke.join(",")}).join(" ")}).attr("transform",function(Ye,Xe){var Re=he.rangeBand()/(2*(we?1:Be.length));return"translate("+(0>fe(Ye,Xe)?0:me(fe(Ye,Xe))-me(0))+", "+Re+")"})),Ge.append("text"),Ae&&!we?(He.select("text").attr("text-anchor",function(Ye,Xe){return 0>fe(Ye,Xe)?"end":"start"}).attr("y",he.rangeBand()/(2*Be.length)).attr("dy",".32em").text(function(Ye,Xe){var Re=We(fe(Ye,Xe)),Ze=xe(Ye,Xe);return void 0===Ze?Re:Ze.length?Re+"+"+We(Math.abs(Ze[1]))+"-"+We(Math.abs(Ze[0])):Re+"\xB1"+We(Math.abs(Ze))}),He.watchTransition(_e,"multibarhorizontal: bars").select("text").attr("x",function(Ye,Xe){return 0>fe(Ye,Xe)?-4:me(fe(Ye,Xe))-me(0)+4})):He.selectAll("text").text(""),Ce&&!we?(Ge.append("text").classed("nv-bar-label",!0),He.select("text.nv-bar-label").attr("text-anchor",function(Ye,Xe){return 0>fe(Ye,Xe)?"start":"end"}).attr("y",he.rangeBand()/(2*Be.length)).attr("dy",".32em").text(function(Ye,Xe){return ve(Ye,Xe)}),He.watchTransition(_e,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(Ye,Xe){return 0>fe(Ye,Xe)?me(0)-me(fe(Ye,Xe))+4:-4})):He.selectAll("text.nv-bar-label").text(""),He.attr("class",function(Ye,Xe){return 0>fe(Ye,Xe)?"nv-bar negative":"nv-bar positive"}),ke&&(ae||(ae=Be.map(function(){return!0})),He.style("fill",function(Ye,Xe,Re){return d3.rgb(ke(Ye,Xe)).darker(ae.map(function(Ze,qe){return qe}).filter(function(Ze,qe){return!ae[qe]})[Re]).toString()}).style("stroke",function(Ye,Xe,Re){return d3.rgb(ke(Ye,Xe)).darker(ae.map(function(Ze,qe){return qe}).filter(function(Ze,qe){return!ae[qe]})[Re]).toString()})),we?He.watchTransition(_e,"multibarhorizontal: bars").attr("transform",function(Ye,Xe){return"translate("+me(Ye.y1)+","+he(ve(Ye,Xe))+")"}).select("rect").attr("width",function(Ye,Xe){return Math.abs(me(fe(Ye,Xe)+Ye.y0)-me(Ye.y0))||0}).attr("height",he.rangeBand()):He.watchTransition(_e,"multibarhorizontal: bars").attr("transform",function(Ye,Xe){return"translate("+me(0>fe(Ye,Xe)?fe(Ye,Xe):0)+","+(Ye.series*he.rangeBand()/Be.length+he(ve(Ye,Xe)))+")"}).select("rect").attr("height",he.rangeBand()/Be.length).attr("width",function(Ye,Xe){return Math.max(Math.abs(me(fe(Ye,Xe))-me(0)),1)||0}),oe=he.copy(),re=me.copy()}),_e.renderEnd("multibarHorizontal immediate"),te}var ae,se,ne,le,ie,oe,re,de={top:0,right:0,bottom:0,left:0},ce=960,pe=500,ge=Math.floor(1e4*Math.random()),ue=null,he=d3.scale.ordinal(),me=d3.scale.linear(),ve=function(Le){return Le.x},fe=function(Le){return Le.y},xe=function(Le){return Le.yErr},be=[0],ye=ee.utils.defaultColor(),ke=null,we=!1,Ae=!1,Ce=!1,Me=60,Se=.1,Ee=.75,We=d3.format(",.2f"),Fe=250,De=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_e=ee.utils.renderWatch(De,Fe);return te.dispatch=De,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ce},set:function(Le){ce=Le}},height:{get:function(){return pe},set:function(Le){pe=Le}},x:{get:function(){return ve},set:function(Le){ve=Le}},y:{get:function(){return fe},set:function(Le){fe=Le}},yErr:{get:function(){return xe},set:function(Le){xe=Le}},xScale:{get:function(){return he},set:function(Le){he=Le}},yScale:{get:function(){return me},set:function(Le){me=Le}},xDomain:{get:function(){return se},set:function(Le){se=Le}},yDomain:{get:function(){return ne},set:function(Le){ne=Le}},xRange:{get:function(){return le},set:function(Le){le=Le}},yRange:{get:function(){return ie},set:function(Le){ie=Le}},forceY:{get:function(){return be},set:function(Le){be=Le}},stacked:{get:function(){return we},set:function(Le){we=Le}},showValues:{get:function(){return Ae},set:function(Le){Ae=Le}},disabled:{get:function(){return ae},set:function(Le){ae=Le}},id:{get:function(){return ge},set:function(Le){ge=Le}},valueFormat:{get:function(){return We},set:function(Le){We=Le}},valuePadding:{get:function(){return Me},set:function(Le){Me=Le}},groupSpacing:{get:function(){return Se},set:function(Le){Se=Le}},fillOpacity:{get:function(){return Ee},set:function(Le){Ee=Le}},margin:{get:function(){return de},set:function(Le){de.top=void 0===Le.top?de.top:Le.top,de.right=void 0===Le.right?de.right:Le.right,de.bottom=void 0===Le.bottom?de.bottom:Le.bottom,de.left=void 0===Le.left?de.left:Le.left}},duration:{get:function(){return Fe},set:function(Le){Fe=Le,_e.reset(Fe)}},color:{get:function(){return ye},set:function(Le){ye=ee.utils.getColor(Le)}},barColor:{get:function(){return ke},set:function(Le){ke=Le?ee.utils.getColor(Le):null}}}),ee.utils.initOptions(te),te},ee.models.multiBarHorizontalChart=function(){"use strict";function te(De){return Fe.reset(),Fe.models(ne),xe&&Fe.models(le),be&&Fe.models(ie),De.each(function(_e){var Le=d3.select(this);ee.utils.initSVG(Le);var Be=ee.utils.availableWidth(ge,Le,ce),Pe=ee.utils.availableHeight(ue,Le,ce);if(te.update=function(){Le.transition().duration(Se).call(te)},te.container=this,ye=ne.stacked(),ke.setter(We(_e),te.update).getter(Ee(_e)).update(),ke.disabled=_e.map(function(Ge){return!!Ge.disabled}),!we){for(var Ne in we={},ke)we[Ne]=ke[Ne]instanceof Array?ke[Ne].slice(0):ke[Ne]}if(!(_e&&_e.length&&_e.filter(function(Ge){return Ge.values.length}).length))return ee.utils.noData(te,Le),te;Le.selectAll(".nv-noData").remove(),ae=ne.xScale(),se=ne.yScale().clamp(!0);var Te=Le.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([_e]),Oe=Te.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),ze=Te.select("g");if(Oe.append("g").attr("class","nv-x nv-axis"),Oe.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),Oe.append("g").attr("class","nv-barsWrap"),Oe.append("g").attr("class","nv-legendWrap"),Oe.append("g").attr("class","nv-controlsWrap"),fe?(oe.width(Be-Me()),ze.select(".nv-legendWrap").datum(_e).call(oe),pe||oe.height()===ce.top||(ce.top=oe.height(),Pe=ee.utils.availableHeight(ue,Le,ce)),ze.select(".nv-legendWrap").attr("transform","translate("+Me()+","+-ce.top+")")):ze.select(".nv-legendWrap").selectAll("*").remove(),me){var Ie=[{key:ve.grouped||"Grouped",disabled:ne.stacked()},{key:ve.stacked||"Stacked",disabled:!ne.stacked()}];re.width(Me()).color(["#444","#444","#444"]),ze.select(".nv-controlsWrap").datum(Ie).attr("transform","translate(0,"+-ce.top+")").call(re)}else ze.select(".nv-controlsWrap").selectAll("*").remove();Te.attr("transform","translate("+ce.left+","+ce.top+")"),ne.disabled(_e.map(function(Ge){return Ge.disabled})).width(Be).height(Pe).color(_e.map(function(Ge,Ye){return Ge.color||he(Ge,Ye)}).filter(function(Ge,Ye){return!_e[Ye].disabled}));var Ve=ze.select(".nv-barsWrap").datum(_e.filter(function(Ge){return!Ge.disabled}));if(Ve.transition().call(ne),xe){le.scale(ae)._ticks(ee.utils.calcTicksY(Pe/24,_e)).tickSize(-Be,0),ze.select(".nv-x.nv-axis").call(le);var He=ze.select(".nv-x.nv-axis").selectAll("g");He.selectAll("line, text")}be&&(ie.scale(se)._ticks(ee.utils.calcTicksX(Be/100,_e)).tickSize(-Pe,0),ze.select(".nv-y.nv-axis").attr("transform","translate(0,"+Pe+")"),ze.select(".nv-y.nv-axis").call(ie)),ze.select(".nv-zeroLine line").attr("x1",se(0)).attr("x2",se(0)).attr("y1",0).attr("y2",-Pe),oe.dispatch.on("stateChange",function(Ge){for(var Ye in Ge)ke[Ye]=Ge[Ye];Ce.stateChange(ke),te.update()}),re.dispatch.on("legendClick",function(Ge){if(Ge.disabled){switch(Ie=Ie.map(function(Xe){return Xe.disabled=!0,Xe}),Ge.disabled=!1,Ge.key){case"Grouped":case ve.grouped:ne.stacked(!1);break;case"Stacked":case ve.stacked:ne.stacked(!0);}ke.stacked=ne.stacked(),Ce.stateChange(ke),ye=ne.stacked(),te.update()}}),Ce.on("changeState",function(Ge){"undefined"!=typeof Ge.disabled&&(_e.forEach(function(Ye,Xe){Ye.disabled=Ge.disabled[Xe]}),ke.disabled=Ge.disabled),"undefined"!=typeof Ge.stacked&&(ne.stacked(Ge.stacked),ke.stacked=Ge.stacked,ye=Ge.stacked),te.update()})}),Fe.renderEnd("multibar horizontal chart immediate"),te}var ae,se,ne=ee.models.multiBarHorizontal(),le=ee.models.axis(),ie=ee.models.axis(),oe=ee.models.legend().height(30),re=ee.models.legend().height(30),de=ee.models.tooltip(),ce={top:30,right:20,bottom:50,left:60},pe=null,ge=null,ue=null,he=ee.utils.defaultColor(),me=!0,ve={},fe=!0,xe=!0,be=!0,ye=!1,ke=ee.utils.state(),we=null,Ae=null,Ce=d3.dispatch("stateChange","changeState","renderEnd"),Me=function(){return me?180:0},Se=250;ke.stacked=!1,ne.stacked(ye),le.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(De){return De}),ie.orient("bottom").tickFormat(d3.format(",.1f")),de.duration(0).valueFormatter(function(De,_e){return ie.tickFormat()(De,_e)}).headerFormatter(function(De,_e){return le.tickFormat()(De,_e)}),re.updateState(!1);var Ee=function(De){return function(){return{active:De.map(function(_e){return!_e.disabled}),stacked:ye}}},We=function(De){return function(_e){void 0!==_e.stacked&&(ye=_e.stacked),void 0!==_e.active&&De.forEach(function(Le,Be){Le.disabled=!_e.active[Be]})}},Fe=ee.utils.renderWatch(Ce,Se);return ne.dispatch.on("elementMouseover.tooltip",function(De){De.value=te.x()(De.data),De.series={key:De.data.key,value:te.y()(De.data),color:De.color},de.data(De).hidden(!1)}),ne.dispatch.on("elementMouseout.tooltip",function(){de.hidden(!0)}),ne.dispatch.on("elementMousemove.tooltip",function(){de()}),te.dispatch=Ce,te.multibar=ne,te.legend=oe,te.controls=re,te.xAxis=le,te.yAxis=ie,te.state=ke,te.tooltip=de,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ge},set:function(De){ge=De}},height:{get:function(){return ue},set:function(De){ue=De}},showLegend:{get:function(){return fe},set:function(De){fe=De}},showControls:{get:function(){return me},set:function(De){me=De}},controlLabels:{get:function(){return ve},set:function(De){ve=De}},showXAxis:{get:function(){return xe},set:function(De){xe=De}},showYAxis:{get:function(){return be},set:function(De){be=De}},defaultState:{get:function(){return we},set:function(De){we=De}},noData:{get:function(){return Ae},set:function(De){Ae=De}},margin:{get:function(){return ce},set:function(De){void 0!==De.top&&(ce.top=De.top,pe=De.top),ce.right=void 0===De.right?ce.right:De.right,ce.bottom=void 0===De.bottom?ce.bottom:De.bottom,ce.left=void 0===De.left?ce.left:De.left}},duration:{get:function(){return Se},set:function(De){Se=De,Fe.reset(Se),ne.duration(Se),le.duration(Se),ie.duration(Se)}},color:{get:function(){return he},set:function(De){he=ee.utils.getColor(De),oe.color(he)}},barColor:{get:function(){return ne.barColor},set:function(De){ne.barColor(De),oe.color(function(_e,Le){return d3.rgb("#ccc").darker(1.5*Le).toString()})}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.multiChart=function(){"use strict";function te(Oe){return Oe.each(function(ze){function Ie(yt){var kt=2===ze[yt.seriesIndex].yAxis?Le:_e;yt.value=yt.point.x,yt.series={value:yt.point.y,color:yt.point.color,key:yt.series.key},Pe.duration(0).headerFormatter(function(wt,At){return De.tickFormat()(wt,At)}).valueFormatter(function(wt,At){return kt.tickFormat()(wt,At)}).data(yt).hidden(!1)}function Ve(yt){var kt=2===ze[yt.seriesIndex].yAxis?Le:_e;yt.value=yt.point.x,yt.series={value:yt.point.y,color:yt.point.color,key:yt.series.key},Pe.duration(100).headerFormatter(function(wt,At){return De.tickFormat()(wt,At)}).valueFormatter(function(wt,At){return kt.tickFormat()(wt,At)}).data(yt).hidden(!1)}function He(yt){var kt=2===ze[yt.seriesIndex].yAxis?Le:_e;yt.point.x=We.x()(yt.point),yt.point.y=We.y()(yt.point),Pe.duration(0).headerFormatter(function(wt,At){return De.tickFormat()(wt,At)}).valueFormatter(function(wt,At){return kt.tickFormat()(wt,At)}).data(yt).hidden(!1)}function Ge(yt){var kt=2===ze[yt.data.series].yAxis?Le:_e;yt.value=Se.x()(yt.data),yt.series={value:Se.y()(yt.data),color:yt.color,key:yt.data.key},Pe.duration(0).headerFormatter(function(wt,At){return De.tickFormat()(wt,At)}).valueFormatter(function(wt,At){return kt.tickFormat()(wt,At)}).data(yt).hidden(!1)}function Ye(){for(var wt,yt=0,kt=Te.length;kt>yt;yt++){wt=Te[yt];try{wt.clearHighlights()}catch(At){}}}function Xe(yt,kt,wt){for(var Mt,At=0,Ct=Te.length;Ct>At;At++){Mt=Te[At];try{Mt.highlightPoint(yt,kt,wt)}catch(St){}}}var Re=d3.select(this);ee.utils.initSVG(Re),te.update=function(){Re.transition().call(te)},te.container=this;var Ze=ee.utils.availableWidth(oe,Re,ne),qe=ee.utils.availableHeight(re,Re,ne),Ke=ze.filter(function(yt){return"line"==yt.type&&1==yt.yAxis}),je=ze.filter(function(yt){return"line"==yt.type&&2==yt.yAxis}),Ue=ze.filter(function(yt){return"scatter"==yt.type&&1==yt.yAxis}),Qe=ze.filter(function(yt){return"scatter"==yt.type&&2==yt.yAxis}),Je=ze.filter(function(yt){return"bar"==yt.type&&1==yt.yAxis}),$e=ze.filter(function(yt){return"bar"==yt.type&&2==yt.yAxis}),et=ze.filter(function(yt){return"area"==yt.type&&1==yt.yAxis}),tt=ze.filter(function(yt){return"area"==yt.type&&2==yt.yAxis});if(!(ze&&ze.length&&ze.filter(function(yt){return yt.values.length}).length))return ee.utils.noData(te,Re),te;Re.selectAll(".nv-noData").remove();var at=ze.filter(function(yt){return!yt.disabled&&1==yt.yAxis}).map(function(yt){return yt.values.map(function(kt){return{x:pe(kt),y:ge(kt)}})}),st=ze.filter(function(yt){return!yt.disabled&&2==yt.yAxis}).map(function(yt){return yt.values.map(function(kt){return{x:pe(kt),y:ge(kt)}})});be.domain(d3.extent(d3.merge(at.concat(st)),function(yt){return yt.x})).range([0,Ze]);var nt=Re.selectAll("g.wrap.multiChart").data([ze]),lt=nt.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");lt.append("g").attr("class","nv-x nv-axis"),lt.append("g").attr("class","nv-y1 nv-axis"),lt.append("g").attr("class","nv-y2 nv-axis"),lt.append("g").attr("class","stack1Wrap"),lt.append("g").attr("class","stack2Wrap"),lt.append("g").attr("class","bars1Wrap"),lt.append("g").attr("class","bars2Wrap"),lt.append("g").attr("class","scatters1Wrap"),lt.append("g").attr("class","scatters2Wrap"),lt.append("g").attr("class","lines1Wrap"),lt.append("g").attr("class","lines2Wrap"),lt.append("g").attr("class","legendWrap"),lt.append("g").attr("class","nv-interactive");var it=nt.select("g"),ot=ze.map(function(yt,kt){return ze[kt].color||ie(yt,kt)});if(de){var rt=Be.align()?Ze/2:Ze,dt=Be.align()?rt:0;Be.width(rt),Be.color(ot),it.select(".legendWrap").datum(ze.map(function(yt){return yt.originalKey=void 0===yt.originalKey?yt.key:yt.originalKey,yt.key=yt.originalKey+(1==yt.yAxis?"":fe),yt})).call(Be),le||Be.height()===ne.top||(ne.top=Be.height(),qe=ee.utils.availableHeight(re,Re,ne)),it.select(".legendWrap").attr("transform","translate("+dt+","+-ne.top+")")}else it.select(".legendWrap").selectAll("*").remove();we.width(Ze).height(qe).interpolate(ue).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&1==ze[kt].yAxis&&"line"==ze[kt].type})),Ae.width(Ze).height(qe).interpolate(ue).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&2==ze[kt].yAxis&&"line"==ze[kt].type})),Ce.width(Ze).height(qe).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&1==ze[kt].yAxis&&"scatter"==ze[kt].type})),Me.width(Ze).height(qe).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&2==ze[kt].yAxis&&"scatter"==ze[kt].type})),Se.width(Ze).height(qe).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&1==ze[kt].yAxis&&"bar"==ze[kt].type})),Ee.width(Ze).height(qe).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&2==ze[kt].yAxis&&"bar"==ze[kt].type})),We.width(Ze).height(qe).interpolate(ue).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&1==ze[kt].yAxis&&"area"==ze[kt].type})),Fe.width(Ze).height(qe).interpolate(ue).color(ot.filter(function(yt,kt){return!ze[kt].disabled&&2==ze[kt].yAxis&&"area"==ze[kt].type})),it.attr("transform","translate("+ne.left+","+ne.top+")");var ct=it.select(".lines1Wrap").datum(Ke.filter(function(yt){return!yt.disabled})),pt=it.select(".scatters1Wrap").datum(Ue.filter(function(yt){return!yt.disabled})),gt=it.select(".bars1Wrap").datum(Je.filter(function(yt){return!yt.disabled})),ut=it.select(".stack1Wrap").datum(et.filter(function(yt){return!yt.disabled})),ht=it.select(".lines2Wrap").datum(je.filter(function(yt){return!yt.disabled})),mt=it.select(".scatters2Wrap").datum(Qe.filter(function(yt){return!yt.disabled})),vt=it.select(".bars2Wrap").datum($e.filter(function(yt){return!yt.disabled})),ft=it.select(".stack2Wrap").datum(tt.filter(function(yt){return!yt.disabled})),xt=et.length?et.map(function(yt){return yt.values}).reduce(function(yt,kt){return yt.map(function(wt,At){return{x:wt.x,y:wt.y+kt[At].y}})}).concat([{x:0,y:0}]):[],bt=tt.length?tt.map(function(yt){return yt.values}).reduce(function(yt,kt){return yt.map(function(wt,At){return{x:wt.x,y:wt.y+kt[At].y}})}).concat([{x:0,y:0}]):[];ye.domain(ae||d3.extent(d3.merge(at).concat(xt),function(yt){return yt.y})).range([0,qe]),ke.domain(se||d3.extent(d3.merge(st).concat(bt),function(yt){return yt.y})).range([0,qe]),we.yDomain(ye.domain()),Ce.yDomain(ye.domain()),Se.yDomain(ye.domain()),We.yDomain(ye.domain()),Ae.yDomain(ke.domain()),Me.yDomain(ke.domain()),Ee.yDomain(ke.domain()),Fe.yDomain(ke.domain()),et.length&&d3.transition(ut).call(We),tt.length&&d3.transition(ft).call(Fe),Je.length&&d3.transition(gt).call(Se),$e.length&&d3.transition(vt).call(Ee),Ke.length&&d3.transition(ct).call(we),je.length&&d3.transition(ht).call(Ae),Ue.length&&d3.transition(pt).call(Ce),Qe.length&&d3.transition(mt).call(Me),De._ticks(ee.utils.calcTicksX(Ze/100,ze)).tickSize(-qe,0),it.select(".nv-x.nv-axis").attr("transform","translate(0,"+qe+")"),d3.transition(it.select(".nv-x.nv-axis")).call(De),_e._ticks(ee.utils.calcTicksY(qe/36,ze)).tickSize(-Ze,0),d3.transition(it.select(".nv-y1.nv-axis")).call(_e),Le._ticks(ee.utils.calcTicksY(qe/36,ze)).tickSize(-Ze,0),d3.transition(it.select(".nv-y2.nv-axis")).call(Le),it.select(".nv-y1.nv-axis").classed("nv-disabled",!at.length).attr("transform","translate("+be.range()[0]+",0)"),it.select(".nv-y2.nv-axis").classed("nv-disabled",!st.length).attr("transform","translate("+be.range()[1]+",0)"),Be.dispatch.on("stateChange",function(){te.update()}),ve&&(me.width(Ze).height(qe).margin({left:ne.left,top:ne.top}).svgContainer(Re).xScale(be),nt.select(".nv-interactive").call(me)),ve?(me.dispatch.on("elementMousemove",function(yt){Ye();var kt,wt,At,Ct=[];ze.filter(function(St,Et){return St.seriesIndex=Et,!St.disabled}).forEach(function(St,Et){var Wt=be.domain(),Ft=St.values.filter(function(Lt,Bt){return te.x()(Lt,Bt)>=Wt[0]&&te.x()(Lt,Bt)<=Wt[1]});wt=ee.interactiveBisect(Ft,yt.pointXValue,te.x());var Dt=Ft[wt],_t=te.y()(Dt,wt);null!==_t&&Xe(Et,wt,!0),void 0!==Dt&&(void 0===kt&&(kt=Dt),void 0===At&&(At=be(te.x()(Dt,wt))),Ct.push({key:St.key,value:_t,color:ie(St,St.seriesIndex),data:Dt,yAxis:2==St.yAxis?Le:_e}))});me.tooltip.headerFormatter(function(St,Et){return De.tickFormat()(St,Et)}).valueFormatter(me.tooltip.valueFormatter()||function(St,Et){var Wt=Ct[Et].yAxis;return null==St?"N/A":Wt.tickFormat()(St)}).data({value:te.x()(kt,wt),index:wt,series:Ct})(),me.renderGuideLine(At)}),me.dispatch.on("elementMouseout",function(){Ye()})):(we.dispatch.on("elementMouseover.tooltip",Ie),Ae.dispatch.on("elementMouseover.tooltip",Ie),we.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Ae.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Ce.dispatch.on("elementMouseover.tooltip",Ve),Me.dispatch.on("elementMouseover.tooltip",Ve),Ce.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Me.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),We.dispatch.on("elementMouseover.tooltip",He),Fe.dispatch.on("elementMouseover.tooltip",He),We.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Fe.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Se.dispatch.on("elementMouseover.tooltip",Ge),Ee.dispatch.on("elementMouseover.tooltip",Ge),Se.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Ee.dispatch.on("elementMouseout.tooltip",function(){Pe.hidden(!0)}),Se.dispatch.on("elementMousemove.tooltip",function(){Pe()}),Ee.dispatch.on("elementMousemove.tooltip",function(){Pe()}))}),te}var ae,se,ne={top:30,right:20,bottom:50,left:60},le=null,ie=ee.utils.defaultColor(),oe=null,re=null,de=!0,ce=null,pe=function(Oe){return Oe.x},ge=function(Oe){return Oe.y},ue="linear",he=!0,me=ee.interactiveGuideline(),ve=!1,fe=" (right axis)",xe=250,be=d3.scale.linear(),ye=d3.scale.linear(),ke=d3.scale.linear(),we=ee.models.line().yScale(ye).duration(xe),Ae=ee.models.line().yScale(ke).duration(xe),Ce=ee.models.scatter().yScale(ye).duration(xe),Me=ee.models.scatter().yScale(ke).duration(xe),Se=ee.models.multiBar().stacked(!1).yScale(ye).duration(xe),Ee=ee.models.multiBar().stacked(!1).yScale(ke).duration(xe),We=ee.models.stackedArea().yScale(ye).duration(xe),Fe=ee.models.stackedArea().yScale(ke).duration(xe),De=ee.models.axis().scale(be).orient("bottom").tickPadding(5).duration(xe),_e=ee.models.axis().scale(ye).orient("left").duration(xe),Le=ee.models.axis().scale(ke).orient("right").duration(xe),Be=ee.models.legend().height(30),Pe=ee.models.tooltip(),Ne=d3.dispatch(),Te=[we,Ae,Ce,Me,Se,Ee,We,Fe];return te.dispatch=Ne,te.legend=Be,te.lines1=we,te.lines2=Ae,te.scatters1=Ce,te.scatters2=Me,te.bars1=Se,te.bars2=Ee,te.stack1=We,te.stack2=Fe,te.xAxis=De,te.yAxis1=_e,te.yAxis2=Le,te.tooltip=Pe,te.interactiveLayer=me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return oe},set:function(Oe){oe=Oe}},height:{get:function(){return re},set:function(Oe){re=Oe}},showLegend:{get:function(){return de},set:function(Oe){de=Oe}},yDomain1:{get:function(){return ae},set:function(Oe){ae=Oe}},yDomain2:{get:function(){return se},set:function(Oe){se=Oe}},noData:{get:function(){return ce},set:function(Oe){ce=Oe}},interpolate:{get:function(){return ue},set:function(Oe){ue=Oe}},legendRightAxisHint:{get:function(){return fe},set:function(Oe){fe=Oe}},margin:{get:function(){return ne},set:function(Oe){void 0!==Oe.top&&(ne.top=Oe.top,le=Oe.top),ne.right=void 0===Oe.right?ne.right:Oe.right,ne.bottom=void 0===Oe.bottom?ne.bottom:Oe.bottom,ne.left=void 0===Oe.left?ne.left:Oe.left}},color:{get:function(){return ie},set:function(Oe){ie=ee.utils.getColor(Oe)}},x:{get:function(){return pe},set:function(Oe){pe=Oe,we.x(Oe),Ae.x(Oe),Ce.x(Oe),Me.x(Oe),Se.x(Oe),Ee.x(Oe),We.x(Oe),Fe.x(Oe)}},y:{get:function(){return ge},set:function(Oe){ge=Oe,we.y(Oe),Ae.y(Oe),Ce.y(Oe),Me.y(Oe),We.y(Oe),Fe.y(Oe),Se.y(Oe),Ee.y(Oe)}},useVoronoi:{get:function(){return he},set:function(Oe){he=Oe,we.useVoronoi(Oe),Ae.useVoronoi(Oe),We.useVoronoi(Oe),Fe.useVoronoi(Oe)}},useInteractiveGuideline:{get:function(){return ve},set:function(Oe){ve=Oe,ve&&(we.interactive(!1),we.useVoronoi(!1),Ae.interactive(!1),Ae.useVoronoi(!1),We.interactive(!1),We.useVoronoi(!1),Fe.interactive(!1),Fe.useVoronoi(!1),Ce.interactive(!1),Me.interactive(!1))}},duration:{get:function(){return xe},set:function(Oe){xe=Oe,[we,Ae,We,Fe,Ce,Me,De,_e,Le].forEach(function(ze){ze.duration(xe)})}}}),ee.utils.initOptions(te),te},ee.models.ohlcBar=function(){"use strict";function te(Se){return Se.each(function(Ee){ce=d3.select(this);var We=ee.utils.availableWidth(oe,ce,ie),Fe=ee.utils.availableHeight(re,ce,ie);ee.utils.initSVG(ce);var De=.9*(We/Ee[0].values.length);pe.domain(ae||d3.extent(Ee[0].values.map(ue).concat(be))),ke?pe.range(ne||[.5*We/Ee[0].values.length,We*(Ee[0].values.length-.5)/Ee[0].values.length]):pe.range(ne||[5+De/2,We-De/2-5]),ge.domain(se||[d3.min(Ee[0].values.map(xe).concat(ye)),d3.max(Ee[0].values.map(fe).concat(ye))]).range(le||[Fe,0]),pe.domain()[0]===pe.domain()[1]&&(pe.domain()[0]?pe.domain([pe.domain()[0]-.01*pe.domain()[0],pe.domain()[1]+.01*pe.domain()[1]]):pe.domain([-1,1])),ge.domain()[0]===ge.domain()[1]&&(ge.domain()[0]?ge.domain([ge.domain()[0]+.01*ge.domain()[0],ge.domain()[1]-.01*ge.domain()[1]]):ge.domain([-1,1]));var _e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([Ee[0].values]),Le=_e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),Be=Le.append("defs"),Pe=Le.append("g"),Ne=_e.select("g");Pe.append("g").attr("class","nv-ticks"),_e.attr("transform","translate("+ie.left+","+ie.top+")"),ce.on("click",function(Oe,ze){Me.chartClick({data:Oe,index:ze,pos:d3.event,id:de})}),Be.append("clipPath").attr("id","nv-chart-clip-path-"+de).append("rect"),_e.select("#nv-chart-clip-path-"+de+" rect").attr("width",We).attr("height",Fe),Ne.attr("clip-path",we?"url(#nv-chart-clip-path-"+de+")":"");var Te=_e.select(".nv-ticks").selectAll(".nv-tick").data(function(Oe){return Oe});Te.exit().remove(),Te.enter().append("path").attr("class",function(Oe,ze,Ie){return(me(Oe,ze)>ve(Oe,ze)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+Ie+"-"+ze}).attr("d",function(Oe,ze){return"m0,0l0,"+(ge(me(Oe,ze))-ge(fe(Oe,ze)))+"l"+-De/2+",0l"+De/2+",0l0,"+(ge(xe(Oe,ze))-ge(me(Oe,ze)))+"l0,"+(ge(ve(Oe,ze))-ge(xe(Oe,ze)))+"l"+De/2+",0l"+-De/2+",0z"}).attr("transform",function(Oe,ze){return"translate("+pe(ue(Oe,ze))+","+ge(fe(Oe,ze))+")"}).attr("fill",function(){return Ae[0]}).attr("stroke",function(){return Ae[0]}).attr("x",0).attr("y",function(Oe,ze){return ge(Math.max(0,he(Oe,ze)))}).attr("height",function(Oe,ze){return Math.abs(ge(he(Oe,ze))-ge(0))}),Te.attr("class",function(Oe,ze,Ie){return(me(Oe,ze)>ve(Oe,ze)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+Ie+"-"+ze}),d3.transition(Te).attr("transform",function(Oe,ze){return"translate("+pe(ue(Oe,ze))+","+ge(fe(Oe,ze))+")"}).attr("d",function(Oe,ze){var Ie=.9*(We/Ee[0].values.length);return"m0,0l0,"+(ge(me(Oe,ze))-ge(fe(Oe,ze)))+"l"+-Ie/2+",0l"+Ie/2+",0l0,"+(ge(xe(Oe,ze))-ge(me(Oe,ze)))+"l0,"+(ge(ve(Oe,ze))-ge(xe(Oe,ze)))+"l"+Ie/2+",0l"+-Ie/2+",0z"})}),te}var ae,se,ne,le,ie={top:0,right:0,bottom:0,left:0},oe=null,re=null,de=Math.floor(1e4*Math.random()),ce=null,pe=d3.scale.linear(),ge=d3.scale.linear(),ue=function(Se){return Se.x},he=function(Se){return Se.y},me=function(Se){return Se.open},ve=function(Se){return Se.close},fe=function(Se){return Se.high},xe=function(Se){return Se.low},be=[],ye=[],ke=!1,we=!0,Ae=ee.utils.defaultColor(),Ce=!1,Me=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return te.highlightPoint=function(Se,Ee){te.clearHighlights(),ce.select(".nv-ohlcBar .nv-tick-0-"+Se).classed("hover",Ee)},te.clearHighlights=function(){ce.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},te.dispatch=Me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return oe},set:function(Se){oe=Se}},height:{get:function(){return re},set:function(Se){re=Se}},xScale:{get:function(){return pe},set:function(Se){pe=Se}},yScale:{get:function(){return ge},set:function(Se){ge=Se}},xDomain:{get:function(){return ae},set:function(Se){ae=Se}},yDomain:{get:function(){return se},set:function(Se){se=Se}},xRange:{get:function(){return ne},set:function(Se){ne=Se}},yRange:{get:function(){return le},set:function(Se){le=Se}},forceX:{get:function(){return be},set:function(Se){be=Se}},forceY:{get:function(){return ye},set:function(Se){ye=Se}},padData:{get:function(){return ke},set:function(Se){ke=Se}},clipEdge:{get:function(){return we},set:function(Se){we=Se}},id:{get:function(){return de},set:function(Se){de=Se}},interactive:{get:function(){return Ce},set:function(Se){Ce=Se}},x:{get:function(){return ue},set:function(Se){ue=Se}},y:{get:function(){return he},set:function(Se){he=Se}},open:{get:function(){return me()},set:function(Se){me=Se}},close:{get:function(){return ve()},set:function(Se){ve=Se}},high:{get:function(){return fe},set:function(Se){fe=Se}},low:{get:function(){return xe},set:function(Se){xe=Se}},margin:{get:function(){return ie},set:function(Se){ie.top=void 0==Se.top?ie.top:Se.top,ie.right=void 0==Se.right?ie.right:Se.right,ie.bottom=void 0==Se.bottom?ie.bottom:Se.bottom,ie.left=void 0==Se.left?ie.left:Se.left}},color:{get:function(){return Ae},set:function(Se){Ae=ee.utils.getColor(Se)}}}),ee.utils.initOptions(te),te},ee.models.parallelCoordinates=function(){"use strict";function te(Ee){return Se.reset(),Ee.each(function(We){function Fe(nt){return Ae(he.map(function(lt){if(isNaN(nt.values[lt.key])||isNaN(parseFloat(nt.values[lt.key]))||Ye){var it=pe[lt.key].domain(),ot=pe[lt.key].range(),rt=it[0]-(it[1]-it[0])/9;if(0>ke.indexOf(lt.key)){var dt=d3.scale.linear().domain([rt,it[1]]).range([de-12,ot[1]]);pe[lt.key].brush.y(dt),ke.push(lt.key)}if(isNaN(nt.values[lt.key])||isNaN(parseFloat(nt.values[lt.key])))return[ce(lt.key),pe[lt.key](rt)]}return void 0!==je&&(0<ke.length||Ye?(je.style("display","inline"),Ue.style("display","inline")):(je.style("display","none"),Ue.style("display","none"))),[ce(lt.key),pe[lt.key](nt.values[lt.key])]}))}function De(nt){xe.forEach(function(lt){var it=pe[lt.dimension].brush.y().domain();lt.hasOnlyNaN&&(lt.extent[1]=(pe[lt.dimension].domain()[1]-it[0])*(lt.extent[1]-lt.extent[0])/(Ge[lt.dimension]-lt.extent[0])+it[0]),lt.hasNaN&&(lt.extent[0]=it[0]),nt&&pe[lt.dimension].brush.extent(lt.extent)}),ne.select(".nv-brushBackground").each(function(lt){d3.select(this).call(pe[lt.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Pe()}function _e(){!1===ve&&(ve=!0,De(!0))}function Le(){tt=me.filter(function(nt){return!pe[nt].brush.empty()}),at=tt.map(function(nt){return pe[nt].brush.extent()}),xe=[],tt.forEach(function(nt,lt){xe[lt]={dimension:nt,extent:at[lt],hasNaN:!1,hasOnlyNaN:!1}}),be=[],ae.style("display",function(nt){var lt=tt.every(function(it,ot){return(isNaN(nt.values[it])||isNaN(parseFloat(nt.values[it])))&&at[ot][0]==pe[it].brush.y().domain()[0]||at[ot][0]<=nt.values[it]&&nt.values[it]<=at[ot][1]&&!isNaN(parseFloat(nt.values[it]))});return lt&&be.push(nt),lt?null:"none"}),Pe(),Me.brush({filters:xe,active:be})}function Be(){var nt=!!(0<tt.length);xe.forEach(function(lt){lt.extent[0]===pe[lt.dimension].brush.y().domain()[0]&&0<=ke.indexOf(lt.dimension)&&(lt.hasNaN=!0),lt.extent[1]<pe[lt.dimension].domain()[0]&&(lt.hasOnlyNaN=!0)}),Me.brushEnd(be,nt)}function Pe(){ne.select(".nv-axis").each(function(nt){var it=xe.filter(function(ot){return ot.dimension==nt.key});Xe[nt.key]=pe[nt.key].domain(),0!=it.length&&ve&&(Xe[nt.key]=[],it[0].extent[1]>pe[nt.key].domain()[0]&&(Xe[nt.key]=[it[0].extent[1]]),it[0].extent[0]>=pe[nt.key].domain()[0]&&Xe[nt.key].push(it[0].extent[0])),d3.select(this).call(Ce.scale(pe[nt.key]).tickFormat(nt.format).tickValues(Xe[nt.key]))})}function ze(nt){var lt=ye[nt];return null==lt?ce(nt):lt}var Ie=d3.select(this);if(re=ee.utils.availableWidth(ie,Ie,le),de=ee.utils.availableHeight(oe,Ie,le),ee.utils.initSVG(Ie),void 0===We[0].values){var Ve=[];We.forEach(function(nt){var lt={},it=Object.keys(nt);it.forEach(function(ot){"name"!==ot&&(lt[ot]=nt[ot])}),Ve.push({key:nt.name,values:lt})}),We=Ve}var He=We.map(function(nt){return nt.values});0===be.length&&(be=We),me=ue.sort(function(nt,lt){return nt.currentPosition-lt.currentPosition}).map(function(nt){return nt.key}),he=ue.filter(function(nt){return!nt.disabled}),ce.rangePoints([0,re],1).domain(he.map(function(nt){return nt.key}));var Ge={},Ye=!1,Xe=[];me.forEach(function(nt){var lt=d3.extent(He,function(ct){return+ct[nt]}),it=lt[0],ot=lt[1],rt=!1;(isNaN(it)||isNaN(ot))&&(rt=!0,it=0,ot=0),it===ot&&(it-=1,ot+=1);var dt=xe.filter(function(ct){return ct.dimension==nt});0!==dt.length&&(rt?(it=pe[nt].domain()[0],ot=pe[nt].domain()[1]):!dt[0].hasOnlyNaN&&ve?(it=it>dt[0].extent[0]?dt[0].extent[0]:it,ot=ot<dt[0].extent[1]?dt[0].extent[1]:ot):dt[0].hasNaN&&(ot=ot<dt[0].extent[1]?dt[0].extent[1]:ot,Ge[nt]=pe[nt].domain()[1],Ye=!0)),pe[nt]=d3.scale.linear().domain([it,ot]).range([.9*(de-12),0]),ke=[],pe[nt].brush=d3.svg.brush().y(pe[nt]).on("brushstart",_e).on("brush",Le).on("brushend",Be)});var Re=Ie.selectAll("g.nv-wrap.nv-parallelCoordinates").data([We]),Ze=Re.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),qe=Ze.append("g"),Ke=Re.select("g");qe.append("g").attr("class","nv-parallelCoordinates background"),qe.append("g").attr("class","nv-parallelCoordinates foreground"),qe.append("g").attr("class","nv-parallelCoordinates missingValuesline"),Re.attr("transform","translate("+le.left+","+le.top+")"),Ae.interpolate("cardinal").tension(we),Ce.orient("left");var je,Ue,Qe=d3.behavior.drag().on("dragstart",function(nt){ye[nt.key]=this.parentNode.__origin__=ce(nt.key),se.attr("visibility","hidden")}).on("drag",function(nt){ye[nt.key]=Math.min(re,Math.max(0,this.parentNode.__origin__+=d3.event.x)),ae.attr("d",Fe),he.sort(function(lt,it){return ze(lt.key)-ze(it.key)}),he.forEach(function(lt,it){return lt.currentPosition=it}),ce.domain(he.map(function(lt){return lt.key})),ne.attr("transform",function(lt){return"translate("+ze(lt.key)+")"})}).on("dragend",function(nt){delete this.parentNode.__origin__,delete ye[nt.key],d3.select(this.parentNode).attr("transform","translate("+ce(nt.key)+")"),ae.attr("d",Fe),se.attr("d",Fe).attr("visibility",null),Me.dimensionsOrder(he)}),Je=ce.range()[1]-ce.range()[0];if(Je=isNaN(Je)?ce.range()[0]:Je,!isNaN(Je)){var $e=[0+Je/2,de-12,re-Je/2,de-12];je=Re.select(".missingValuesline").selectAll("line").data([$e]),je.enter().append("line"),je.exit().remove(),je.attr("x1",function(nt){return nt[0]}).attr("y1",function(nt){return nt[1]}).attr("x2",function(nt){return nt[2]}).attr("y2",function(nt){return nt[3]}),Ue=Re.select(".missingValuesline").selectAll("text").data([ge]),Ue.append("text").data([ge]),Ue.enter().append("text"),Ue.exit().remove(),Ue.attr("y",de).attr("x",re-92-Je/2).text(function(nt){return nt})}se=Re.select(".background").selectAll("path").data(We),se.enter().append("path"),se.exit().remove(),se.attr("d",Fe),ae=Re.select(".foreground").selectAll("path").data(We),ae.enter().append("path"),ae.exit().remove(),ae.attr("d",Fe).style("stroke-width",function(nt){return isNaN(nt.strokeWidth)&&(nt.strokeWidth=1),nt.strokeWidth}).attr("stroke",function(nt,lt){return nt.color||fe(nt,lt)}),ae.on("mouseover",function(nt,lt){d3.select(this).classed("hover",!0).style("stroke-width",nt.strokeWidth+2+"px").style("stroke-opacity",1),Me.elementMouseover({label:nt.name,color:nt.color||fe(nt,lt),values:nt.values,dimensions:he})}),ae.on("mouseout",function(nt,lt){d3.select(this).classed("hover",!1).style("stroke-width",nt.strokeWidth+"px").style("stroke-opacity",.7),Me.elementMouseout({label:nt.name,index:lt})}),ae.on("mousemove",function(){Me.elementMousemove()}),ae.on("click",function(nt){Me.elementClick({id:nt.id})}),ne=Ke.selectAll(".dimension").data(he);var et=ne.enter().append("g").attr("class","nv-parallelCoordinates dimension");ne.attr("transform",function(nt){return"translate("+ce(nt.key)+",0)"}),et.append("g").attr("class","nv-axis"),et.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(nt){Me.elementMouseover({label:nt.tooltip||nt.key,color:nt.color})}).on("mouseout",function(nt){Me.elementMouseout({label:nt.tooltip})}).on("mousemove",function(){Me.elementMousemove()}).call(Qe),et.append("g").attr("class","nv-brushBackground"),ne.exit().remove(),ne.select(".nv-label").text(function(nt){return nt.key}),De(ve);var tt=me.filter(function(nt){return!pe[nt].brush.empty()}),at=tt.map(function(nt){return pe[nt].brush.extent()}),st=be.slice(0);be=[],ae.style("display",function(nt){var lt=tt.every(function(it,ot){return(isNaN(nt.values[it])||isNaN(parseFloat(nt.values[it])))&&at[ot][0]==pe[it].brush.y().domain()[0]||at[ot][0]<=nt.values[it]&&nt.values[it]<=at[ot][1]&&!isNaN(parseFloat(nt.values[it]))});return lt&&be.push(nt),lt?null:"none"}),(0<xe.length||!ee.utils.arrayEquals(be,st))&&Me.activeChanged(be)}),te}var ae,se,ne,le={top:30,right:0,bottom:10,left:0},ie=null,oe=null,re=null,de=null,ce=d3.scale.ordinal(),pe={},ge="undefined values",ue=[],he=[],me=[],ve=!0,fe=ee.utils.defaultColor(),xe=[],be=[],ye=[],ke=[],we=1,Ae=d3.svg.line(),Ce=d3.svg.axis(),Me=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),Se=ee.utils.renderWatch(Me);return te.dispatch=Me,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ie},set:function(Ee){ie=Ee}},height:{get:function(){return oe},set:function(Ee){oe=Ee}},dimensionData:{get:function(){return ue},set:function(Ee){ue=Ee}},displayBrush:{get:function(){return ve},set:function(Ee){ve=Ee}},filters:{get:function(){return xe},set:function(Ee){xe=Ee}},active:{get:function(){return be},set:function(Ee){be=Ee}},lineTension:{get:function(){return we},set:function(Ee){we=Ee}},undefinedValuesLabel:{get:function(){return ge},set:function(Ee){ge=Ee}},dimensions:{get:function(){return ue.map(function(Ee){return Ee.key})},set:function(Ee){ee.deprecated("dimensions","use dimensionData instead"),0===ue.length?Ee.forEach(function(We){ue.push({key:We})}):Ee.forEach(function(We,Fe){ue[Fe].key=We})}},dimensionNames:{get:function(){return ue.map(function(Ee){return Ee.key})},set:function(Ee){ee.deprecated("dimensionNames","use dimensionData instead"),me=[],0===ue.length?Ee.forEach(function(We){ue.push({key:We})}):Ee.forEach(function(We,Fe){ue[Fe].key=We})}},dimensionFormats:{get:function(){return ue.map(function(Ee){return Ee.format})},set:function(Ee){ee.deprecated("dimensionFormats","use dimensionData instead"),0===ue.length?Ee.forEach(function(We){ue.push({format:We})}):Ee.forEach(function(We,Fe){ue[Fe].format=We})}},margin:{get:function(){return le},set:function(Ee){le.top=void 0===Ee.top?le.top:Ee.top,le.right=void 0===Ee.right?le.right:Ee.right,le.bottom=void 0===Ee.bottom?le.bottom:Ee.bottom,le.left=void 0===Ee.left?le.left:Ee.left}},color:{get:function(){return fe},set:function(Ee){fe=ee.utils.getColor(Ee)}}}),ee.utils.initOptions(te),te},ee.models.parallelCoordinatesChart=function(){"use strict";function te(ke){return xe.reset(),xe.models(ae),ke.each(function(we){var Ae=d3.select(this);ee.utils.initSVG(Ae);var Ce=ee.utils.availableWidth(oe,Ae,le),Me=ee.utils.availableHeight(re,Ae,le);if(te.update=function(){Ae.call(te)},te.container=this,pe.setter(ye(ge),te.update).getter(be(ge)).update(),pe.disabled=ge.map(function(_e){return!!_e.disabled}),ge=ge.map(function(_e){return _e.disabled=!!_e.disabled,_e}),ge.forEach(function(_e,Le){_e.originalPosition=isNaN(_e.originalPosition)?Le:_e.originalPosition,_e.currentPosition=isNaN(_e.currentPosition)?Le:_e.currentPosition}),!he){for(var Se in he={},pe)he[Se]=pe[Se]instanceof Array?pe[Se].slice(0):pe[Se]}if(!we||!we.length)return ee.utils.noData(te,Ae),te;Ae.selectAll(".nv-noData").remove();var Ee=Ae.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([we]),We=Ee.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),Fe=Ee.select("g");We.append("g").attr("class","nv-parallelCoordinatesWrap"),We.append("g").attr("class","nv-legendWrap"),Fe.select("rect").attr("width",Ce).attr("height",0<Me?Me:0),de?(se.width(Ce).color(function(){return"rgb(188,190,192)"}),Fe.select(".nv-legendWrap").datum(ge.sort(function(_e,Le){return _e.originalPosition-Le.originalPosition})).call(se),ie||se.height()===le.top||(le.top=se.height(),Me=ee.utils.availableHeight(re,Ae,le)),Ee.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-le.top+")")):Fe.select(".nv-legendWrap").selectAll("*").remove(),Ee.attr("transform","translate("+le.left+","+le.top+")"),ae.width(Ce).height(Me).dimensionData(ge).displayBrush(ue);var De=Fe.select(".nv-parallelCoordinatesWrap ").datum(we);De.transition().call(ae),ae.dispatch.on("brushEnd",function(_e,Le){Le?(ue=!0,fe.brushEnd(_e)):ue=!1}),se.dispatch.on("stateChange",function(_e){for(var Le in _e)pe[Le]=_e[Le];fe.stateChange(pe),te.update()}),ae.dispatch.on("dimensionsOrder",function(){ge.sort(function(Be,Pe){return Be.currentPosition-Pe.currentPosition});var Le=!1;ge.forEach(function(Be,Pe){Be.currentPosition=Pe,Be.currentPosition!==Be.originalPosition&&(Le=!0)}),fe.dimensionsOrder(ge,Le)}),fe.on("changeState",function(_e){"undefined"!=typeof _e.disabled&&(ge.forEach(function(Le,Be){Le.disabled=_e.disabled[Be]}),pe.disabled=_e.disabled),te.update()})}),xe.renderEnd("parraleleCoordinateChart immediate"),te}var ae=ee.models.parallelCoordinates(),se=ee.models.legend(),ne=ee.models.tooltip(),le=(ee.models.tooltip(),{top:0,right:0,bottom:0,left:0}),ie=null,oe=null,re=null,de=!0,ce=ee.utils.defaultColor(),pe=ee.utils.state(),ge=[],ue=!0,he=null,me=null,ve="undefined",fe=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),xe=ee.utils.renderWatch(fe),be=function(ke){return function(){return{active:ke.map(function(we){return!we.disabled})}}},ye=function(ke){return function(we){void 0!==we.active&&ke.forEach(function(Ae,Ce){Ae.disabled=!we.active[Ce]})}};return ne.contentGenerator(function(ke){var we="<table><thead><tr><td class=\"legend-color-guide\"><div style=\"background-color:"+ke.color+"\"></div></td><td><strong>"+ke.key+"</strong></td></tr></thead>";return 0!==ke.series.length&&(we+="<tbody><tr><td height =\"10px\"></td></tr>",ke.series.forEach(function(Ae){we=we+"<tr><td class=\"legend-color-guide\"><div style=\"background-color:"+Ae.color+"\"></div></td><td class=\"key\">"+Ae.key+"</td><td class=\"value\">"+Ae.value+"</td></tr>"}),we+="</tbody>"),we+="</table>"}),ae.dispatch.on("elementMouseover.tooltip",function(ke){var we={key:ke.label,color:ke.color,series:[]};ke.values&&(Object.keys(ke.values).forEach(function(Ae){var Ce=ke.dimensions.filter(function(Se){return Se.key===Ae})[0];if(Ce){var Me;Me=isNaN(ke.values[Ae])||isNaN(parseFloat(ke.values[Ae]))?ve:Ce.format(ke.values[Ae]),we.series.push({idx:Ce.currentPosition,key:Ae,value:Me,color:Ce.color})}}),we.series.sort(function(Ae,Ce){return Ae.idx-Ce.idx})),ne.data(we).hidden(!1)}),ae.dispatch.on("elementMouseout.tooltip",function(){ne.hidden(!0)}),ae.dispatch.on("elementMousemove.tooltip",function(){ne()}),te.dispatch=fe,te.parallelCoordinates=ae,te.legend=se,te.tooltip=ne,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return oe},set:function(ke){oe=ke}},height:{get:function(){return re},set:function(ke){re=ke}},showLegend:{get:function(){return de},set:function(ke){de=ke}},defaultState:{get:function(){return he},set:function(ke){he=ke}},dimensionData:{get:function(){return ge},set:function(ke){ge=ke}},displayBrush:{get:function(){return ue},set:function(ke){ue=ke}},noData:{get:function(){return me},set:function(ke){me=ke}},nanValue:{get:function(){return ve},set:function(ke){ve=ke}},margin:{get:function(){return le},set:function(ke){void 0!==ke.top&&(le.top=ke.top,ie=ke.top),le.right=void 0===ke.right?le.right:ke.right,le.bottom=void 0===ke.bottom?le.bottom:ke.bottom,le.left=void 0===ke.left?le.left:ke.left}},color:{get:function(){return ce},set:function(ke){ce=ee.utils.getColor(ke),se.color(ce),ae.color(ce)}}}),ee.utils.inheritOptions(te,ae),ee.utils.initOptions(te),te},ee.models.pie=function(){"use strict";function te(_e){return De.reset(),_e.each(function(Le){var Pe=se-ae.left-ae.right,Ne=ne-ae.top-ae.bottom,Te=Math.min(Pe,Ne)/2,Oe=[],ze=[];if(re=d3.select(this),0===Se.length)for(var Ve=Ce*Te,He=0;He<Le[0].length;He++)Oe.push(Te-Te/5),ze.push(Ve);else fe?(Oe=Se.map(function(lt){return(lt.outer-lt.outer/5)*Te}),ze=Se.map(function(lt){return(lt.inner-lt.inner/5)*Te}),Ce=d3.min(Se.map(function(lt){return lt.inner-lt.inner/5}))):(Oe=Se.map(function(lt){return lt.outer*Te}),ze=Se.map(function(lt){return lt.inner*Te}),Ce=d3.min(Se.map(function(lt){return lt.inner})));ee.utils.initSVG(re);var Ge=re.selectAll(".nv-wrap.nv-pie").data(Le),Ye=Ge.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+oe),Xe=Ye.append("g"),Re=Ge.select("g"),Ze=Xe.append("g").attr("class","nv-pie");Xe.append("g").attr("class","nv-pieLabels"),Ge.attr("transform","translate("+ae.left+","+ae.top+")"),Re.select(".nv-pie").attr("transform","translate("+Pe/2+","+Ne/2+")"),Re.select(".nv-pieLabels").attr("transform","translate("+Pe/2+","+Ne/2+")"),re.on("click",function(lt,it){Ee.chartClick({data:lt,index:it,pos:d3.event,id:oe})}),We=[],Fe=[];for(var He=0;He<Le[0].length;He++){var qe=d3.svg.arc().outerRadius(Oe[He]),Ke=d3.svg.arc().outerRadius(Oe[He]+5);!1!==ye&&(qe.startAngle(ye),Ke.startAngle(ye)),!1!==we&&(qe.endAngle(we),Ke.endAngle(we)),me&&(qe.innerRadius(ze[He]),Ke.innerRadius(ze[He])),qe.cornerRadius&&Ae&&(qe.cornerRadius(Ae),Ke.cornerRadius(Ae)),We.push(qe),Fe.push(Ke)}var je=d3.layout.pie().sort(null).value(function(lt){return lt.disabled?0:ie(lt)});je.padAngle&&ke&&je.padAngle(ke),me&&ve&&(Ze.append("text").attr("class","nv-pie-title"),Ge.select(".nv-pie-title").style("text-anchor","middle").text(function(){return ve}).style("font-size",2*(Math.min(Pe,Ne)*Ce)/(ve.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+xe+")"}));var Ue=Ge.select(".nv-pie").selectAll(".nv-slice").data(je),Qe=Ge.select(".nv-pieLabels").selectAll(".nv-label").data(je);Ue.exit().remove(),Qe.exit().remove();var Je=Ue.enter().append("g");if(Je.attr("class","nv-slice"),Je.on("mouseover",function(lt,it){d3.select(this).classed("hover",!0),fe&&d3.select(this).select("path").transition().duration(70).attr("d",Fe[it]),Ee.elementMouseover({data:lt.data,index:it,color:d3.select(this).style("fill"),percent:(lt.endAngle-lt.startAngle)/(2*Math.PI)})}),Je.on("mouseout",function(lt,it){d3.select(this).classed("hover",!1),fe&&d3.select(this).select("path").transition().duration(50).attr("d",We[it]),Ee.elementMouseout({data:lt.data,index:it})}),Je.on("mousemove",function(lt,it){Ee.elementMousemove({data:lt.data,index:it})}),Je.on("click",function(lt,it){var ot=this;Ee.elementClick({data:lt.data,index:it,color:d3.select(this).style("fill"),event:d3.event,element:ot})}),Je.on("dblclick",function(lt,it){Ee.elementDblClick({data:lt.data,index:it,color:d3.select(this).style("fill")})}),Ue.attr("fill",function(lt,it){return de(lt.data,it)}),Ue.attr("stroke",function(lt,it){return de(lt.data,it)}),Je.append("path").each(function(lt){this._current=lt}),(Ue.select("path").transition().duration(Me).attr("d",function(lt,it){return We[it](lt)}).attrTween("d",function(lt,it){lt.endAngle=isNaN(lt.endAngle)?0:lt.endAngle,lt.startAngle=isNaN(lt.startAngle)?0:lt.startAngle,me||(lt.innerRadius=0);var ot=d3.interpolate(this._current,lt);return this._current=ot(0),function(rt){return We[it](ot(rt))}}),pe)){for(var $e=[],He=0;He<Le[0].length;He++)$e.push(We[He]),ge?me&&($e[He]=d3.svg.arc().outerRadius(We[He].outerRadius()),!1!==ye&&$e[He].startAngle(ye),!1!==we&&$e[He].endAngle(we)):me||$e[He].innerRadius(0);Qe.enter().append("g").classed("nv-label",!0).each(function(lt){var ot=d3.select(this);ot.attr("transform",function(rt,dt){if(be){rt.outerRadius=Oe[dt]+10,rt.innerRadius=Oe[dt]+15;var ct=(rt.startAngle+rt.endAngle)/2*(180/Math.PI);return(rt.startAngle+rt.endAngle)/2<Math.PI?ct-=90:ct+=90,"translate("+$e[dt].centroid(rt)+") rotate("+ct+")"}return rt.outerRadius=Te+10,rt.innerRadius=Te+15,"translate("+$e[dt].centroid(rt)+")"}),ot.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),ot.append("text").style("text-anchor",be?(lt.startAngle+lt.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var et={},tt=14,at=140,st=function(lt){return Math.floor(lt[0]/at)*at+","+Math.floor(lt[1]/tt)*tt},nt=function(lt){return(lt.endAngle-lt.startAngle)/(2*Math.PI)};Qe.watchTransition(De,"pie labels").attr("transform",function(lt,it){if(be){lt.outerRadius=Oe[it]+10,lt.innerRadius=Oe[it]+15;var ot=(lt.startAngle+lt.endAngle)/2*(180/Math.PI);return(lt.startAngle+lt.endAngle)/2<Math.PI?ot-=90:ot+=90,"translate("+$e[it].centroid(lt)+") rotate("+ot+")"}lt.outerRadius=Te+10,lt.innerRadius=Te+15;var rt=$e[it].centroid(lt),dt=nt(lt);if(lt.value&&dt>=he){var ct=st(rt);et[ct]&&(rt[1]-=tt),et[st(rt)]=!0}return"translate("+rt+")"}),Qe.select(".nv-label text").style("text-anchor",function(lt){return be?(lt.startAngle+lt.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(lt,it){var ot=nt(lt),rt="";return!lt.value||he>ot?"":("function"==typeof ue?rt=ue(lt,it,{key:le(lt.data),value:ie(lt.data),percent:ce(ot)}):"key"===ue?rt=le(lt.data):"value"===ue?rt=ce(ie(lt.data)):"percent"===ue?rt=d3.format("%")(ot):void 0,rt)})}}),De.renderEnd("pie immediate"),te}var ae={top:0,right:0,bottom:0,left:0},se=500,ne=500,le=function(_e){return _e.x},ie=function(_e){return _e.y},oe=Math.floor(1e4*Math.random()),re=null,de=ee.utils.defaultColor(),ce=d3.format(",.2f"),pe=!0,ge=!1,ue="key",he=.02,me=!1,ve=!1,fe=!0,xe=0,be=!1,ye=!1,ke=!1,we=!1,Ae=0,Ce=.5,Me=250,Se=[],Ee=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),We=[],Fe=[],De=ee.utils.renderWatch(Ee);return te.dispatch=Ee,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{arcsRadius:{get:function(){return Se},set:function(_e){Se=_e}},width:{get:function(){return se},set:function(_e){se=_e}},height:{get:function(){return ne},set:function(_e){ne=_e}},showLabels:{get:function(){return pe},set:function(_e){pe=_e}},title:{get:function(){return ve},set:function(_e){ve=_e}},titleOffset:{get:function(){return xe},set:function(_e){xe=_e}},labelThreshold:{get:function(){return he},set:function(_e){he=_e}},valueFormat:{get:function(){return ce},set:function(_e){ce=_e}},x:{get:function(){return le},set:function(_e){le=_e}},id:{get:function(){return oe},set:function(_e){oe=_e}},endAngle:{get:function(){return we},set:function(_e){we=_e}},startAngle:{get:function(){return ye},set:function(_e){ye=_e}},padAngle:{get:function(){return ke},set:function(_e){ke=_e}},cornerRadius:{get:function(){return Ae},set:function(_e){Ae=_e}},donutRatio:{get:function(){return Ce},set:function(_e){Ce=_e}},labelsOutside:{get:function(){return ge},set:function(_e){ge=_e}},labelSunbeamLayout:{get:function(){return be},set:function(_e){be=_e}},donut:{get:function(){return me},set:function(_e){me=_e}},growOnHover:{get:function(){return fe},set:function(_e){fe=_e}},pieLabelsOutside:{get:function(){return ge},set:function(_e){ge=_e,ee.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return ge},set:function(_e){ge=_e,ee.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return ce},set:function(_e){ce=_e,ee.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return ae},set:function(_e){ae.top="undefined"==typeof _e.top?ae.top:_e.top,ae.right="undefined"==typeof _e.right?ae.right:_e.right,ae.bottom="undefined"==typeof _e.bottom?ae.bottom:_e.bottom,ae.left="undefined"==typeof _e.left?ae.left:_e.left}},duration:{get:function(){return Me},set:function(_e){Me=_e,De.reset(Me)}},y:{get:function(){return ie},set:function(_e){ie=d3.functor(_e)}},color:{get:function(){return de},set:function(_e){de=ee.utils.getColor(_e)}},labelType:{get:function(){return ue},set:function(_e){ue=_e||"key"}}}),ee.utils.initOptions(te),te},ee.models.pieChart=function(){"use strict";function te(ke){return xe.reset(),xe.models(ae),ke.each(function(we){var Ae=d3.select(this);ee.utils.initSVG(Ae);var Ce=ee.utils.availableWidth(oe,Ae,le),Me=ee.utils.availableHeight(re,Ae,le);if(te.update=function(){Ae.transition().call(te)},te.container=this,ue.setter(ye(we),te.update).getter(be(we)).update(),ue.disabled=we.map(function(Le){return!!Le.disabled}),!he){for(var Se in he={},ue)he[Se]=ue[Se]instanceof Array?ue[Se].slice(0):ue[Se]}if(!we||!we.length)return ee.utils.noData(te,Ae),te;Ae.selectAll(".nv-noData").remove();var Ee=Ae.selectAll("g.nv-wrap.nv-pieChart").data([we]),We=Ee.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),Fe=Ee.select("g");if(!(We.append("g").attr("class","nv-pieWrap"),We.append("g").attr("class","nv-legendWrap"),ce))Fe.select(".nv-legendWrap").selectAll("*").remove();else if("top"===pe)se.width(Ce).key(ae.x()),Ee.select(".nv-legendWrap").datum(we).call(se),ie||se.height()===le.top||(le.top=se.height(),Me=ee.utils.availableHeight(re,Ae,le)),Ee.select(".nv-legendWrap").attr("transform","translate(0,"+-le.top+")");else if("right"===pe){var De=ee.models.legend().width();De>Ce/2&&(De=Ce/2),se.height(Me).key(ae.x()),se.width(De),Ce-=se.width(),Ee.select(".nv-legendWrap").datum(we).call(se).attr("transform","translate("+Ce+",0)")}Ee.attr("transform","translate("+le.left+","+le.top+")"),ae.width(Ce).height(Me);var _e=Fe.select(".nv-pieWrap").datum([we]);d3.transition(_e).call(ae),se.dispatch.on("stateChange",function(Le){for(var Be in Le)ue[Be]=Le[Be];fe.stateChange(ue),te.update()}),fe.on("changeState",function(Le){"undefined"!=typeof Le.disabled&&(we.forEach(function(Be,Pe){Be.disabled=Le.disabled[Pe]}),ue.disabled=Le.disabled),te.update()})}),xe.renderEnd("pieChart immediate"),te}var ae=ee.models.pie(),se=ee.models.legend(),ne=ee.models.tooltip(),le={top:30,right:20,bottom:20,left:20},ie=null,oe=null,re=null,de=!1,ce=!0,pe="top",ge=ee.utils.defaultColor(),ue=ee.utils.state(),he=null,me=null,ve=250,fe=d3.dispatch("stateChange","changeState","renderEnd");ne.duration(0).headerEnabled(!1).valueFormatter(function(ke,we){return ae.valueFormat()(ke,we)});var xe=ee.utils.renderWatch(fe),be=function(ke){return function(){return{active:ke.map(function(we){return!we.disabled})}}},ye=function(ke){return function(we){void 0!==we.active&&ke.forEach(function(Ae,Ce){Ae.disabled=!we.active[Ce]})}};return ae.dispatch.on("elementMouseover.tooltip",function(ke){ke.series={key:te.x()(ke.data),value:te.y()(ke.data),color:ke.color,percent:ke.percent},de||(delete ke.percent,delete ke.series.percent),ne.data(ke).hidden(!1)}),ae.dispatch.on("elementMouseout.tooltip",function(){ne.hidden(!0)}),ae.dispatch.on("elementMousemove.tooltip",function(){ne()}),te.legend=se,te.dispatch=fe,te.pie=ae,te.tooltip=ne,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return oe},set:function(ke){oe=ke}},height:{get:function(){return re},set:function(ke){re=ke}},noData:{get:function(){return me},set:function(ke){me=ke}},showTooltipPercent:{get:function(){return de},set:function(ke){de=ke}},showLegend:{get:function(){return ce},set:function(ke){ce=ke}},legendPosition:{get:function(){return pe},set:function(ke){pe=ke}},defaultState:{get:function(){return he},set:function(ke){he=ke}},color:{get:function(){return ge},set:function(ke){ge=ke,se.color(ge),ae.color(ge)}},duration:{get:function(){return ve},set:function(ke){ve=ke,xe.reset(ve),ae.duration(ve)}},margin:{get:function(){return le},set:function(ke){void 0!==ke.top&&(le.top=ke.top,ie=ke.top),le.right=void 0===ke.right?le.right:ke.right,le.bottom=void 0===ke.bottom?le.bottom:ke.bottom,le.left=void 0===ke.left?le.left:ke.left}}}),ee.utils.inheritOptions(te,ae),ee.utils.initOptions(te),te},ee.models.sankey=function(){"use strict";function te(){ue.forEach(function(ye){ye.sourceLinks=[],ye.targetLinks=[]}),he.forEach(function(ye){var ke=ye.source,we=ye.target;"number"==typeof ke&&(ke=ye.source=ue[ye.source]),"number"==typeof we&&(we=ye.target=ue[ye.target]),ke.sourceLinks.push(ye),we.targetLinks.push(ye)})}function ae(){ue.forEach(function(ye){ye.value=Math.max(d3.sum(ye.sourceLinks,re),d3.sum(ye.targetLinks,re))})}function se(){for(var ye,ke=ue,we=0;ke.length&&we<ue.length;)ye=[],ke.forEach(function(Ae){Ae.x=we,Ae.dx=ce,Ae.sourceLinks.forEach(function(Ce){0>ye.indexOf(Ce.target)&&ye.push(Ce.target)})}),ke=ye,++we;me&&ne(we),le((ge[0]-ce)/(we-1))}function ne(ye){ue.forEach(function(ke){ke.sourceLinks.length||(ke.x=ye-1)})}function le(ye){ue.forEach(function(ke){ke.x*=ye})}function ie(ye){function we(We){function Fe(De){return(De.source.y+De.sy+De.dy/2)*De.value}Se.forEach(function(De){De.forEach(function(Le){if(Le.targetLinks.length){var Be=d3.sum(Le.targetLinks,Fe)/d3.sum(Le.targetLinks,re);Le.y+=(Be-be(Le))*We}})})}function Ae(We){function Fe(De){return(De.target.y+De.ty+De.dy/2)*De.value}Se.slice().reverse().forEach(function(De){De.forEach(function(_e){if(_e.sourceLinks.length){var Le=d3.sum(_e.sourceLinks,Fe)/d3.sum(_e.sourceLinks,re);_e.y+=(Le-be(_e))*We}})})}function Ce(){Se.forEach(function(We){var Fe,De,_e,Le=0,Be=We.length;for(We.sort(Me),_e=0;Be>_e;++_e)Fe=We[_e],De=Le-Fe.y,0<De&&(Fe.y+=De),Le=Fe.y+Fe.dy+pe;if(De=Le-pe-ge[1],0<De)for(Le=Fe.y-=De,_e=Be-2;0<=_e;--_e)Fe=We[_e],De=Fe.y+Fe.dy+pe-Le,0<De&&(Fe.y-=De),Le=Fe.y})}function Me(We,Fe){return We.y-Fe.y}var Se=d3.nest().key(function(We){return We.x}).sortKeys(d3.ascending).entries(ue).map(function(We){return We.values});(function(){var We=d3.min(Se,function(Fe){return(ge[1]-(Fe.length-1)*pe)/d3.sum(Fe,re)});Se.forEach(function(Fe){Fe.forEach(function(De,_e){De.y=_e,De.dy=De.value*We})}),he.forEach(function(Fe){Fe.dy=Fe.value*We})})(),Ce(),oe();for(var Ee=1;0<ye;--ye)Ae(Ee*=.99),Ce(),oe(),we(Ee),Ce(),oe()}function oe(){function ye(we,Ae){return we.source.y-Ae.source.y}function ke(we,Ae){return we.target.y-Ae.target.y}ue.forEach(function(we){we.sourceLinks.sort(ke),we.targetLinks.sort(ye)}),ue.forEach(function(we){var Ae=0,Ce=0;we.sourceLinks.forEach(function(Me){Me.sy=Ae,Ae+=Me.dy}),we.targetLinks.forEach(function(Me){Me.ty=Ce,Ce+=Me.dy})})}function re(ye){return ye.value}var de={},ce=24,pe=8,ge=[1,1],ue=[],he=[],me=!0,ve=function(ye){te(),ae(),se(),ie(ye)},fe=function(){oe()},xe=function(){function ye(we){var Ae=we.source.x+we.source.dx,Ce=we.target.x,Me=d3.interpolateNumber(Ae,Ce),Se=Me(ke),Ee=Me(1-ke),We=we.source.y+we.sy+we.dy/2,Fe=we.target.y+we.ty+we.dy/2;return"M"+Ae+","+We+"C"+Se+","+We+" "+Ee+","+Fe+" "+Ce+","+Fe}var ke=.5;return ye.curvature=function(we){return arguments.length?(ke=+we,ye):ke},ye},be=function(ye){return ye.y+ye.dy/2};return de.options=ee.utils.optionsFunc.bind(de),de._options=Object.create({},{nodeWidth:{get:function(){return ce},set:function(ye){ce=+ye}},nodePadding:{get:function(){return pe},set:function(ye){pe=ye}},nodes:{get:function(){return ue},set:function(ye){ue=ye}},links:{get:function(){return he},set:function(ye){he=ye}},size:{get:function(){return ge},set:function(ye){ge=ye}},sinksRight:{get:function(){return me},set:function(ye){me=ye}},layout:{get:function(){ve(32)},set:function(ye){ve(ye)}},relayout:{get:function(){fe()},set:function(){}},center:{get:function(){return be()},set:function(ye){"function"==typeof ye&&(be=ye)}},link:{get:function(){return xe()},set:function(ye){return"function"==typeof ye&&(xe=ye),xe()}}}),ee.utils.initOptions(de),de},ee.models.sankeyChart=function(){"use strict";function te(xe){return xe.each(function(be){var ke={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},we=!1,Ae=!1;if(0<=("object"==typeof be.nodes&&be.nodes.length)&&0<=("object"==typeof be.links&&be.links.length)&&(we=!0),be.nodes&&0<be.nodes.length&&be.links&&0<be.links.length&&(Ae=!0),!we)return console.error("NVD3 Sankey chart error:","invalid data format for",be),console.info("Valid data format is: ",ke,JSON.stringify(ke)),fe(xe,"Error loading chart, data is invalid"),!1;if(!Ae)return fe(xe,"No data available"),!1;var Ce=xe.append("svg").attr("width",ne).attr("height",le).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");se.nodeWidth(ie).nodePadding(oe).size([ne,le]);var Me=se.link();se.nodes(be.nodes).links(be.links).layout(32).center(de);var Se=Ce.append("g").selectAll(".link").data(be.links).enter().append("path").attr("class","link").attr("d",Me).style("stroke-width",function(We){return Math.max(1,We.dy)}).sort(function(We,Fe){return Fe.dy-We.dy});Se.append("title").text(ue);var Ee=Ce.append("g").selectAll(".node").data(be.nodes).enter().append("g").attr("class","node").attr("transform",function(We){return"translate("+We.x+","+We.y+")"}).call(d3.behavior.drag().origin(function(We){return We}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(We){d3.select(this).attr("transform","translate("+We.x+","+(We.y=Math.max(0,Math.min(le-We.dy,d3.event.y)))+")"),se.relayout(),Se.attr("d",Me)}));Ee.append("rect").attr("height",function(We){return We.dy}).attr("width",se.nodeWidth()).style("fill",he).style("stroke",me).append("title").text(ve),Ee.append("text").attr("x",-6).attr("y",function(We){return We.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(We){return We.name}).filter(function(We){return We.x<ne/2}).attr("x",6+se.nodeWidth()).attr("text-anchor","start")}),te}var ae={top:5,right:0,bottom:5,left:0},se=ee.models.sankey(),ne=600,le=400,ie=36,oe=40,re="units",de,ce=d3.format(",.0f"),pe=function(xe){return ce(xe)+" "+re},ge=d3.scale.category20(),ue=function(xe){return xe.source.name+" \u2192 "+xe.target.name+"\n"+pe(xe.value)},he=function(xe){return xe.color=ge(xe.name.replace(/ .*/,""))},me=function(xe){return d3.rgb(xe.color).darker(2)},ve=function(xe){return xe.name+"\n"+pe(xe.value)},fe=function(xe,be){xe.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(be)};return te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{units:{get:function(){return re},set:function(xe){re=xe}},width:{get:function(){return ne},set:function(xe){ne=xe}},height:{get:function(){return le},set:function(xe){le=xe}},format:{get:function(){return pe},set:function(xe){pe=xe}},linkTitle:{get:function(){return ue},set:function(xe){ue=xe}},nodeWidth:{get:function(){return ie},set:function(xe){ie=xe}},nodePadding:{get:function(){return oe},set:function(xe){oe=xe}},center:{get:function(){return de},set:function(xe){de=xe}},margin:{get:function(){return ae},set:function(xe){ae.top=void 0===xe.top?ae.top:xe.top,ae.right=void 0===xe.right?ae.right:xe.right,ae.bottom=void 0===xe.bottom?ae.bottom:xe.bottom,ae.left=void 0===xe.left?ae.left:xe.left}},nodeStyle:{get:function(){return{}},set:function(xe){he=void 0===xe.fillColor?he:xe.fillColor,me=void 0===xe.strokeColor?me:xe.strokeColor,ve=void 0===xe.title?ve:xe.title}}}),ee.utils.initOptions(te),te},ee.models.scatter=function(){"use strict";function te(Je){var $e,et;return $e=Je[0].series+":"+Je[1],et=Qe[$e]=Qe[$e]||{}}function ae(Je){var $e;$e=Je[0].series+":"+Je[1],delete Qe[$e]}function se(Je){var $e,et,tt,at=te(Je),st=!1;for($e=1;$e<arguments.length;$e+=2)et=arguments[$e],tt=arguments[$e+1](Je[0],Je[1]),at[et]===tt&&at.hasOwnProperty(et)||(at[et]=tt,st=!0);return st}function ne(Je){return je.reset(),Je.each(function($e){function et(){if(Ke=!1,!We)return!1;if(!0===Xe){var vt=d3.merge($e.map(function(At,Ct){return At.values.map(function(Mt,St){var Et=ke(Mt,St),Wt=we(Mt,St);return[ee.utils.NaNtoZero(xe(Et))+1e-4*Math.random(),ee.utils.NaNtoZero(be(Wt))+1e-4*Math.random(),Ct,St,Mt]}).filter(function(Mt,St){return Fe(Mt[4],St)})}));if(0==vt.length)return!1;3>vt.length&&(vt.push([xe.range()[0]-20,be.range()[0]-20,null,null]),vt.push([xe.range()[1]+20,be.range()[1]+20,null,null]),vt.push([xe.range()[0]-20,be.range()[0]+20,null,null]),vt.push([xe.range()[1]+20,be.range()[1]-20,null,null]));var ft=d3.geom.polygon([[-10,-10],[-10,ue+10],[ge+10,ue+10],[ge+10,-10]]),xt=d3.geom.voronoi(vt).map(function(At,Ct){return{data:ft.clip(At),series:vt[Ct][2],point:vt[Ct][3]}});rt.select(".nv-point-paths").selectAll("path").remove();var bt=rt.select(".nv-point-paths").selectAll("path").data(xt),yt=bt.enter().append("svg:path").attr("d",function(At){return At&&At.data&&0!==At.data.length?"M"+At.data.join(",")+"Z":"M 0 0"}).attr("id",function(At,Ct){return"nv-path-"+Ct}).attr("clip-path",function(At,Ct){return"url(#nv-clip-"+ve+"-"+Ct+")"});if(Pe&&yt.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),Be){rt.select(".nv-point-clips").selectAll("*").remove();var kt=rt.select(".nv-point-clips").selectAll("clipPath").data(vt);kt.enter().append("svg:clipPath").attr("id",function(At,Ct){return"nv-clip-"+ve+"-"+Ct}).append("svg:circle").attr("cx",function(At){return At[0]}).attr("cy",function(At){return At[1]}).attr("r",Ne)}var wt=function(At,Ct,Mt){if(Ke)return 0;var St=$e[Ct.series];if(void 0!==St){var Et=St.values[Ct.point];Et.color=he(St,Ct.series),Et.x=ke(Et),Et.y=we(Et);var Wt=fe.node().getBoundingClientRect(),Ft=window.pageYOffset||document.documentElement.scrollTop,Dt=window.pageXOffset||document.documentElement.scrollLeft,_t={left:xe(ke(Et,Ct.point))+Wt.left+Dt+pe.left+10,top:be(we(Et,Ct.point))+Wt.top+Ft+pe.top+10};Mt({point:Et,series:St,pos:_t,relativePos:[xe(ke(Et,Ct.point))+pe.left,be(we(Et,Ct.point))+pe.top],seriesIndex:Ct.series,pointIndex:Ct.point,event:d3.event,element:At})}};bt.on("click",function(At){wt(this,At,Ye.elementClick)}).on("dblclick",function(At){wt(this,At,Ye.elementDblClick)}).on("mouseover",function(At){wt(this,At,Ye.elementMouseover)}).on("mouseout",function(At){wt(this,At,Ye.elementMouseout)})}else rt.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(At,Ct){if(Ke||!$e[At.series])return 0;var Mt=$e[At.series],St=Mt.values[Ct],Et=this;Ye.elementClick({point:St,series:Mt,pos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],relativePos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],seriesIndex:At.series,pointIndex:Ct,event:d3.event,element:Et})}).on("dblclick",function(At,Ct){if(Ke||!$e[At.series])return 0;var Mt=$e[At.series],St=Mt.values[Ct];Ye.elementDblClick({point:St,series:Mt,pos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],relativePos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],seriesIndex:At.series,pointIndex:Ct})}).on("mouseover",function(At,Ct){if(Ke||!$e[At.series])return 0;var Mt=$e[At.series],St=Mt.values[Ct];Ye.elementMouseover({point:St,series:Mt,pos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],relativePos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],seriesIndex:At.series,pointIndex:Ct,color:he(At,Ct)})}).on("mouseout",function(At,Ct){if(Ke||!$e[At.series])return 0;var Mt=$e[At.series],St=Mt.values[Ct];Ye.elementMouseout({point:St,series:Mt,pos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],relativePos:[xe(ke(St,Ct))+pe.left,be(we(St,Ct))+pe.top],seriesIndex:At.series,pointIndex:Ct,color:he(At,Ct)})})}fe=d3.select(this);var tt=ee.utils.availableWidth(ge,fe,pe),at=ee.utils.availableHeight(ue,fe,pe);ee.utils.initSVG(fe),$e.forEach(function(vt,ft){vt.values.forEach(function(xt){xt.series=ft})});var st=!(ne.yScale().name!==d3.scale.log().name),nt=Te&&Oe&&Ve?[]:d3.merge($e.map(function(vt){return vt.values.map(function(ft,xt){return{x:ke(ft,xt),y:we(ft,xt),size:Ae(ft,xt)}})}));if(xe.domain(Te||d3.extent(nt.map(function(vt){return vt.x}).concat(Me))),De&&$e[0]?xe.range(ze||[(tt*_e+tt)/(2*$e[0].values.length),tt-tt*(1+_e)/(2*$e[0].values.length)]):xe.range(ze||[0,tt]),st){var lt=d3.min(nt.map(function(vt){return 0===vt.y?void 0:vt.y}));be.clamp(!0).domain(Oe||d3.extent(nt.map(function(vt){return 0===vt.y?.1*lt:vt.y}).concat(Se))).range(Ie||[at,0])}else be.domain(Oe||d3.extent(nt.map(function(vt){return vt.y}).concat(Se))).range(Ie||[at,0]);ye.domain(Ve||d3.extent(nt.map(function(vt){return vt.size}).concat(Ee))).range(He||Ue),Ge=xe.domain()[0]===xe.domain()[1]||be.domain()[0]===be.domain()[1],xe.domain()[0]===xe.domain()[1]&&(xe.domain()[0]?xe.domain([xe.domain()[0]-.01*xe.domain()[0],xe.domain()[1]+.01*xe.domain()[1]]):xe.domain([-1,1])),be.domain()[0]===be.domain()[1]&&(be.domain()[0]?be.domain([be.domain()[0]-.01*be.domain()[0],be.domain()[1]+.01*be.domain()[1]]):be.domain([-1,1])),isNaN(xe.domain()[0])&&xe.domain([-1,1]),isNaN(be.domain()[0])&&be.domain([-1,1]),le=le||xe,ie=ie||be,oe=oe||ye;var it=xe(1)!==le(1)||be(1)!==ie(1)||ye(1)!==oe(1);re=re||ge,de=de||ue;var ot=re!==ge||de!==ue,rt=fe.selectAll("g.nv-wrap.nv-scatter").data([$e]),dt=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+ve),ct=dt.append("defs"),pt=dt.append("g"),gt=rt.select("g");rt.classed("nv-single-point",Ge),pt.append("g").attr("class","nv-groups"),pt.append("g").attr("class","nv-point-paths"),dt.append("g").attr("class","nv-point-clips"),rt.attr("transform","translate("+pe.left+","+pe.top+")"),ct.append("clipPath").attr("id","nv-edge-clip-"+ve).append("rect").attr("transform","translate( -10, -10)"),rt.select("#nv-edge-clip-"+ve+" rect").attr("width",tt+20).attr("height",0<at?at+20:0),gt.attr("clip-path",Le?"url(#nv-edge-clip-"+ve+")":""),Ke=!0;var ut=rt.select(".nv-groups").selectAll(".nv-group").data(function(vt){return vt},function(vt){return vt.key});ut.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ut.exit().remove(),ut.attr("class",function(vt,ft){return(vt.classed||"")+" nv-group nv-series-"+ft}).classed("nv-noninteractive",!We).classed("hover",function(vt){return vt.hover}),ut.watchTransition(je,"scatter: groups").style("fill",function(vt,ft){return he(vt,ft)}).style("stroke",function(vt,ft){return vt.pointBorderColor||me||he(vt,ft)}).style("stroke-opacity",1).style("fill-opacity",.5);var ht=ut.selectAll("path.nv-point").data(function(vt){return vt.values.map(function(ft,xt){return[ft,xt]}).filter(function(ft,xt){return Fe(ft[0],xt)})});if(ht.enter().append("path").attr("class",function(vt){return"nv-point nv-point-"+vt[1]}).style("fill",function(vt){return vt.color}).style("stroke",function(vt){return vt.color}).attr("transform",function(vt){return"translate("+ee.utils.NaNtoZero(le(ke(vt[0],vt[1])))+","+ee.utils.NaNtoZero(ie(we(vt[0],vt[1])))+")"}).attr("d",ee.utils.symbol().type(function(vt){return Ce(vt[0])}).size(function(vt){return ye(Ae(vt[0],vt[1]))})),ht.exit().each(ae).remove(),ut.exit().selectAll("path.nv-point").watchTransition(je,"scatter exit").attr("transform",function(vt){return"translate("+ee.utils.NaNtoZero(xe(ke(vt[0],vt[1])))+","+ee.utils.NaNtoZero(be(we(vt[0],vt[1])))+")"}).remove(),ht.filter(function(vt){return it||ot||se(vt,"x",ke,"y",we)}).watchTransition(je,"scatter points").attr("transform",function(vt){return"translate("+ee.utils.NaNtoZero(xe(ke(vt[0],vt[1])))+","+ee.utils.NaNtoZero(be(we(vt[0],vt[1])))+")"}),ht.filter(function(vt){return it||ot||se(vt,"shape",Ce,"size",Ae)}).watchTransition(je,"scatter points").attr("d",ee.utils.symbol().type(function(vt){return Ce(vt[0])}).size(function(vt){return ye(Ae(vt[0],vt[1]))})),qe){var mt=ut.selectAll(".nv-label").data(function(vt){return vt.values.map(function(ft,xt){return[ft,xt]}).filter(function(ft,xt){return Fe(ft[0],xt)})});mt.enter().append("text").style("fill",function(vt){return vt.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(vt){var ft=ee.utils.NaNtoZero(le(ke(vt[0],vt[1])))+Math.sqrt(ye(Ae(vt[0],vt[1]))/Math.PI)+2;return"translate("+ft+","+ee.utils.NaNtoZero(ie(we(vt[0],vt[1])))+")"}).text(function(vt){return vt[0].label}),mt.exit().remove(),ut.exit().selectAll("path.nv-label").watchTransition(je,"scatter exit").attr("transform",function(vt){var ft=ee.utils.NaNtoZero(xe(ke(vt[0],vt[1])))+Math.sqrt(ye(Ae(vt[0],vt[1]))/Math.PI)+2;return"translate("+ft+","+ee.utils.NaNtoZero(be(we(vt[0],vt[1])))+")"}).remove(),mt.each(function(vt){d3.select(this).classed("nv-label",!0).classed("nv-label-"+vt[1],!1).classed("hover",!1)}),mt.watchTransition(je,"scatter labels").attr("transform",function(vt){var ft=ee.utils.NaNtoZero(xe(ke(vt[0],vt[1])))+Math.sqrt(ye(Ae(vt[0],vt[1]))/Math.PI)+2;return"translate("+ft+","+ee.utils.NaNtoZero(be(we(vt[0],vt[1])))+")"})}Ze?(clearTimeout(ce),ce=setTimeout(et,Ze)):et(),le=xe.copy(),ie=be.copy(),oe=ye.copy(),re=ge,de=ue}),je.renderEnd("scatter immediate"),ne}var le,ie,oe,re,de,ce,pe={top:0,right:0,bottom:0,left:0},ge=null,ue=null,he=ee.utils.defaultColor(),me=null,ve=Math.floor(1e5*Math.random()),fe=null,xe=d3.scale.linear(),be=d3.scale.linear(),ye=d3.scale.linear(),ke=function(Je){return Je.x},we=function(Je){return Je.y},Ae=function(Je){return Je.size||1},Ce=function(Je){return Je.shape||"circle"},Me=[],Se=[],Ee=[],We=!0,Fe=function(Je){return!Je.notActive},De=!1,_e=.1,Le=!1,Be=!0,Pe=!1,Ne=function(){return 25},Te=null,Oe=null,ze=null,Ie=null,Ve=null,He=null,Ge=!1,Ye=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),Xe=!0,Re=250,Ze=300,qe=!1,Ke=!1,je=ee.utils.renderWatch(Ye,Re),Ue=[16,256],Qe={};return ne.dispatch=Ye,ne.options=ee.utils.optionsFunc.bind(ne),ne._calls=new function(){this.clearHighlights=function(){return ee.dom.write(function(){fe.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(Je,$e,et){ee.dom.write(function(){fe.select(".nv-groups").selectAll(".nv-series-"+Je).selectAll(".nv-point-"+$e).classed("hover",et)})}},Ye.on("elementMouseover.point",function(Je){We&&ne._calls.highlightPoint(Je.seriesIndex,Je.pointIndex,!0)}),Ye.on("elementMouseout.point",function(Je){We&&ne._calls.highlightPoint(Je.seriesIndex,Je.pointIndex,!1)}),ne._options=Object.create({},{width:{get:function(){return ge},set:function(Je){ge=Je}},height:{get:function(){return ue},set:function(Je){ue=Je}},xScale:{get:function(){return xe},set:function(Je){xe=Je}},yScale:{get:function(){return be},set:function(Je){be=Je}},pointScale:{get:function(){return ye},set:function(Je){ye=Je}},xDomain:{get:function(){return Te},set:function(Je){Te=Je}},yDomain:{get:function(){return Oe},set:function(Je){Oe=Je}},pointDomain:{get:function(){return Ve},set:function(Je){Ve=Je}},xRange:{get:function(){return ze},set:function(Je){ze=Je}},yRange:{get:function(){return Ie},set:function(Je){Ie=Je}},pointRange:{get:function(){return He},set:function(Je){He=Je}},forceX:{get:function(){return Me},set:function(Je){Me=Je}},forceY:{get:function(){return Se},set:function(Je){Se=Je}},forcePoint:{get:function(){return Ee},set:function(Je){Ee=Je}},interactive:{get:function(){return We},set:function(Je){We=Je}},pointActive:{get:function(){return Fe},set:function(Je){Fe=Je}},padDataOuter:{get:function(){return _e},set:function(Je){_e=Je}},padData:{get:function(){return De},set:function(Je){De=Je}},clipEdge:{get:function(){return Le},set:function(Je){Le=Je}},clipVoronoi:{get:function(){return Be},set:function(Je){Be=Je}},clipRadius:{get:function(){return Ne},set:function(Je){Ne=Je}},showVoronoi:{get:function(){return Pe},set:function(Je){Pe=Je}},id:{get:function(){return ve},set:function(Je){ve=Je}},interactiveUpdateDelay:{get:function(){return Ze},set:function(Je){Ze=Je}},showLabels:{get:function(){return qe},set:function(Je){qe=Je}},pointBorderColor:{get:function(){return me},set:function(Je){me=Je}},x:{get:function(){return ke},set:function(Je){ke=d3.functor(Je)}},y:{get:function(){return we},set:function(Je){we=d3.functor(Je)}},pointSize:{get:function(){return Ae},set:function(Je){Ae=d3.functor(Je)}},pointShape:{get:function(){return Ce},set:function(Je){Ce=d3.functor(Je)}},margin:{get:function(){return pe},set:function(Je){pe.top=void 0===Je.top?pe.top:Je.top,pe.right=void 0===Je.right?pe.right:Je.right,pe.bottom=void 0===Je.bottom?pe.bottom:Je.bottom,pe.left=void 0===Je.left?pe.left:Je.left}},duration:{get:function(){return Re},set:function(Je){Re=Je,je.reset(Re)}},color:{get:function(){return he},set:function(Je){he=ee.utils.getColor(Je)}},useVoronoi:{get:function(){return Xe},set:function(Je){Xe=Je,!1===Xe&&(Be=!1)}}}),ee.utils.initOptions(ne),ne},ee.models.scatterChart=function(){"use strict";function te(Pe){return _e.reset(),_e.models(ae),ye&&_e.models(se),ke&&_e.models(ne),fe&&_e.models(ie),xe&&_e.models(oe),Pe.each(function(Ne){ue=d3.select(this),ee.utils.initSVG(ue);var Te=ee.utils.availableWidth(pe,ue,de),Oe=ee.utils.availableHeight(ge,ue,de);if(te.update=function(){0===Ee?ue.call(te):ue.transition().duration(Ee).call(te)},te.container=this,Ae.setter(Be(Ne),te.update).getter(Le(Ne)).update(),Ae.disabled=Ne.map(function(Ze){return!!Ze.disabled}),!Ce){for(var ze in Ce={},Ae)Ce[ze]=Ae[ze]instanceof Array?Ae[ze].slice(0):Ae[ze]}if(!(Ne&&Ne.length&&Ne.filter(function(Ze){return Ze.values.length}).length))return ee.utils.noData(te,ue),_e.renderEnd("scatter immediate"),te;ue.selectAll(".nv-noData").remove(),me=ae.xScale(),ve=ae.yScale();var Ie=ue.selectAll("g.nv-wrap.nv-scatterChart").data([Ne]),Ve=Ie.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+ae.id()),He=Ve.append("g"),Ge=Ie.select("g");if(He.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),He.append("g").attr("class","nv-x nv-axis"),He.append("g").attr("class","nv-y nv-axis"),He.append("g").attr("class","nv-scatterWrap"),He.append("g").attr("class","nv-regressionLinesWrap"),He.append("g").attr("class","nv-distWrap"),He.append("g").attr("class","nv-legendWrap"),we&&Ge.select(".nv-y.nv-axis").attr("transform","translate("+Te+",0)"),be){le.width(Te),Ie.select(".nv-legendWrap").datum(Ne).call(le),ce||le.height()===de.top||(de.top=le.height(),Oe=ee.utils.availableHeight(ge,ue,de)),Ie.select(".nv-legendWrap").attr("transform","translate(0,"+-de.top+")")}else Ge.select(".nv-legendWrap").selectAll("*").remove();Ie.attr("transform","translate("+de.left+","+de.top+")"),ae.width(Te).height(Oe).color(Ne.map(function(Ze,qe){return Ze.color=Ze.color||he(Ze,qe),Ze.color}).filter(function(Ze,qe){return!Ne[qe].disabled})).showLabels(We),Ie.select(".nv-scatterWrap").datum(Ne.filter(function(Ze){return!Ze.disabled})).call(ae),Ie.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+ae.id()+")");var Xe=Ie.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(Ze){return Ze});Xe.enter().append("g").attr("class","nv-regLines");var Re=Xe.selectAll(".nv-regLine").data(function(Ze){return[Ze]});Re.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),Re.filter(function(Ze){return Ze.intercept&&Ze.slope}).watchTransition(_e,"scatterPlusLineChart: regline").attr("x1",me.range()[0]).attr("x2",me.range()[1]).attr("y1",function(Ze){return ve(me.domain()[0]*Ze.slope+Ze.intercept)}).attr("y2",function(Ze){return ve(me.domain()[1]*Ze.slope+Ze.intercept)}).style("stroke",function(Ze,qe,Ke){return he(Ze,Ke)}).style("stroke-opacity",function(Ze){return Ze.disabled||"undefined"==typeof Ze.slope||"undefined"==typeof Ze.intercept?0:1}),ye&&(se.scale(me)._ticks(ee.utils.calcTicksX(Te/100,Ne)).tickSize(-Oe,0),Ge.select(".nv-x.nv-axis").attr("transform","translate(0,"+ve.range()[0]+")").call(se)),ke&&(ne.scale(ve)._ticks(ee.utils.calcTicksY(Oe/36,Ne)).tickSize(-Te,0),Ge.select(".nv-y.nv-axis").call(ne)),fe&&(ie.getData(ae.x()).scale(me).width(Te).color(Ne.map(function(Ze,qe){return Ze.color||he(Ze,qe)}).filter(function(Ze,qe){return!Ne[qe].disabled})),He.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),Ge.select(".nv-distributionX").attr("transform","translate(0,"+ve.range()[0]+")").datum(Ne.filter(function(Ze){return!Ze.disabled})).call(ie)),xe&&(oe.getData(ae.y()).scale(ve).width(Oe).color(Ne.map(function(Ze,qe){return Ze.color||he(Ze,qe)}).filter(function(Ze,qe){return!Ne[qe].disabled})),He.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),Ge.select(".nv-distributionY").attr("transform","translate("+(we?Te:-oe.size())+",0)").datum(Ne.filter(function(Ze){return!Ze.disabled})).call(oe)),le.dispatch.on("stateChange",function(Ze){for(var qe in Ze)Ae[qe]=Ze[qe];Me.stateChange(Ae),te.update()}),Me.on("changeState",function(Ze){"undefined"!=typeof Ze.disabled&&(Ne.forEach(function(qe,Ke){qe.disabled=Ze.disabled[Ke]}),Ae.disabled=Ze.disabled),te.update()}),ae.dispatch.on("elementMouseout.tooltip",function(Ze){re.hidden(!0),ue.select(".nv-chart-"+ae.id()+" .nv-series-"+Ze.seriesIndex+" .nv-distx-"+Ze.pointIndex).attr("y1",0),ue.select(".nv-chart-"+ae.id()+" .nv-series-"+Ze.seriesIndex+" .nv-disty-"+Ze.pointIndex).attr("x2",oe.size())}),ae.dispatch.on("elementMouseover.tooltip",function(Ze){ue.select(".nv-series-"+Ze.seriesIndex+" .nv-distx-"+Ze.pointIndex).attr("y1",Ze.relativePos[1]-Oe),ue.select(".nv-series-"+Ze.seriesIndex+" .nv-disty-"+Ze.pointIndex).attr("x2",Ze.relativePos[0]+ie.size()),re.data(Ze).hidden(!1)}),Fe=me.copy(),De=ve.copy()}),_e.renderEnd("scatter with line immediate"),te}var ae=ee.models.scatter(),se=ee.models.axis(),ne=ee.models.axis(),le=ee.models.legend(),ie=ee.models.distribution(),oe=ee.models.distribution(),re=ee.models.tooltip(),de={top:30,right:20,bottom:50,left:75},ce=null,pe=null,ge=null,ue=null,he=ee.utils.defaultColor(),me=ae.xScale(),ve=ae.yScale(),fe=!1,xe=!1,be=!0,ye=!0,ke=!0,we=!1,Ae=ee.utils.state(),Ce=null,Me=d3.dispatch("stateChange","changeState","renderEnd"),Se=null,Ee=250,We=!1;ae.xScale(me).yScale(ve),se.orient("bottom").tickPadding(10),ne.orient(we?"right":"left").tickPadding(10),ie.axis("x"),oe.axis("y"),re.headerFormatter(function(Pe,Ne){return se.tickFormat()(Pe,Ne)}).valueFormatter(function(Pe,Ne){return ne.tickFormat()(Pe,Ne)});var Fe,De,_e=ee.utils.renderWatch(Me,Ee),Le=function(Pe){return function(){return{active:Pe.map(function(Ne){return!Ne.disabled})}}},Be=function(Pe){return function(Ne){void 0!==Ne.active&&Pe.forEach(function(Te,Oe){Te.disabled=!Ne.active[Oe]})}};return te.dispatch=Me,te.scatter=ae,te.legend=le,te.xAxis=se,te.yAxis=ne,te.distX=ie,te.distY=oe,te.tooltip=re,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return pe},set:function(Pe){pe=Pe}},height:{get:function(){return ge},set:function(Pe){ge=Pe}},container:{get:function(){return ue},set:function(Pe){ue=Pe}},showDistX:{get:function(){return fe},set:function(Pe){fe=Pe}},showDistY:{get:function(){return xe},set:function(Pe){xe=Pe}},showLegend:{get:function(){return be},set:function(Pe){be=Pe}},showXAxis:{get:function(){return ye},set:function(Pe){ye=Pe}},showYAxis:{get:function(){return ke},set:function(Pe){ke=Pe}},defaultState:{get:function(){return Ce},set:function(Pe){Ce=Pe}},noData:{get:function(){return Se},set:function(Pe){Se=Pe}},duration:{get:function(){return Ee},set:function(Pe){Ee=Pe}},showLabels:{get:function(){return We},set:function(Pe){We=Pe}},margin:{get:function(){return de},set:function(Pe){void 0!==Pe.top&&(de.top=Pe.top,ce=Pe.top),de.right=void 0===Pe.right?de.right:Pe.right,de.bottom=void 0===Pe.bottom?de.bottom:Pe.bottom,de.left=void 0===Pe.left?de.left:Pe.left}},rightAlignYAxis:{get:function(){return we},set:function(Pe){we=Pe,ne.orient(Pe?"right":"left")}},color:{get:function(){return he},set:function(Pe){he=ee.utils.getColor(Pe),le.color(he),ie.color(he),oe.color(he)}}}),ee.utils.inheritOptions(te,ae),ee.utils.initOptions(te),te},ee.models.sparkline=function(){"use strict";function te(ye){return be.reset(),ye.each(function(ke){var we=oe-ie.left-ie.right,Ae=re-ie.top-ie.bottom;de=d3.select(this),ee.utils.initSVG(de),pe.domain(ae||d3.extent(ke,ue)).range(ne||[0,we]),ge.domain(se||d3.extent(ke,he)).range(le||[Ae,0]);var Ce=de.selectAll("g.nv-wrap.nv-sparkline").data([ke]),Me=Ce.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");Me.append("g"),Ce.select("g"),Ce.attr("transform","translate("+ie.left+","+ie.top+")");var Se=Ce.selectAll("path").data(function(We){return[We]});Se.enter().append("path"),Se.exit().remove(),Se.style("stroke",function(We,Fe){return We.color||me(We,Fe)}).attr("d",d3.svg.line().x(function(We,Fe){return pe(ue(We,Fe))}).y(function(We,Fe){return ge(he(We,Fe))}));var Ee=Ce.selectAll("circle.nv-point").data(function(We){function Fe(Pe){if(-1!=Pe){var Ne=We[Pe];return Ne.pointIndex=Pe,Ne}return null}var De=We.map(function(Pe,Ne){return he(Pe,Ne)}),_e=Fe(De.lastIndexOf(ge.domain()[1])),Le=Fe(De.indexOf(ge.domain()[0])),Be=Fe(De.length-1);return[ve?Le:null,ve?_e:null,fe?Be:null].filter(function(Pe){return null!=Pe})});Ee.enter().append("circle"),Ee.exit().remove(),Ee.attr("cx",function(We){return pe(ue(We,We.pointIndex))}).attr("cy",function(We){return ge(he(We,We.pointIndex))}).attr("r",2).attr("class",function(We){return ue(We,We.pointIndex)==pe.domain()[1]?"nv-point nv-currentValue":he(We,We.pointIndex)==ge.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),be.renderEnd("sparkline immediate"),te}var ae,se,ne,le,ie={top:2,right:0,bottom:2,left:0},oe=400,re=32,de=null,ce=!0,pe=d3.scale.linear(),ge=d3.scale.linear(),ue=function(ye){return ye.x},he=function(ye){return ye.y},me=ee.utils.getColor(["#000"]),ve=!0,fe=!0,xe=d3.dispatch("renderEnd"),be=ee.utils.renderWatch(xe);return te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return oe},set:function(ye){oe=ye}},height:{get:function(){return re},set:function(ye){re=ye}},xDomain:{get:function(){return ae},set:function(ye){ae=ye}},yDomain:{get:function(){return se},set:function(ye){se=ye}},xRange:{get:function(){return ne},set:function(ye){ne=ye}},yRange:{get:function(){return le},set:function(ye){le=ye}},xScale:{get:function(){return pe},set:function(ye){pe=ye}},yScale:{get:function(){return ge},set:function(ye){ge=ye}},animate:{get:function(){return ce},set:function(ye){ce=ye}},showMinMaxPoints:{get:function(){return ve},set:function(ye){ve=ye}},showCurrentPoint:{get:function(){return fe},set:function(ye){fe=ye}},x:{get:function(){return ue},set:function(ye){ue=d3.functor(ye)}},y:{get:function(){return he},set:function(ye){he=d3.functor(ye)}},margin:{get:function(){return ie},set:function(ye){ie.top=void 0===ye.top?ie.top:ye.top,ie.right=void 0===ye.right?ie.right:ye.right,ie.bottom=void 0===ye.bottom?ie.bottom:ye.bottom,ie.left=void 0===ye.left?ie.left:ye.left}},color:{get:function(){return me},set:function(ye){me=ee.utils.getColor(ye)}}}),te.dispatch=xe,ee.utils.initOptions(te),te},ee.models.sparklinePlus=function(){"use strict";function te(xe){return fe.reset(),fe.models(ne),xe.each(function(be){function ye(){if(!de){var Be=Fe.selectAll(".nv-hoverValue").data(re),Pe=Be.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);Be.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),Be.attr("transform",function(Ne){return"translate("+ae(ne.x()(be[Ne],Ne))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),re.length&&(Pe.append("line").attr("x1",0).attr("y1",-le.top).attr("x2",0).attr("y2",Ce),Pe.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-le.top).attr("text-anchor","end").attr("dy",".9em"),Fe.select(".nv-hoverValue .nv-xValue").text(ce(ne.x()(be[re[0]],re[0]))),Pe.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-le.top).attr("text-anchor","start").attr("dy",".9em"),Fe.select(".nv-hoverValue .nv-yValue").text(pe(ne.y()(be[re[0]],re[0]))))}}var we=d3.select(this);ee.utils.initSVG(we);var Ae=ee.utils.availableWidth(ie,we,le),Ce=ee.utils.availableHeight(oe,we,le);if(te.update=function(){we.call(te)},te.container=this,!be||!be.length)return ee.utils.noData(te,we),te;we.selectAll(".nv-noData").remove();var Me=ne.y()(be[be.length-1],be.length-1);ae=ne.xScale(),se=ne.yScale();var Se=we.selectAll("g.nv-wrap.nv-sparklineplus").data([be]),Ee=Se.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),We=Ee.append("g"),Fe=Se.select("g");We.append("g").attr("class","nv-sparklineWrap"),We.append("g").attr("class","nv-valueWrap"),We.append("g").attr("class","nv-hoverArea"),Se.attr("transform","translate("+le.left+","+le.top+")");var De=Fe.select(".nv-sparklineWrap");if(ne.width(Ae).height(Ce),De.call(ne),ge){var _e=Fe.select(".nv-valueWrap"),Le=_e.selectAll(".nv-currentValue").data([Me]);Le.enter().append("text").attr("class","nv-currentValue").attr("dx",he?-8:8).attr("dy",".9em").style("text-anchor",he?"end":"start"),Le.attr("x",Ae+(he?le.right:0)).attr("y",ue?function(Be){return se(Be)}:0).style("fill",ne.color()(be[be.length-1],be.length-1)).text(pe(Me))}We.select(".nv-hoverArea").append("rect").on("mousemove",function(){function Be(Ne,Te){for(var Oe=Math.abs(ne.x()(Ne[0],0)-Te),ze=0,Ie=0;Ie<Ne.length;Ie++)Math.abs(ne.x()(Ne[Ie],Ie)-Te)<Oe&&(Oe=Math.abs(ne.x()(Ne[Ie],Ie)-Te),ze=Ie);return ze}if(!de){var Pe=d3.mouse(this)[0]-le.left;re=[Be(be,Math.round(ae.invert(Pe)))],ye()}}).on("click",function(){de=!de}).on("mouseout",function(){re=[],ye()}),Fe.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-le.left+","+-le.top+")"}).attr("width",Ae+le.left+le.right).attr("height",Ce+le.top)}),fe.renderEnd("sparklinePlus immediate"),te}var ae,se,ne=ee.models.sparkline(),le={top:15,right:100,bottom:10,left:50},ie=null,oe=null,re=[],de=!1,ce=d3.format(",r"),pe=d3.format(",.2f"),ge=!0,ue=!0,he=!1,me=null,ve=d3.dispatch("renderEnd"),fe=ee.utils.renderWatch(ve);return te.dispatch=ve,te.sparkline=ne,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return ie},set:function(xe){ie=xe}},height:{get:function(){return oe},set:function(xe){oe=xe}},xTickFormat:{get:function(){return ce},set:function(xe){ce=xe}},yTickFormat:{get:function(){return pe},set:function(xe){pe=xe}},showLastValue:{get:function(){return ge},set:function(xe){ge=xe}},alignValue:{get:function(){return ue},set:function(xe){ue=xe}},rightAlignValue:{get:function(){return he},set:function(xe){he=xe}},noData:{get:function(){return me},set:function(xe){me=xe}},margin:{get:function(){return le},set:function(xe){le.top=void 0===xe.top?le.top:xe.top,le.right=void 0===xe.right?le.right:xe.right,le.bottom=void 0===xe.bottom?le.bottom:xe.bottom,le.left=void 0===xe.left?le.left:xe.left}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.stackedArea=function(){"use strict";function te(we){return ke.reset(),ke.models(xe),we.each(function(Ae){var Ce=le-ne.left-ne.right,Me=ie-ne.top-ne.bottom;de=d3.select(this),ee.utils.initSVG(de),ae=xe.xScale(),se=xe.yScale();var Se=Ae;Ae.forEach(function(Oe,ze){Oe.seriesIndex=ze,Oe.values=Oe.values.map(function(Ie,Ve){return Ie.index=Ve,Ie.seriesIndex=ze,Ie})});var Ee=Ae.filter(function(Oe){return!Oe.disabled});Ae=d3.layout.stack().order(me).offset(he).values(function(Oe){return Oe.values}).x(ce).y(pe).out(function(Oe,ze,Ie){Oe.display={y:Ie,y0:ze}})(Ee);var We=de.selectAll("g.nv-wrap.nv-stackedarea").data([Ae]),Fe=We.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),De=Fe.append("defs"),_e=Fe.append("g"),Le=We.select("g");_e.append("g").attr("class","nv-areaWrap"),_e.append("g").attr("class","nv-scatterWrap"),We.attr("transform","translate("+ne.left+","+ne.top+")"),0==xe.forceY().length&&xe.forceY().push(0),xe.width(Ce).height(Me).x(ce).y(function(Oe){return void 0===Oe.display?void 0:Oe.display.y+Oe.display.y0}).color(Ae.map(function(Oe){return Oe.color=Oe.color||oe(Oe,Oe.seriesIndex),Oe.color}));var Be=Le.select(".nv-scatterWrap").datum(Ae);Be.call(xe),De.append("clipPath").attr("id","nv-edge-clip-"+re).append("rect"),We.select("#nv-edge-clip-"+re+" rect").attr("width",Ce).attr("height",Me),Le.attr("clip-path",fe?"url(#nv-edge-clip-"+re+")":"");var Pe=d3.svg.area().defined(ge).x(function(Oe,ze){return ae(ce(Oe,ze))}).y0(function(Oe){return se(Oe.display.y0)}).y1(function(Oe){return se(Oe.display.y+Oe.display.y0)}).interpolate(ve),Ne=d3.svg.area().defined(ge).x(function(Oe,ze){return ae(ce(Oe,ze))}).y0(function(Oe){return se(Oe.display.y0)}).y1(function(Oe){return se(Oe.display.y0)}),Te=Le.select(".nv-areaWrap").selectAll("path.nv-area").data(function(Oe){return Oe});Te.enter().append("path").attr("class",function(Oe,ze){return"nv-area nv-area-"+ze}).attr("d",function(Oe){return Ne(Oe.values,Oe.seriesIndex)}).on("mouseover",function(Oe){d3.select(this).classed("hover",!0),ye.areaMouseover({point:Oe,series:Oe.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:Oe.seriesIndex})}).on("mouseout",function(Oe){d3.select(this).classed("hover",!1),ye.areaMouseout({point:Oe,series:Oe.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:Oe.seriesIndex})}).on("click",function(Oe){d3.select(this).classed("hover",!1),ye.areaClick({point:Oe,series:Oe.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:Oe.seriesIndex})}),Te.exit().remove(),Te.style("fill",function(Oe){return Oe.color||oe(Oe,Oe.seriesIndex)}).style("stroke",function(Oe){return Oe.color||oe(Oe,Oe.seriesIndex)}),Te.watchTransition(ke,"stackedArea path").attr("d",function(Oe,ze){return Pe(Oe.values,ze)}),xe.dispatch.on("elementMouseover.area",function(Oe){Le.select(".nv-chart-"+re+" .nv-area-"+Oe.seriesIndex).classed("hover",!0)}),xe.dispatch.on("elementMouseout.area",function(Oe){Le.select(".nv-chart-"+re+" .nv-area-"+Oe.seriesIndex).classed("hover",!1)}),te.d3_stackedOffset_stackPercent=function(Oe){var ze,Ie,Ve,He=Oe.length,Ge=Oe[0].length,Ye=[];for(Ie=0;Ge>Ie;++Ie){for(ze=0,Ve=0;ze<Se.length;ze++)Ve+=pe(Se[ze].values[Ie]);if(Ve)for(ze=0;He>ze;ze++)Oe[ze][Ie][1]/=Ve;else for(ze=0;He>ze;ze++)Oe[ze][Ie][1]=0}for(Ie=0;Ge>Ie;++Ie)Ye[Ie]=0;return Ye}}),ke.renderEnd("stackedArea immediate"),te}var ae,se,ne={top:0,right:0,bottom:0,left:0},le=960,ie=500,oe=ee.utils.defaultColor(),re=Math.floor(1e5*Math.random()),de=null,ce=function(we){return we.x},pe=function(we){return we.y},ge=function(we,Ae){return!isNaN(pe(we,Ae))&&null!==pe(we,Ae)},ue="stack",he="zero",me="default",ve="linear",fe=!1,xe=ee.models.scatter(),be=250,ye=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");xe.pointSize(2.2).pointDomain([2.2,2.2]);var ke=ee.utils.renderWatch(ye,be);return te.dispatch=ye,te.scatter=xe,xe.dispatch.on("elementClick",function(){ye.elementClick.apply(this,arguments)}),xe.dispatch.on("elementMouseover",function(){ye.elementMouseover.apply(this,arguments)}),xe.dispatch.on("elementMouseout",function(){ye.elementMouseout.apply(this,arguments)}),te.interpolate=function(we){return arguments.length?(ve=we,te):ve},te.duration=function(we){return arguments.length?(be=we,ke.reset(be),xe.duration(be),te):be},te.dispatch=ye,te.scatter=xe,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return le},set:function(we){le=we}},height:{get:function(){return ie},set:function(we){ie=we}},defined:{get:function(){return ge},set:function(we){ge=we}},clipEdge:{get:function(){return fe},set:function(we){fe=we}},offset:{get:function(){return he},set:function(we){he=we}},order:{get:function(){return me},set:function(we){me=we}},interpolate:{get:function(){return ve},set:function(we){ve=we}},x:{get:function(){return ce},set:function(we){ce=d3.functor(we)}},y:{get:function(){return pe},set:function(we){pe=d3.functor(we)}},margin:{get:function(){return ne},set:function(we){ne.top=void 0===we.top?ne.top:we.top,ne.right=void 0===we.right?ne.right:we.right,ne.bottom=void 0===we.bottom?ne.bottom:we.bottom,ne.left=void 0===we.left?ne.left:we.left}},color:{get:function(){return oe},set:function(we){oe=ee.utils.getColor(we)}},style:{get:function(){return ue},set:function(we){switch(ue=we){case"stack":te.offset("zero"),te.order("default");break;case"stream":te.offset("wiggle"),te.order("inside-out");break;case"stream-center":te.offset("silhouette"),te.order("inside-out");break;case"expand":te.offset("expand"),te.order("default");break;case"stack_percent":te.offset(te.d3_stackedOffset_stackPercent),te.order("default");}}},duration:{get:function(){return be},set:function(we){be=we,ke.reset(be),xe.duration(be)}}}),ee.utils.inheritOptions(te,xe),ee.utils.initOptions(te),te},ee.models.stackedAreaChart=function(){"use strict";function te(Ge){return Oe.reset(),Oe.models(ne),ye&&Oe.models(le),ke&&Oe.models(ie),Ge.each(function(Ye){function Xe(){ye&&$e.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+je+")").transition().duration(Pe).call(le)}function Re(){if(ke){if("expand"===ne.style()||"stack_percent"===ne.style()){var dt=ie.tickFormat();Ne&&dt===He||(Ne=dt),ie.tickFormat(He)}else Ne&&(ie.tickFormat(Ne),Ne=null);$e.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(ie)}}function Ze(dt){var ct=$e.select(".nv-focus .nv-stackedWrap").datum(Ye.filter(function(pt){return!pt.disabled}).map(function(pt){return{key:pt.key,area:pt.area,classed:pt.classed,values:pt.values.filter(function(ut,ht){return ne.x()(ut,ht)>=dt[0]&&ne.x()(ut,ht)<=dt[1]}),disableTooltip:pt.disableTooltip}}));ct.transition().duration(Pe).call(ne),Xe(),Re()}var qe=d3.select(this);ee.utils.initSVG(qe);var Ke=ee.utils.availableWidth(he,qe,ge),je=ee.utils.availableHeight(me,qe,ge)-(Ae?pe.height():0);if(te.update=function(){qe.transition().duration(Pe).call(te)},te.container=this,Ee.setter(Ve(Ye),te.update).getter(Ie(Ye)).update(),Ee.disabled=Ye.map(function(dt){return!!dt.disabled}),!We){for(var Ue in We={},Ee)We[Ue]=Ee[Ue]instanceof Array?Ee[Ue].slice(0):Ee[Ue]}if(!(Ye&&Ye.length&&Ye.filter(function(dt){return dt.values.length}).length))return ee.utils.noData(te,qe),te;qe.selectAll(".nv-noData").remove(),ae=ne.xScale(),se=ne.yScale();var Qe=qe.selectAll("g.nv-wrap.nv-stackedAreaChart").data([Ye]),Je=Qe.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),$e=Qe.select("g");Je.append("g").attr("class","nv-legendWrap"),Je.append("g").attr("class","nv-controlsWrap");var et=Je.append("g").attr("class","nv-focus");if(et.append("g").attr("class","nv-background").append("rect"),et.append("g").attr("class","nv-x nv-axis"),et.append("g").attr("class","nv-y nv-axis"),et.append("g").attr("class","nv-stackedWrap"),et.append("g").attr("class","nv-interactive"),Je.append("g").attr("class","nv-focusWrap"),xe){var tt=fe&&"top"===be?Ke-_e:Ke;if(oe.width(tt),$e.select(".nv-legendWrap").datum(Ye).call(oe),"bottom"===be){var at=(ye?12:0)+10;ge.bottom=Math.max(oe.height()+at,ge.bottom),je=ee.utils.availableHeight(me,qe,ge)-(Ae?pe.height():0);var st=je+at;$e.select(".nv-legendWrap").attr("transform","translate(0,"+st+")")}else"top"===be&&(ue||ge.top==oe.height()||(ge.top=oe.height(),je=ee.utils.availableHeight(me,qe,ge)-(Ae?pe.height():0)),$e.select(".nv-legendWrap").attr("transform","translate("+(Ke-tt)+","+-ge.top+")"))}else $e.select(".nv-legendWrap").selectAll("*").remove();if(fe){var nt=[{key:Be.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=ne.style(),style:"stack"},{key:Be.stream||"Stream",metaKey:"Stream",disabled:"stream"!=ne.style(),style:"stream"},{key:Be.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=ne.style(),style:"expand"},{key:Be.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=ne.style(),style:"stack_percent"}];_e=260*(Le.length/3),nt=nt.filter(function(dt){return-1!==Le.indexOf(dt.metaKey)}),re.width(_e).color(["#444","#444","#444"]),$e.select(".nv-controlsWrap").datum(nt).call(re);var lt=Math.max(re.height(),xe&&"top"===be?oe.height():0);ge.top!=lt&&(ge.top=lt,je=ee.utils.availableHeight(me,qe,ge)-(Ae?pe.height():0)),$e.select(".nv-controlsWrap").attr("transform","translate(0,"+-ge.top+")")}else $e.select(".nv-controlsWrap").selectAll("*").remove();Qe.attr("transform","translate("+ge.left+","+ge.top+")"),we&&$e.select(".nv-y.nv-axis").attr("transform","translate("+Ke+",0)"),Ce&&(de.width(Ke).height(je).margin({left:ge.left,top:ge.top}).svgContainer(qe).xScale(ae),Qe.select(".nv-interactive").call(de)),$e.select(".nv-focus .nv-background rect").attr("width",Ke).attr("height",je),ne.width(Ke).height(je).color(Ye.map(function(dt,ct){return dt.color||ve(dt,ct)}).filter(function(dt,ct){return!Ye[ct].disabled}));var it=$e.select(".nv-focus .nv-stackedWrap").datum(Ye.filter(function(dt){return!dt.disabled}));if(ye&&le.scale(ae)._ticks(ee.utils.calcTicksX(Ke/100,Ye)).tickSize(-je,0),ke){var ot;ot="wiggle"===ne.offset()?0:ee.utils.calcTicksY(je/36,Ye),ie.scale(se)._ticks(ot).tickSize(-Ke,0)}if(Ae){pe.width(Ke),$e.select(".nv-focusWrap").attr("transform","translate(0,"+(je+ge.bottom+pe.margin().top)+")").datum(Ye.filter(function(dt){return!dt.disabled})).call(pe);var rt=pe.brush.empty()?pe.xDomain():pe.brush.extent();null!==rt&&Ze(rt)}else it.transition().call(ne),Xe(),Re();ne.dispatch.on("areaClick.toggle",function(dt){1===Ye.filter(function(ct){return!ct.disabled}).length?Ye.forEach(function(ct){ct.disabled=!1}):Ye.forEach(function(ct,pt){ct.disabled=pt!=dt.seriesIndex}),Ee.disabled=Ye.map(function(ct){return!!ct.disabled}),De.stateChange(Ee),te.update()}),oe.dispatch.on("stateChange",function(dt){for(var ct in dt)Ee[ct]=dt[ct];De.stateChange(Ee),te.update()}),re.dispatch.on("legendClick",function(dt){dt.disabled&&(nt=nt.map(function(pt){return pt.disabled=!0,pt}),dt.disabled=!1,ne.style(dt.style),Ee.style=ne.style(),De.stateChange(Ee),te.update())}),de.dispatch.on("elementMousemove",function(dt){ne.clearHighlights();var ct,pt,gt,ut=[],ht=0,mt=!0;if(Ye.filter(function(yt,kt){return yt.seriesIndex=kt,!yt.disabled}).forEach(function(yt,kt){pt=ee.interactiveBisect(yt.values,dt.pointXValue,te.x());var wt=yt.values[pt],At=te.y()(wt,pt);if(null!=At&&ne.highlightPoint(kt,pt,!0),"undefined"!=typeof wt){"undefined"==typeof ct&&(ct=wt),"undefined"==typeof gt&&(gt=te.xScale()(te.x()(wt,pt)));var Ct="expand"==ne.style()?wt.display.y:te.y()(wt,pt);ut.push({key:yt.key,value:Ct,color:ve(yt,yt.seriesIndex),point:wt}),Me&&"expand"!=ne.style()&&null!=Ct&&(ht+=Ct,mt=!1)}}),ut.reverse(),2<ut.length){var vt=te.yScale().invert(dt.mouseY),ft=null;ut.forEach(function(yt,kt){vt=Math.abs(vt);var wt=Math.abs(yt.point.display.y0),At=Math.abs(yt.point.display.y);return vt>=wt&&At+wt>=vt?void(ft=kt):void 0}),null!=ft&&(ut[ft].highlight=!0)}Me&&"expand"!=ne.style()&&2<=ut.length&&!mt&&ut.push({key:Se,value:ht,total:!0});var xt=te.x()(ct,pt),bt=de.tooltip.valueFormatter();"expand"===ne.style()||"stack_percent"===ne.style()?(Te||(Te=bt),bt=d3.format(".1%")):Te&&(bt=Te,Te=null),de.tooltip.valueFormatter(bt).data({value:xt,series:ut})(),de.renderGuideLine(gt)}),de.dispatch.on("elementMouseout",function(){ne.clearHighlights()}),pe.dispatch.on("onBrush",function(dt){Ze(dt)}),De.on("changeState",function(dt){"undefined"!=typeof dt.disabled&&Ye.length===dt.disabled.length&&(Ye.forEach(function(ct,pt){ct.disabled=dt.disabled[pt]}),Ee.disabled=dt.disabled),"undefined"!=typeof dt.style&&(ne.style(dt.style),ze=dt.style),te.update()})}),Oe.renderEnd("stacked Area chart immediate"),te}var ae,se,ne=ee.models.stackedArea(),le=ee.models.axis(),ie=ee.models.axis(),oe=ee.models.legend(),re=ee.models.legend(),de=ee.interactiveGuideline(),ce=ee.models.tooltip(),pe=ee.models.focus(ee.models.stackedArea()),ge={top:10,right:25,bottom:50,left:60},ue=null,he=null,me=null,ve=ee.utils.defaultColor(),fe=!0,xe=!0,be="top",ye=!0,ke=!0,we=!1,Ae=!1,Ce=!1,Me=!0,Se="TOTAL",Ee=ee.utils.state(),We=null,Fe=null,De=d3.dispatch("stateChange","changeState","renderEnd"),_e=250,Le=["Stacked","Stream","Expanded"],Be={},Pe=250;Ee.style=ne.style(),le.orient("bottom").tickPadding(7),ie.orient(we?"right":"left"),ce.headerFormatter(function(Ge,Ye){return le.tickFormat()(Ge,Ye)}).valueFormatter(function(Ge,Ye){return ie.tickFormat()(Ge,Ye)}),de.tooltip.headerFormatter(function(Ge,Ye){return le.tickFormat()(Ge,Ye)}).valueFormatter(function(Ge,Ye){return null==Ge?"N/A":ie.tickFormat()(Ge,Ye)});var Ne=null,Te=null;re.updateState(!1);var Oe=ee.utils.renderWatch(De),ze=ne.style(),Ie=function(Ge){return function(){return{active:Ge.map(function(Ye){return!Ye.disabled}),style:ne.style()}}},Ve=function(Ge){return function(Ye){void 0!==Ye.style&&(ze=Ye.style),void 0!==Ye.active&&Ge.forEach(function(Xe,Re){Xe.disabled=!Ye.active[Re]})}},He=d3.format("%");return ne.dispatch.on("elementMouseover.tooltip",function(Ge){Ge.point.x=ne.x()(Ge.point),Ge.point.y=ne.y()(Ge.point),ce.data(Ge).hidden(!1)}),ne.dispatch.on("elementMouseout.tooltip",function(){ce.hidden(!0)}),te.dispatch=De,te.stacked=ne,te.legend=oe,te.controls=re,te.xAxis=le,te.x2Axis=pe.xAxis,te.yAxis=ie,te.y2Axis=pe.yAxis,te.interactiveLayer=de,te.tooltip=ce,te.focus=pe,te.dispatch=De,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{width:{get:function(){return he},set:function(Ge){he=Ge}},height:{get:function(){return me},set:function(Ge){me=Ge}},showLegend:{get:function(){return xe},set:function(Ge){xe=Ge}},legendPosition:{get:function(){return be},set:function(Ge){be=Ge}},showXAxis:{get:function(){return ye},set:function(Ge){ye=Ge}},showYAxis:{get:function(){return ke},set:function(Ge){ke=Ge}},defaultState:{get:function(){return We},set:function(Ge){We=Ge}},noData:{get:function(){return Fe},set:function(Ge){Fe=Ge}},showControls:{get:function(){return fe},set:function(Ge){fe=Ge}},controlLabels:{get:function(){return Be},set:function(Ge){Be=Ge}},controlOptions:{get:function(){return Le},set:function(Ge){Le=Ge}},showTotalInTooltip:{get:function(){return Me},set:function(Ge){Me=Ge}},totalLabel:{get:function(){return Se},set:function(Ge){Se=Ge}},focusEnable:{get:function(){return Ae},set:function(Ge){Ae=Ge}},focusHeight:{get:function(){return pe.height()},set:function(Ge){pe.height(Ge)}},brushExtent:{get:function(){return pe.brushExtent()},set:function(Ge){pe.brushExtent(Ge)}},margin:{get:function(){return ge},set:function(Ge){void 0!==Ge.top&&(ge.top=Ge.top,ue=Ge.top),ge.right=void 0===Ge.right?ge.right:Ge.right,ge.bottom=void 0===Ge.bottom?ge.bottom:Ge.bottom,ge.left=void 0===Ge.left?ge.left:Ge.left}},focusMargin:{get:function(){return pe.margin},set:function(Ge){pe.margin.top=void 0===Ge.top?pe.margin.top:Ge.top,pe.margin.right=void 0===Ge.right?pe.margin.right:Ge.right,pe.margin.bottom=void 0===Ge.bottom?pe.margin.bottom:Ge.bottom,pe.margin.left=void 0===Ge.left?pe.margin.left:Ge.left}},duration:{get:function(){return Pe},set:function(Ge){Pe=Ge,Oe.reset(Pe),ne.duration(Pe),le.duration(Pe),ie.duration(Pe)}},color:{get:function(){return ve},set:function(Ge){ve=ee.utils.getColor(Ge),oe.color(ve),ne.color(ve),pe.color(ve)}},x:{get:function(){return ne.x()},set:function(Ge){ne.x(Ge),pe.x(Ge)}},y:{get:function(){return ne.y()},set:function(Ge){ne.y(Ge),pe.y(Ge)}},rightAlignYAxis:{get:function(){return we},set:function(Ge){we=Ge,ie.orient(we?"right":"left")}},useInteractiveGuideline:{get:function(){return Ce},set:function(Ge){Ce=!!Ge,te.interactive(!Ge),te.useVoronoi(!Ge),ne.scatter.interactive(!Ge)}}}),ee.utils.inheritOptions(te,ne),ee.utils.initOptions(te),te},ee.models.stackedAreaWithFocusChart=function(){return ee.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},ee.models.sunburst=function(){"use strict";function te(Oe){var ze=ae(Oe);return 90<ze?180:0}function ae(Oe){var ze=Math.max(0,Math.min(2*Math.PI,_e(Oe.x))),Ie=Math.max(0,Math.min(2*Math.PI,_e(Oe.x+Oe.dx))),Ve=(ze+Ie)/2*(180/Math.PI)-90;return Ve}function se(Oe){var ze=Math.max(0,Math.min(2*Math.PI,_e(Oe.x))),Ie=Math.max(0,Math.min(2*Math.PI,_e(Oe.x+Oe.dx)));return(Ie-ze)/(2*Math.PI)}function ne(Oe){var ze=Math.max(0,Math.min(2*Math.PI,_e(Oe.x))),Ie=Math.max(0,Math.min(2*Math.PI,_e(Oe.x+Oe.dx)));return Ie-ze>Me}function le(Oe,ze){var Ie=d3.interpolate(_e.domain(),[pe.x,pe.x+pe.dx]),Ve=d3.interpolate(Le.domain(),[pe.y,1]),He=d3.interpolate(Le.range(),[pe.y?20:0,he]);return 0===ze?function(){return Ne(Oe)}:function(Ge){return _e.domain(Ie(Ge)),Le.domain(Ve(Ge)).range(He(Ge)),Ne(Oe)}}function ie(Oe){var ze=d3.interpolate({x:Oe.x0,dx:Oe.dx0,y:Oe.y0,dy:Oe.dy0},Oe);return function(Ie){var Ve=ze(Ie);return Oe.x0=Ve.x,Oe.dx0=Ve.dx,Oe.y0=Ve.y,Oe.dy0=Ve.dy,Ne(Ve)}}function oe(Oe){var ze=Ee(Oe);Pe[ze]||(Pe[ze]={});var Ie=Pe[ze];Ie.dx=Oe.dx,Ie.x=Oe.x,Ie.dy=Oe.dy,Ie.y=Oe.y}function re(Oe){Oe.forEach(function(ze){var Ie=Ee(ze),Ve=Pe[Ie];Ve?(ze.dx0=Ve.dx,ze.x0=Ve.x,ze.dy0=Ve.dy,ze.y0=Ve.y):(ze.dx0=ze.dx,ze.x0=ze.x,ze.dy0=ze.dy,ze.y0=ze.y),oe(ze)})}function de(Oe){var ze=ke.selectAll("text"),Ie=ke.selectAll("path");ze.transition().attr("opacity",0),pe=Oe,Ie.transition().duration(Fe).attrTween("d",le).each("end",function(Ve){if(Ve.x>=Oe.x&&Ve.x<Oe.x+Oe.dx&&Ve.depth>=Oe.depth){var He=d3.select(this.parentNode),Ge=He.select("text");Ge.transition().duration(Fe).text(function(Ye){return Ce(Ye)}).attr("opacity",function(Ye){return ne(Ye)?1:0}).attr("transform",function(){var Ye=this.getBBox().width;if(0===Ve.depth)return"translate("+-1*(Ye/2)+",0)";if(Ve.depth===Oe.depth)return"translate("+(Le(Ve.y)+5)+",0)";var Xe=ae(Ve),Re=te(Ve);return 0===Re?"rotate("+Xe+")translate("+(Le(Ve.y)+5)+",0)":"rotate("+Xe+")translate("+(Le(Ve.y)+Ye+5)+",0)rotate("+Re+")"})}})}function ce(Oe){return Te.reset(),Oe.each(function(ze){ke=d3.select(this),ge=ee.utils.availableWidth(ve,ke,me),ue=ee.utils.availableHeight(fe,ke,me),he=Math.min(ge,ue)/2,Le.range([0,he]);var Ie=ke.select("g.nvd3.nv-wrap.nv-sunburst");Ie[0][0]?Ie.attr("transform","translate("+(ge/2+me.left+me.right)+","+(ue/2+me.top+me.bottom)+")"):Ie=ke.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+ye).attr("transform","translate("+(ge/2+me.left+me.right)+","+(ue/2+me.top+me.bottom)+")"),ke.on("click",function(Ye,Xe){De.chartClick({data:Ye,index:Xe,pos:d3.event,id:ye})}),Be.value(be[xe]||be.count);var Ve=Be.nodes(ze[0]).reverse();re(Ve);var He=Ie.selectAll(".arc-container").data(Ve,Ee),Ge=He.enter().append("g").attr("class","arc-container");Ge.append("path").attr("d",Ne).style("fill",function(Ye){return Ye.color?Ye.color:we(We?(Ye.children?Ye:Ye.parent).name:Ye.name)}).style("stroke","#FFF").on("click",function(Ye,Xe){de(Ye),De.elementClick({data:Ye,index:Xe})}).on("mouseover",function(Ye){d3.select(this).classed("hover",!0).style("opacity",.8),De.elementMouseover({data:Ye,color:d3.select(this).style("fill"),percent:se(Ye)})}).on("mouseout",function(Ye){d3.select(this).classed("hover",!1).style("opacity",1),De.elementMouseout({data:Ye})}).on("mousemove",function(Ye){De.elementMousemove({data:Ye})}),He.each(function(){d3.select(this).select("path").transition().duration(Fe).attrTween("d",ie)}),Ae&&(He.selectAll("text").remove(),He.append("text").text(function(Ye){return Ce(Ye)}).transition().duration(Fe).attr("opacity",function(Ye){return ne(Ye)?1:0}).attr("transform",function(Ye){var Xe=this.getBBox().width;if(0===Ye.depth)return"rotate(0)translate("+-1*(Xe/2)+",0)";var Re=ae(Ye),Ze=te(Ye);return 0===Ze?"rotate("+Re+")translate("+(Le(Ye.y)+5)+",0)":"rotate("+Re+")translate("+(Le(Ye.y)+Xe+5)+",0)rotate("+Ze+")"})),de(Ve[Ve.length-1]),He.exit().transition().duration(Fe).attr("opacity",0).each("end",function(Ye){var Xe=Ee(Ye);Pe[Xe]=void 0}).remove()}),Te.renderEnd("sunburst immediate"),ce}var pe,ge,ue,he,me={top:0,right:0,bottom:0,left:0},ve=600,fe=600,xe="count",be={count:function(){return 1},value:function(Oe){return Oe.value||Oe.size},size:function(Oe){return Oe.value||Oe.size}},ye=Math.floor(1e4*Math.random()),ke=null,we=ee.utils.defaultColor(),Ae=!1,Ce=function(Oe){return"count"===xe?Oe.name+" #"+Oe.value:Oe.name+" "+(Oe.value||Oe.size)},Me=.02,Se=function(Oe,ze){return Oe.name>ze.name},Ee=function(Oe){return Oe.name},We=!0,Fe=500,De=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),_e=d3.scale.linear().range([0,2*Math.PI]),Le=d3.scale.sqrt(),Be=d3.layout.partition().sort(Se),Pe={},Ne=d3.svg.arc().startAngle(function(Oe){return Math.max(0,Math.min(2*Math.PI,_e(Oe.x)))}).endAngle(function(Oe){return Math.max(0,Math.min(2*Math.PI,_e(Oe.x+Oe.dx)))}).innerRadius(function(Oe){return Math.max(0,Le(Oe.y))}).outerRadius(function(Oe){return Math.max(0,Le(Oe.y+Oe.dy))}),Te=ee.utils.renderWatch(De);return ce.dispatch=De,ce.options=ee.utils.optionsFunc.bind(ce),ce._options=Object.create({},{width:{get:function(){return ve},set:function(Oe){ve=Oe}},height:{get:function(){return fe},set:function(Oe){fe=Oe}},mode:{get:function(){return xe},set:function(Oe){xe=Oe}},id:{get:function(){return ye},set:function(Oe){ye=Oe}},duration:{get:function(){return Fe},set:function(Oe){Fe=Oe}},groupColorByParent:{get:function(){return We},set:function(Oe){We=!!Oe}},showLabels:{get:function(){return Ae},set:function(Oe){Ae=!!Oe}},labelFormat:{get:function(){return Ce},set:function(Oe){Ce=Oe}},labelThreshold:{get:function(){return Me},set:function(Oe){Me=Oe}},sort:{get:function(){return Se},set:function(Oe){Se=Oe}},key:{get:function(){return Ee},set:function(Oe){Ee=Oe}},margin:{get:function(){return me},set:function(Oe){me.top=void 0==Oe.top?me.top:Oe.top,me.right=void 0==Oe.right?me.right:Oe.right,me.bottom=void 0==Oe.bottom?me.bottom:Oe.bottom,me.left=void 0==Oe.left?me.left:Oe.left}},color:{get:function(){return we},set:function(Oe){we=ee.utils.getColor(Oe)}}}),ee.utils.initOptions(ce),ce},ee.models.sunburstChart=function(){"use strict";function te(he){return ue.reset(),ue.models(ae),he.each(function(me){var ve=d3.select(this);ee.utils.initSVG(ve);var fe=ee.utils.availableWidth(le,ve,ne),xe=ee.utils.availableHeight(ie,ve,ne);return te.update=function(){0===pe?ve.call(te):ve.transition().duration(pe).call(te)},te.container=ve,me&&me.length?(ve.selectAll(".nv-noData").remove(),ae.width(fe).height(xe).margin(ne),void ve.call(ae)):(ee.utils.noData(te,ve),te)}),ue.renderEnd("sunburstChart immediate"),te}var ae=ee.models.sunburst(),se=ee.models.tooltip(),ne={top:30,right:20,bottom:20,left:20},le=null,ie=null,oe=ee.utils.defaultColor(),re=!1,de=(Math.round(1e5*Math.random()),null),ce=null,pe=250,ge=d3.dispatch("stateChange","changeState","renderEnd"),ue=ee.utils.renderWatch(ge);return se.duration(0).headerEnabled(!1).valueFormatter(function(he){return he}),ae.dispatch.on("elementMouseover.tooltip",function(he){he.series={key:he.data.name,value:he.data.value||he.data.size,color:he.color,percent:he.percent},re||(delete he.percent,delete he.series.percent),se.data(he).hidden(!1)}),ae.dispatch.on("elementMouseout.tooltip",function(){se.hidden(!0)}),ae.dispatch.on("elementMousemove.tooltip",function(){se()}),te.dispatch=ge,te.sunburst=ae,te.tooltip=se,te.options=ee.utils.optionsFunc.bind(te),te._options=Object.create({},{noData:{get:function(){return ce},set:function(he){ce=he}},defaultState:{get:function(){return de},set:function(he){de=he}},showTooltipPercent:{get:function(){return re},set:function(he){re=he}},color:{get:function(){return oe},set:function(he){oe=he,ae.color(oe)}},duration:{get:function(){return pe},set:function(he){pe=he,ue.reset(pe),ae.duration(pe)}},margin:{get:function(){return ne},set:function(he){ne.top=void 0===he.top?ne.top:he.top,ne.right=void 0===he.right?ne.right:he.right,ne.bottom=void 0===he.bottom?ne.bottom:he.bottom,ne.left=void 0===he.left?ne.left:he.left,ae.margin(ne)}}}),ee.utils.inheritOptions(te,ae),ee.utils.initOptions(te),te},ee.version="1.8.5"}();</script><style is="custom-style" include="nvd3-shared-styles"></style><script>var NVD3=NVD3||{};NVD3.ChartBehaviorImpl={properties:{data:{type:Array,value:function(){return[]},observer:'_dataChanged'},svg:{type:Object},stopAutoDrawing:{type:Boolean,value:!1},autoResize:{type:Boolean,value:!1},color:{type:Array,value:function(){nv.utils.defaultColor()}},height:{type:Number},margin:{type:Object,value:function(){return{left:null,right:null,top:null,bottom:null}}},noData:{type:String},width:{type:Number},viewBoxHeight:{type:Number,value:100},viewBoxWidth:{type:Number,value:100},extraViewBoxWidth:{type:Number,value:50},_tooltipId:{type:String,readOnly:!0},flexSize:{type:Boolean,value:!1}},observers:['_setColor(color.length)','_setMargin(margin.top, margin.right, margin.bottom, margin.left)','_setNoData(noData)','_setWidth(width)','_setHeight(height)','_setShowLabels(showLabels)','_setShowLegend(showLegend)','_setUseInteractiveGuideline(useInteractiveGuideline)','_setGrowOnHover(growOnHover)','_setDisableTooltip(disableTooltip)'],listeners:{'iron-resize':'_onResize',transitionend:'_onTransitionEnd'},_onResize:function(){this.autoResize&&this.debounce('autoResize',function(){this.refresh()}.bind(this),200)},_onTransitionEnd:function(a){a.stopPropagation()},_setColor:function(){this._chart.color(this.color)},_setHeight:function(a){'number'===typeof a&&0<a&&(this.$$('div').style.height=a+'px')},_setMargin:function(a,b,c,d){a&&this._chart.margin({top:a}),b&&this._chart.margin({right:b}),c&&this._chart.margin({bottom:c}),d&&this._chart.margin({left:d})},_setNoData:function(a){this._chart.noData(a)},_setShowLabels:function(a){this._chart.showLabels(a)},_setShowLegend:function(a){this._chart.showLegend(a)},_setWidth:function(a){'number'===typeof a&&0<a&&(this.$$('div').style.width=a+'px')},_setUseInteractiveGuideline:function(){this._chart.useInteractiveGuideline(this.useInteractiveGuideline)},_setGrowOnHover:function(){this._chart.growOnHover(this.growOnHover)},_setDisableTooltip:function(a){this._chart.tooltip.enabled(!a)},_dataChanged:function(){this._chart&&(d3.select(this.svg).datum(this.data),this.refresh())},refresh:function(){this._chart.update&&this._chart.update()},generateChart:function(){nv.addGraph(function(){return d3.select(this.svg).datum(this.data).call(this._chart),this.flexSize&&(d3.select(this.svg).attr('width',this.viewBoxWidth+this.extraViewBoxWidth).attr('height',this.viewBoxHeight),this._chart.update()),this._set_tooltipId(this._chart.tooltip.id()),this._bindEvents(),this._chart}.bind(this))},_bindEvents:function(){let a={};this._components.forEach(function(b){this._chart[b].dispatch&&(a[b]=Object.keys(this._chart[b].dispatch))}.bind(this)),Object.keys(this._chart.dispatch).forEach(function(b){this._bindChartEvent(b)}.bind(this)),Object.keys(a).forEach(function(b){a[b].forEach(function(c){this._bindComponentEvent(b,c)}.bind(this))}.bind(this))},_bindChartEvent:function(a){this._chart.dispatch.on(a,function(b){this.fire(a,b)}.bind(this))},_bindComponentEvent:function(a,b){this._chart[a].dispatch.on(b,function(c){this.fire(b,c)}.bind(this))},ready:function(){this.set('svg',this.$.svg),this.scopeSubtree(this.$.svg,!0)},attached:function(){this.stopAutoDrawing||this.generateChart()},detached:function(){var a=document.getElementById(this._tooltipId);a&&a.remove()}},NVD3.ChartBehavior=[NVD3.ChartBehaviorImpl,Polymer.IronResizableBehavior];</script><dom-module id="nvd3-line" assetpath="../bower_components/nvd3-elements/"><template><style include="nvd3-shared-styles"></style><div><svg id="svg"></svg></div></template><script>Polymer({is:'nvd3-line',behaviors:[NVD3.ChartBehavior],properties:{_chart:{type:Object,value:function(){return nv.models.lineChart()}},showLegend:{type:Boolean,value:!1},useInteractiveGuideline:{type:Boolean,value:!1},xAxisLabels:{type:Object,value:{},observer:'_xAxisLabelsChanged'},_components:{type:Array,value:['lines','legend','focus','xAxis','x2Axis','yAxis','y2Axis','tooltip']}},_xAxisLabelsChanged:function(){var a=this.xAxisLabels;this._chart.xAxis.tickFormat(function(b){return a.hasOwnProperty(b)?a[b]:b})}});</script></dom-module><dom-module id="motor-telemetry-card"><template><style include="paper-material-styles">:host{display:flex;padding:10px;@apply --paper-material-elevation-2;}.left-pane{width:150px;}</style><div class="left-pane"><h2>[[measurable.conf.name]]</h2><div>[[measurable.telemetry.status]]</div><div>[[measurable.telemetry.value]] [[measurable.conf.units]]</div><div>[[measurable.telemetry.velocity]] [[measurable.conf.units]]/s</div><div>[[measurable.telemetry.acceleration]] [[measurable.conf.units]]/s<sup>2</sup></div></div><nvd3-line data="[[data]]" height="200" width="200" auto-resize="" show-legend="" use-interactive-guideline=""></nvd3-line></template><script>class MotorTelemetryCard extends Polymer.Element{static get is(){return"motor-telemetry-card"}static get properties(){return{}}ready(){super.ready(),this.data=[{values:[{x:0,y:0},{x:1,y:0.09983341664682815},{x:2,y:0.19866933079506122},{x:3,y:0.29552020666133955},{x:4,y:0.3894183423086505},{x:5,y:0.479425538604203},{x:6,y:0.5646424733950354},{x:7,y:0.644217687237691},{x:8,y:0.7173560908995229},{x:9,y:0.7833269096274834},{x:10,y:0.8414709848078965},{x:11,y:0.8912073600614354},{x:12,y:0.9320390859672263},{x:13,y:0.963558185417193},{x:14,y:0.9854497299884601},{x:15,y:0.9974},{x:16,y:0.9995},{x:17,y:0.9916},{x:18,y:0.9738476308781951},{x:19,y:0.9463000876874145},{x:20,y:0.9092974268256817},{x:21,y:0.8632093666488737},{x:22,y:0.8084964038195901},{x:23,y:0.7457052121767203},{x:24,y:0.675463180551151},{x:25,y:0.5984721441039564},{x:26,y:0.5155013718214642},{x:27,y:0.4273798802338298},{x:28,y:0.3349881501559051},{x:29,y:0.23924932921398243},{x:30,y:0.1411200080598672},{x:31,y:0.04158066243329049},{x:32,y:-0.058374143427580086},{x:33,y:-0.1577456941432482},{x:34,y:-0.2555411020268312},{x:35,y:-0.35078322768961984},{x:36,y:-0.44252044329485246},{x:37,y:-0.5298361409084934},{x:38,y:-0.6118578909427189},{x:39,y:-0.6877661591839738},{x:40,y:-0.7568024953079282},{x:41,y:-0.8182771110644103},{x:42,y:-0.8715757724135882},{x:43,y:-0.9161659367494549},{x:44,y:-0.9516020738895161},{x:45,y:-0.977530117665097},{x:46,y:-0.9936910036334644},{x:47,y:-0.9999},{x:48,y:-0.9961},{x:49,y:-0.9824},{x:50,y:-0.9589242746631385},{x:51,y:-0.9258146823277325},{x:52,y:-0.8834546557201531},{x:53,y:-0.8322674422239013},{x:54,y:-0.7727644875559871},{x:55,y:-0.7055403255703919},{x:56,y:-0.6312666378723216},{x:57,y:-0.5506855425976376},{x:58,y:-0.46460217941375737},{x:59,y:-0.373876664830236},{x:60,y:-0.27941549819892586},{x:61,y:-0.18216},{x:62,y:-0.083},{x:63,y:0.01681},{x:64,y:0.1165},{x:65,y:0.2151},{x:66,y:0.3115},{x:67,y:0.4048499206165983},{x:68,y:0.49411335113860816},{x:69,y:0.5784397643882002},{x:70,y:0.65698},{x:71,y:0.72896},{x:72,y:0.79366},{x:73,y:0.8504},{x:74,y:0.898},{x:75,y:0.9379},{x:76,y:0.9679},{x:77,y:0.9881},{x:78,y:0.9985},{x:79,y:0.9989},{x:80,y:0.9893},{x:81,y:0.969},{x:82,y:0.94},{x:83,y:0.902},{x:84,y:0.854598},{x:85,y:0.798},{x:86,y:0.734},{x:87,y:0.662},{x:88,y:0.584},{x:89,y:0.5010208564578846},{x:90,y:0.41211},{x:91,y:0.31909},{x:92,y:0.22288},{x:93,y:0.1244},{x:94,y:0.024775},{x:95,y:-0.0751511204618093},{x:96,y:-0.1743},{x:97,y:-0.2717},{x:98,y:-0.3664},{x:99,y:-0.457535}],key:"Example Data",color:"#ff7f0e"}]}}window.customElements.define(MotorTelemetryCard.is,MotorTelemetryCard);</script></dom-module><dom-module id="detector-telemetry-card"><template><style include="paper-material-styles">:host{display:flex;padding:10px;@apply --paper-material-elevation-2;}.left-pane{width:150px;}canvas{background:grey;}</style><div class="left-pane"><h2>[[measurable.conf.name]]</h2><div>[[measurable.telemetry.status]]</div></div><canvas width="200" height="200"></canvas></template><script>class DetectorTelemetryCard extends Polymer.Element{static get is(){return'detector-telemetry-card'}static get properties(){return{}}}window.customElements.define(DetectorTelemetryCard.is,DetectorTelemetryCard);</script></dom-module><dom-module id="telemetry-card"><template><style include="paper-material-styles">:host{display:block;}</style><template is="dom-if" if="[[isMotor(measurable.conf)]]"><motor-telemetry-card measurable="[[measurable]]"></motor-telemetry-card></template><template is="dom-if" if="[[isDetector(measurable.conf)]]"><detector-telemetry-card measurable="[[measurable]]"></detector-telemetry-card></template></template><script>class TelemetryCard extends Polymer.Element{static get is(){return'telemetry-card'}isDetector(a){return'camera'==a.type}isMotor(a){return'motor'==a.type}}window.customElements.define(TelemetryCard.is,TelemetryCard);</script></dom-module></div><dom-module id="controlroom-telemetry"><template><style include="shared-styles">:host{display:flex;flex-wrap:wrap;padding:10px;margin:auto;justify-content:space-between;}:host > *{flex-basis:30%;}</style><template is="dom-repeat" items="[[controllers]]"><telemetry-card measurable="[[item]]"></telemetry-card></template></template><script>class ControlroomTelemetry extends Polymer.Element{static get is(){return'controlroom-telemetry'}}window.customElements.define(ControlroomTelemetry.is,ControlroomTelemetry);</script></dom-module></body></html>