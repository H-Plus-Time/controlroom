<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/nvd3-elements/nvd3-line.html">
<link rel="import" href="../bower_components/paper-styles/element-styles/paper-material-styles.html">
<dom-module id="motor-telemetry-card">
  <template>
    <style include="paper-material-styles">
      :host {
        display: flex;
        padding:10px;
        @apply --paper-material-elevation-2;
      }
      .left-pane {
        width:150px;
      }
    </style>
    <div class="left-pane">
      <h2>[[measurable.conf.name]]</h2>
      <div>[[measurable.telemetry.status]]</div>
      <div>
        [[measurable.telemetry.value]] [[measurable.conf.units]]
      </div>
      <div>
        [[measurable.telemetry.velocity]] [[measurable.conf.units]]/s
      </div>
      <div>
        [[measurable.telemetry.acceleration]] [[measurable.conf.units]]/s<sup>2</sup>
      </div>
    </div>
    <nvd3-line
      data="[[data]]"
      height="200"
      width="200"
      auto-resize
      show-legend
      use-interactive-guideline>
    </nvd3-line>
    
    
  </template>
  <script>
    class MotorTelemetryCard extends Polymer.Element {
      static get is() { return 'motor-telemetry-card'; }
      static get properties() {
        return {
        }
      }
      ready() {
        super.ready();
        this.data = [{
      "values": [{
        "x": 0,
        "y": 0
      }, {
        "x": 1,
        "y": 0.09983341664682815
      }, {
        "x": 2,
        "y": 0.19866933079506122
      }, {
        "x": 3,
        "y": 0.29552020666133955
      }, {
        "x": 4,
        "y": 0.3894183423086505
      }, {
        "x": 5,
        "y": 0.479425538604203
      }, {
        "x": 6,
        "y": 0.5646424733950354
      }, {
        "x": 7,
        "y": 0.644217687237691
      }, {
        "x": 8,
        "y": 0.7173560908995229
      }, {
        "x": 9,
        "y": 0.7833269096274834
      }, {
        "x": 10,
        "y": 0.8414709848078965
      }, {
        "x": 11,
        "y": 0.8912073600614354
      }, {
        "x": 12,
        "y": 0.9320390859672263
      }, {
        "x": 13,
        "y": 0.963558185417193
      }, {
        "x": 14,
        "y": 0.9854497299884601
      }, {
        "x": 15,
        "y": 0.9974
      }, {
        "x": 16,
        "y": 0.9995
      }, {
        "x": 17,
        "y": 0.9916
      }, {
        "x": 18,
        "y": 0.9738476308781951
      }, {
        "x": 19,
        "y": 0.9463000876874145
      }, {
        "x": 20,
        "y": 0.9092974268256817
      }, {
        "x": 21,
        "y": 0.8632093666488737
      }, {
        "x": 22,
        "y": 0.8084964038195901
      }, {
        "x": 23,
        "y": 0.7457052121767203
      }, {
        "x": 24,
        "y": 0.675463180551151
      }, {
        "x": 25,
        "y": 0.5984721441039564
      }, {
        "x": 26,
        "y": 0.5155013718214642
      }, {
        "x": 27,
        "y": 0.4273798802338298
      }, {
        "x": 28,
        "y": 0.3349881501559051
      }, {
        "x": 29,
        "y": 0.23924932921398243
      }, {
        "x": 30,
        "y": 0.1411200080598672
      }, {
        "x": 31,
        "y": 0.04158066243329049
      }, {
        "x": 32,
        "y": -0.058374143427580086
      }, {
        "x": 33,
        "y": -0.1577456941432482
      }, {
        "x": 34,
        "y": -0.2555411020268312
      }, {
        "x": 35,
        "y": -0.35078322768961984
      }, {
        "x": 36,
        "y": -0.44252044329485246
      }, {
        "x": 37,
        "y": -0.5298361409084934
      }, {
        "x": 38,
        "y": -0.6118578909427189
      }, {
        "x": 39,
        "y": -0.6877661591839738
      }, {
        "x": 40,
        "y": -0.7568024953079282
      }, {
        "x": 41,
        "y": -0.8182771110644103
      }, {
        "x": 42,
        "y": -0.8715757724135882
      }, {
        "x": 43,
        "y": -0.9161659367494549
      }, {
        "x": 44,
        "y": -0.9516020738895161
      }, {
        "x": 45,
        "y": -0.977530117665097
      }, {
        "x": 46,
        "y": -0.9936910036334644
      }, {
        "x": 47,
        "y": -0.9999
      }, {
        "x": 48,
        "y": -0.9961
      }, {
        "x": 49,
        "y": -0.9824
      }, {
        "x": 50,
        "y": -0.9589242746631385
      }, {
        "x": 51,
        "y": -0.9258146823277325
      }, {
        "x": 52,
        "y": -0.8834546557201531
      }, {
        "x": 53,
        "y": -0.8322674422239013
      }, {
        "x": 54,
        "y": -0.7727644875559871
      }, {
        "x": 55,
        "y": -0.7055403255703919
      }, {
        "x": 56,
        "y": -0.6312666378723216
      }, {
        "x": 57,
        "y": -0.5506855425976376
      }, {
        "x": 58,
        "y": -0.46460217941375737
      }, {
        "x": 59,
        "y": -0.373876664830236
      }, {
        "x": 60,
        "y": -0.27941549819892586
      }, {
        "x": 61,
        "y": -0.18216
      }, {
        "x": 62,
        "y": -0.0830
      }, {
        "x": 63,
        "y": 0.01681
      }, {
        "x": 64,
        "y": 0.1165
      }, {
        "x": 65,
        "y": 0.2151
      }, {
        "x": 66,
        "y": 0.3115
      }, {
        "x": 67,
        "y": 0.4048499206165983
      }, {
        "x": 68,
        "y": 0.49411335113860816
      }, {
        "x": 69,
        "y": 0.5784397643882002
      }, {
        "x": 70,
        "y": 0.65698
      }, {
        "x": 71,
        "y": 0.72896
      }, {
        "x": 72,
        "y": 0.79366
      }, {
        "x": 73,
        "y": 0.8504
      }, {
        "x": 74,
        "y": 0.898
      }, {
        "x": 75,
        "y": 0.9379
      }, {
        "x": 76,
        "y": 0.9679
      }, {
        "x": 77,
        "y": 0.9881
      }, {
        "x": 78,
        "y": 0.9985
      }, {
        "x": 79,
        "y": 0.9989
      }, {
        "x": 80,
        "y": 0.9893
      }, {
        "x": 81,
        "y": 0.969
      }, {
        "x": 82,
        "y": 0.940
      }, {
        "x": 83,
        "y": 0.902
      }, {
        "x": 84,
        "y": 0.854598
      }, {
        "x": 85,
        "y": 0.798
      }, {
        "x": 86,
        "y": 0.734
      }, {
        "x": 87,
        "y": 0.662
      }, {
        "x": 88,
        "y": 0.584
      }, {
        "x": 89,
        "y": 0.5010208564578846
      }, {
        "x": 90,
        "y": 0.41211
      }, {
        "x": 91,
        "y": 0.31909
      }, {
        "x": 92,
        "y": 0.22288
      }, {
        "x": 93,
        "y": 0.1244
      }, {
        "x": 94,
        "y": 0.024775
      }, {
        "x": 95,
        "y": -0.0751511204618093
      }, {
        "x": 96,
        "y": -0.1743
      }, {
        "x": 97,
        "y": -0.2717
      }, {
        "x": 98,
        "y": -0.3664
      }, {
        "x": 99,
        "y": -0.457535
      }],
      "key": "Example Data",
      "color": "#ff7f0e"
    }];
      }
    }
    window.customElements.define(MotorTelemetryCard.is, MotorTelemetryCard);
  </script>
</dom-module>

<dom-module id="detector-telemetry-card">
  <template>
    <style include="paper-material-styles">
      :host {
        display:flex;
        padding:10px;
        @apply --paper-material-elevation-2;
      }
      .left-pane {
        width:150px;
      }
      canvas {
        background:grey;
      }
    </style>
    <div class="left-pane">
      <h2>[[measurable.conf.name]]</h2>
      <div>[[measurable.telemetry.status]]</div>
    </div>
    <canvas width="200" height="200"></canvas>
  </template>
  <script>
    class DetectorTelemetryCard extends Polymer.Element {
      static get is() { return 'detector-telemetry-card'; }
      static get properties() {
        return {

        }
      }
    }
    window.customElements.define(DetectorTelemetryCard.is, DetectorTelemetryCard);
  </script>
</dom-module>

<dom-module id="telemetry-card">
  <template>
    <style include="paper-material-styles">
      :host {
        display:block;
      }
    </style>
    <template is="dom-if" if="[[isMotor(measurable.conf)]]">
      <motor-telemetry-card measurable="[[measurable]]"></motor-telemetry-card>
    </template>
    <template is="dom-if" if="[[isDetector(measurable.conf)]]">
      <detector-telemetry-card measurable="[[measurable]]"></detector-telemetry-card>
    </template>
  </template>
  <script>
    class TelemetryCard extends Polymer.Element {
      static get is() { return 'telemetry-card'; }
      isDetector(conf) {
        return conf.type == 'camera';
      }
      isMotor(conf) {
        return conf.type == 'motor';
      }
    }
    window.customElements.define(TelemetryCard.is, TelemetryCard);
  </script>
</dom-module>